/**
 * compiled: 2024-02-19 09:25:56
 * version: 1.8.137
 * commit: 63eba7ffbb667ba7a3b4b6983de091c006eb7b61
 */

import{m as t,a as e,d as n,y as i,e as o,f as a,g as r,t as s,h as c,i as d,q as l,$ as u,b as p,c as h,j as f,F as g,p as m,k as w,P as b}from"./vendor.b62fa883.js";import{i as v,g as _,r as x,h as y,c as S,a as C,b as k,d as I,e as M,f as O,j as A,_ as B,k as T,u as j,l as P,m as F,n as W,o as N,p as V,q as D,s as R,t as E,v as z,w as L,x as H,y as q,z as U,A as G,B as K,C as Y,D as J,E as Q,F as Z,G as X,H as $,I as tt,J as et,K as nt,L as it,M as ot,N as at,O as rt,P as st,Q as ct,R as dt,S as lt,T as ut,U as pt,V as ht,W as ft,X as gt,Y as mt,Z as wt,$ as bt,a0 as vt,a1 as _t,a2 as xt,a3 as yt,a4 as St,a5 as Ct,a6 as kt,a7 as It,a8 as Mt,a9 as Ot,aa as At,ab as Bt,ac as Tt,ad as jt,ae as Pt,af as Ft,ag as Wt,ah as Nt,ai as Vt,aj as Dt,ak as Rt,al as Et,am as zt,an as Lt,ao as Ht,ap as qt,aq as Ut,ar as Gt,as as Kt,at as Yt,au as Jt,av as Qt,aw as Zt,ax as Xt,ay as $t,az as te,aA as ee,aB as ne,aC as ie,aD as oe,aE as ae,aF as re,aG as se,aH as ce}from"./common.43c58250.js";var de="centered",le="bottomMiddle",ue="bottomRight",pe="centeredWithOverlayBackground",he="middleLeft",fe="middleRight",ge=".buttonProgress__layerCircle,button{outline:0}.DayPicker-wrapper,.btn,.chat-input__toolbox,.emoji__cell,.form-fields .field-control-password .svg-icon{-webkit-user-select:none;-ms-user-select:none}.btn,button{-webkit-appearance:none}.btn,.buttonProgressBtnDefaultSize{width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}button{margin:0;padding:0;font-family:\"SourceSans Pro\",Arial}.article-list:focus,.global-showFocus a:focus,.global-showFocus button:focus{outline:#000001 auto 5px}.btn{text-decoration:none;zoom:1;display:inline-block;margin-bottom:0;font-size:.93333rem;font-weight:400;text-align:center;cursor:pointer;background-image:none;border:1px solid transparent;line-height:1.7;padding:4px 10px;font-family:\"SourceSans Pro\",Arial;border-radius:5px;user-select:none;position:relative;background-color:inherit;max-width:270px}.window--mobile:not(.window--ipad) .btn{max-width:unset}.window--circular .btn{border-radius:20px}.disabled{cursor:default;box-shadow:none!important}.btn-grey:active,.btn-primary:active{box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-primary{color:#00000e;background:#00000a;border:1px solid #00000a}.btn-primary.disabled{background-color:#00000a!important;border:1px solid #00000a!important}.btn-primary:focus,.btn-primary:hover{background:#000003;border:1px solid #000003;text-decoration:none}.btn-primary:active{background:#000003;border:1px solid #000003}.btn-grey{color:#000;background:#e8e8e8;border:1px solid #e8e8e8}.btn-grey:focus,.btn-grey:hover{background:#c4c4c4;border:1px solid #c4c4c4;text-decoration:none}.btn-grey:active{background:#e8e8e8;border:1px solid #e8e8e8}.buttonProgressContainer{position:relative;text-align:center}.buttonProgressBtnAnimated{animation-fill-mode:both}.buttonProgressContainerLoading .buttonProgressBtnAnimated,.buttonProgressContainerSuccess .buttonProgressBtnAnimated{animation-name:form__submit--loading;animation-duration:.4s;cursor:default}.window--ie .buttonProgressContainerLoading .buttonProgressBtnAnimated{animation:none;opacity:.65}@keyframes form__submit--loading{0%{border-radius:20px;text-indent:999em;background:#00000a;border:1px solid #00000a;width:128px;text-overflow:clip}99%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;text-overflow:clip}100%{border-radius:32px;text-indent:999em;background:0 0;border:1px solid transparent;width:32px;opacity:0;text-overflow:clip}}.lds-css,.lds-rolling{width:32px;height:32px}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.buttonProgress__layerSuccess,.lds-css{position:absolute;left:50%;top:50%;display:none}.buttonProgress__layerCircle,.buttonProgress__layerLoading,.lds-css{margin-top:-16px;margin-left:-16px}.buttonProgress__layerSuccess{margin-top:-8px;margin-left:-8px}.buttonProgressContainerLoading .buttonProgress__layerLoading,.buttonProgressContainerLoading .lds-css{display:block;animation:fadeIn 0s cubic-bezier(.785,.135,.15,.86) .4s both;cursor:default}.buttonProgressContainerSuccess .buttonProgress__layerLoading,.buttonProgressContainerSuccess .lds-css,.window--ie .buttonProgressContainerLoading .lds-css{display:none}.buttonProgressContainerSuccess .buttonProgress__layerCircle,.buttonProgressContainerSuccess .buttonProgress__layerSuccess{display:block;cursor:default}.buttonProgress__submitLoadingPath{fill:#00000a}.buttonProgress__submitCirclePath{stroke:#00000a;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:0;fill:#fff;fill-opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitCirclePath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitCirclePath-dash;animation-duration:.5s}@keyframes buttonProgress__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.buttonProgress__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0}.buttonProgressContainerSuccess .buttonProgress__submitSuccessPath{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:buttonProgress__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes buttonProgress__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}@keyframes lds-rolling{0%{transform:rotate(0) translateZ(0)}100%{transform:rotate(360deg) translateZ(0)}}.lds-rolling{position:absolute;border:3px solid #00000a;border-top-color:transparent;border-radius:50%;animation:lds-rolling .75s linear infinite}.window--ie .lds-rolling{animation:none}.form-fields--horizonal .container-checkboxlist,.form-fields--horizonal .container-radiolist{width:calc(100% - 80px);max-width:calc(100% - 80px)}.container-checkboxlist{display:inline-block;width:100%;max-width:100%}.container-checkbox{display:inline-block;position:relative;color:#333;padding-left:26px;width:100%;line-height:1.2rem}.container-checkbox.disable{pointer-events:none}.container-checkbox i{display:inline-block;width:16px;height:16px;position:absolute;left:0;top:0;margin-top:1px}.container-checkbox i.selected{display:block}.container-checkbox i.unselected,.horizontal,.prepend,.prependContainer{display:inline-block}.checkbox:focus+.selected .checkbox2,.selected .checkbox2{fill:#00000a}.checkbox2{fill:#ddd}.checkbox3{fill:#fff}.checkbox:focus+.unselected .checkbox2,.container-checkbox:hover>.unselected .checkbox2{fill:#00000a}.checkbox{position:absolute;z-index:-1;opacity:0;top:-2px;left:-2px;width:18px;height:16px}.horizontal{margin-right:10px}.control,.vertical{display:block}.container-checkbox input[type=Checkbox]:disabled~.checkbox__text,.container-checkbox input[type=Checkbox]:disabled~i svg{opacity:.6;pointer-events:none;cursor:default}.container-checkbox input[type=Checkbox]~.checkbox__text{cursor:pointer}.container-checkbox input[type=Checkbox]~i svg{cursor:pointer;width:15px;height:15px;margin-left:2px}.global-showFocus .container-checkbox input[type=Checkbox]:focus~i svg{outline:#00000a auto 1px}.checkbox1{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}.selected .checkbox1{fill:#00000a}.control{position:relative;padding-left:26px;margin-bottom:6px;cursor:pointer;font-size:.933333333333rem;color:#333;line-height:1.2rem}.control .radioText{line-height:1.2rem;padding-left:0}.control input[type=radio]{position:absolute;z-index:-1;opacity:0;top:-2px;left:-5px;width:18px;height:18px}.controlIndicator{position:absolute;top:0;left:0;margin-top:1px;height:16px;width:16px;border-radius:50%;overflow:hidden}.controlRadio .controlIndicator svg{width:16px;height:16px;border:1px solid #ddd;border-radius:50%;background-color:#fff}.control input[type=radio]:checked~.controlIndicator svg,.control input[type=radio]:focus~.controlIndicator svg,.control:hover input[type=radio]~.controlIndicator svg{border:1px solid #00000a}.control input[type=radio]~.controlIndicator svg circle{fill:#fff}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:#00000a;stroke:#00000a;stroke-width:1px}.control input[type=radio]:disabled~.controlIndicator{opacity:.6;pointer-events:none}.rating .starColor.opacity svg,.svg.disabled{opacity:.3}.control:hover input[type=radio]:disabled~.controlIndicator{border:none}.control input[type=radio]:checked~.controlIndicator svg circle:nth-child(2){fill:#fff}.global-showFocus .control input[type=radio]:focus~.controlIndicator{outline:#000003 auto 1px;outline-color:-webkit-focus-ring-color}.controlRadio.horizontal{float:left;margin-right:20px}.select-box{position:relative;padding:3px;height:35px;background:#fff;border-radius:5px}.select-box svg{position:absolute;width:9px;height:6px;top:calc(50% - 3px);right:10px;color:#333}.window--ie9 .select-box svg{display:none}.select-box .select{position:absolute;left:0;right:0;top:0;bottom:0;z-index:9;padding:5px 25px 5px 10px;background:0 0;height:100%;width:100%;color:#333;cursor:pointer;border:1px solid #ddd;outline:0;font-size:1.066667rem;font-family:inherit;appearance:none;border-radius:5px}.select-box .select:disabled{background-color:#f5f5f5}.embedded-window:not(.window--mobile) .select-box .select{font-size:.934rem}.select-box .select::-ms-expand{display:none}.select-box .select:focus{border-color:#00000a}.svg{width:16px;height:16px}.svg--loading{width:18px;height:18px}.svg--loadingChat{display:block;width:28px;height:28px;margin:0 auto}svg:hover{cursor:pointer}.svg.disabled:hover{cursor:default}.svgPath{fill:#000;width:16px;height:16px}.svgRatePath1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathSendFile1{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svgPathVideo1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVideo2{fill:none}.svgPathVoice1{fill:none;stroke:#000;stroke-miterlimit:10}.svgPathVoice2{fill:#000}.sendemail1{fill:none}.sendemail2{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10}.svg:not(.disabled):hover .sendemail1,.svg:not(.disabled):hover .svgPathSendFile1,.svg:not(.disabled):hover .svgPathVideo1,.svg:not(.disabled):hover .svgPathVoice1,.svg:not(.disabled):hover .svgRatePath1{fill:rgba(0,0,0,.3)}.svg.active .svgRatePath1{fill:#000}.svg-white .svgPathVoice2,.svgClosePath,.svgMinimizePath,.svgPopupPath{fill:#fff}.svg-white .sendemail2,.svg-white .svgPathSendFile1,.svg-white .svgPathVideo1,.svg-white .svgPathVoice1,.svg-white .svgRatePath1{stroke:#fff}.svg-white:not(.disabled):hover .sendemail1,.svg-white:not(.disabled):hover .svgPathSendFile1,.svg-white:not(.disabled):hover .svgPathVideo1,.svg-white:not(.disabled):hover .svgPathVoice1,.svg-white:not(.disabled):hover .svgRatePath1{fill:rgba(255,255,255,.3)}.svg-white.active .svgRatePath1{fill:#fff!important}.svg-white.active .svgPathSendFile1{fill:#fff!important;stroke:#000001!important}.svg-white.active .sendemail2{fill:none!important;stroke:transparent!important}.svg-white.active .sendemail1{fill:#fff!important}.svg-sidewindow-icon{width:25px;height:25px;fill:#a2a2a2;position:relative;border:1px solid transparent}.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:focus,.sideWindow:not(.sideWindow--mobile) .svg-sidewindow-icon:hover{border:1px solid #a2a2a2;border-radius:50%}.svg-sidewindow-icon-select-dark{border:1px solid #a2a2a2;border-radius:50%;fill:#000;background-color:#a2a2a2}.svg-sidewindow-icon-select-light{border:1px solid #a2a2a2;border-radius:50%;fill:#fff;background-color:#a2a2a2}.svg-sidewindow-icon-select-light-mobile{border:none;fill:#00000a;background-color:#fdfdfd}.svg-sidewindow-icon-select-dark-mobile{border:none;fill:#fdfdfd;background-color:#000}.window--circular .input{padding:5px 20px;border-radius:20px}.input,.multipleText{padding:5px 10px;outline:0}.input{border:1px solid #ddd;font-size:1.066667rem;-webkit-appearance:none;border-radius:5px}.embedded-window:not(.window--mobile) .input{font-size:.934rem}.input:disabled{background-color:#f5f5f5}.input[readOnly]{border:0}input.attachTicket{width:100px;margin-left:5px}.input:not(.input--effect01):focus{border-color:#00000a;outline:0}.prepend{line-height:18px;padding:5px 5px 4px;background-color:#fafafa}.prependContainer .input{border-top-left-radius:0;border-bottom-left-radius:0}.prependIcon{float:left;padding:0 6px 0 0}.defaultIcon{display:block;width:24px;height:24px}.inputContainer{position:relative;display:inline-block}.input.input--effect01{border:1px solid #ddd}.input__focusBorder{display:block}.input.input--effect01:focus{border-color:#00000a;transition:26ms;transition-delay:182ms}.window--circular .input.input--effect01~.input__focusBorder::after,.window--circular .input.input--effect01~.input__focusBorder::before{left:20px}.input.input--effect01~.input__focusBorder::after,.input.input--effect01~.input__focusBorder::before{content:\"\";position:absolute;top:0;left:5px;width:0;height:1px;background-color:#00000a}.input.input--effect01~.input__focusBorder::after{top:auto;bottom:0}.input.input--effect01~.input__focusBorder i::after,.input.input--effect01~.input__focusBorder i::before{content:\"\";position:absolute;top:50%;left:0;width:1px;height:0;background:#ddd}.window--circular .input.input--effect01~.input__focusBorder i::after{top:20px;height:calc(100% - 40px)}.input.input--effect01:not(.error):focus~.input__focusBorder i::before{background-color:#00000a}.input.input--effect01~.input__focusBorder i::after{left:auto;right:0;top:5px;bottom:0;height:calc(100% - 10px)}.window--circular .input.input--effect01:focus~.input__focusBorder::after,.window--circular .input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 40px)}.input.input--effect01:focus~.input__focusBorder::after,.input.input--effect01:focus~.input__focusBorder::before{width:calc(100% - 10px);transition:156ms;transition-delay:26ms}.window--circular .input.input--effect01:focus~.input__focusBorder i::after,.window--circular .input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 40px);top:20px}.input.input--effect01:focus~.input__focusBorder i::after,.input.input--effect01:focus~.input__focusBorder i::before{height:calc(100% - 10px);transition:26ms;top:5px}.input.input--effect01:focus~.input__focusBorder i::after{height:0;transition-delay:182ms;top:50%}.window--circular .input.input--effect01~.input__cornerLeft,.window--circular .input.input--effect01~.input__cornerRight{border-radius:20px}.input.input--effect01~.input__cornerLeft,.input.input--effect01~.input__cornerRight{width:0;display:block;border:0 solid #00000a;top:0;bottom:0;position:absolute;border-radius:5px}.window--circular .input.input--effect01:not(.error):focus~.input__cornerLeft,.window--circular .input.input--effect01:not(.error):focus~.input__cornerRight{width:20px}.input.input--effect01:not(.error):focus~.input__cornerLeft,.input.input--effect01:not(.error):focus~.input__cornerRight{width:10px;border-width:1px}.input.input--effect01:not(.error):focus~.input__cornerLeft{left:0;border-top-right-radius:0;border-bottom-right-radius:0;transition-delay:26ms;border-right-color:transparent}.input.input--effect01:not(.error):focus~.input__cornerRight{right:0;border-top-left-radius:0;border-bottom-left-radius:0;transition-delay:182ms;border-left-color:transparent;border-right-color:transparent}.input.error,.input.error:focus,.input.error:hover{border-color:#d34747}.input.error~.input__focusBorder i::after,.input.error~.input__focusBorder i::before,.input.error~.input__focusBorder::after,.input.error~.input__focusBorder::before{background:#d34747}input,textarea{-webkit-transform:translate3d(0,0,0)}input[type=search]{-webkit-appearance:textfield}.multipleText,.window--mobile input[type=search]{-webkit-appearance:none}input[type=search]::-webkit-search-decoration{-webkit-appearance:none}.multipleText{border:1px solid #ddd;transition:border-color .2s;border-radius:5px;width:100%;font-size:1.0666667rem;overflow:auto}:not(.window--mobile) .multipleText{font-size:.934rem}.multipleText:disabled{background-color:#f5f5f5}.multipleText:focus{border-color:#00000a;outline:0}.multipleText.error,.multipleText.error:focus,.multipleText.error:hover{border-color:#d34747}.window--circular .multipleText{border-radius:20px;padding:15px}.bubble-box{visibility:hidden;position:absolute;background:rgba(0,0,0,.5);z-index:2147483645;width:100%;height:100%;right:0;bottom:0}.bubble{position:relative;width:305px;background:#fff;padding:28px 18px;font-size:1rem;line-height:20px;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.3);z-index:99;text-align:left}.corner-style .prechatForm__social .prechatForm__socialBtn,.window--circular .bubble{border-radius:20px}.window--ie .bubble{top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.bubble-close,.rating .star{border:none;background:0 0;cursor:pointer}.bubble-box--show{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;visibility:visible;position:fixed}.window--ie .bubble-box--show{display:block}.bubble-box--show .bubble{animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--ie .bubble-box--show .bubble{animation:none}@keyframes showBubble{0%{transform:scale(0)}100%{transform:scale(1)}}.window--ie9 .bubble .bubble__operation .btn:first-child{margin-right:0}.bubble .bubble__operation .btn:first-child,.rating .star{margin-right:10px}.bubble-close{position:absolute;right:10px;top:10px}.bubble-close svg{width:10px;height:10px;fill:#626262}.bubble-close svg:hover{fill:#333}.bubble__operation{margin-top:10px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.embedded-end-chatConfirmAction .btn,.media-chat-ConfirmAction .btn{max-width:50%}.bubble--title{color:#333;font-size:1rem;margin-bottom:13px;word-wrap:break-word}.bubble--desc{font-size:1rem;color:#333;margin-bottom:27px;text-align:center}.rating{position:relative;height:24px}.rating .star{display:inline-block;position:relative;width:24px;height:24px;overflow:hidden}.rating .star svg{fill:#fff;stroke:#626262;width:24px;height:24px}.rating .star:last-child{margin-right:0}.window--bubble .form-fields--horizonal .rating .star{font-size:1.066667rem;line-height:16px;margin-right:6px}.window--circle .form-fields--horizonal .rating .star{font-size:1.666667rem;line-height:25px}.rating .starColor svg{fill:#c24700;stroke:#c24700}.rating .focusColor svg{stroke:#c24700;stroke-width:1px}.window__headerContainer,.window__headerVessel{-ms-flex-negative:0;flex-shrink:0}.window__headerContainer:focus{outline:0}.window__header{width:100%;min-height:30px;border-radius:5px 5px 0 0;transition:height 50ms linear}.window--circular .window__header{border-radius:20px 20px 20px 0}.window--mobile:not(.window--ipad) .window--circular .window__header{border-radius:0}.window--classic .window__header--fadeInDown{animation:fadeInDown 292ms both cubic-bezier(.785,.135,.15,.86);animation-delay:.3s}.window--ie .window--classic .window__header--fadeInDown{animation:none}.window__headerBox{padding:15px 27px 18px;width:100%}.window__header--hasAvatar .window__headerBox,.window__headerBox.window__headerBox--banner,.window__headerBox.window__headerBox--hasAvatars{padding:24px 27px 23px}.window__headerBox--onlylogo{min-height:85px}.window__headerBox--fadeInDown{opacity:1;-ms-transform:translateY(0);transform:translateY(0)}.title-buttons__operation{display:block;float:left;padding-left:10px;padding-right:10px}.window--circle:not(.window--embedded) .title-buttons__operation,.window--classic:not(.window--embedded) .title-buttons__operation{line-height:1}.window--mobile .title-buttons__operation{padding:0 9.5px}.title-buttons__operation .icon{cursor:pointer}.title-buttons__operation--text{border-left:2px solid rgba(255,255,255,.5)}.window--circle .title-buttons__operation--text{border-left-color:#a3a3a3;line-height:13px}.window--classic .title-buttons__operation--text{border-left-color:#000007;line-height:13px}.title-buttons__operation--text a{color:#fff;text-decoration:none;cursor:pointer;display:block;max-height:21px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--circle .title-buttons__operation--text a{color:#a3a3a3}.window--classic .window__headerBox{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .window__headerBox.window__headerBox--banner{display:block}.window--classic .window__headerBox--team{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.window--classic .header__agent--withlogo{margin-right:10px}.window--classic .title-buttons__operation--text a{color:#000004}.header__teamAvatar--gray .header__teamAvatarImg{filter:gray;-webkit-filter:grayscale(100%)}.window__operation{height:30px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;padding-right:5px}.window__operation .icon-close,.window__operation .icon-endchat{width:12px}.window--mobile .window__operation .icon-close,.window--mobile .window__operation .icon-endchat{width:16px}.window__operation .header__operationContainer>button,.window__operation>button{margin:0 1px;height:20px;background:0 0;border:none;padding:4px 10px 0;position:relative;display:inline-block;text-align:right}.window__operation .header__operationContainer>button,button.menubar__btn{background:0 0;border:none}.window__operation .header__operationContainer>a:hover svg,.window__operation .header__operationContainer>button:hover svg,.window__operation>button:hover svg{opacity:1}.window--bubble .window__operation .header__operationContainer>a.window__operation-menu-icon{margin-left:0}.window__operation-menu-icon{cursor:pointer}.window__operation-menu-icon>svg{width:20px}.body__dialog-menu .window__operation-menu,.window__menu-show.window__operation-menu{display:block;position:relative;z-index:11}.window__operation-menu{display:none;position:absolute}.window__operation-menu::before{content:'';background-color:transparent;display:block;width:135px;height:20px;position:absolute;right:0;top:-20px}.form__submit,.window--ie9 .window--bubble .window__operation-menu{width:160px}.window--bubble .window__operation-menu{position:absolute;right:0;top:20px}.window__operation-menu li{height:30px;line-height:30px;text-align:left}.window__operation-menu li>button{margin:0;height:30px;padding-left:22px;padding-right:22px;display:block;cursor:pointer;color:#333;background:0 0;border:none;width:100%}.window__operation-menu li>button:focus,.window__operation-menu li>button:hover{background-color:#eee;outline:0}.window__operation-menu li>button>div.menu__text-container{float:left;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:170px;min-width:50px;font-size:15px}.window--bubble .window__operation-menu li>button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--mobile .window__operation-menu li>button>div.menu__text-container>span{width:100%}.body__dialog-menu .window__operation-menu li>button:hover,.window--mobile .window__operation-menu li>button:hover{background-color:initial}.window__operation .window__operation-menu ul{background:#fff;border-radius:5px 0 5px 5px;border:1px solid #ddd;z-index:2147483645;padding:10px 0}.window__operation .window__operation-menu ul li>button>svg{fill:#333;margin-right:10px;float:left;margin-top:2px}.global-showFocus .window__operation .header__operationContainer>a:focus,.global-showFocus .window__operation .header__operationContainer>button:focus,.global-showFocus .window__operation>button:focus{outline:#000004 solid 2px;border-radius:2px}.window--bubble .window__operation .window__operation-menu ul li>button>svg{-ms-flex-negative:0;flex-shrink:0;margin-top:0}.window__operation .header__operationContainer>a>svg,.window__operation .header__operationContainer>button>svg,.window__operation>button>svg{fill:#000004}.window--bubble .window__operation .header__operationContainer>a>svg,.window--bubble .window__operation .header__operationContainer>button>svg,.window--bubble .window__operation>button>svg{fill:#000}.window__operation .header__operationContainer>button:hover,.window__operation>button:hover{background:rgba(0,0,0,.1)}.main-container .window__title{position:absolute;right:0;top:0}.window--classic .icon-close,.window--classic .icon-embedded,.window--classic .icon-minimize,.window--classic .icon-popup{color:#000004;font-size:.8rem}.header__bannerImg{max-height:90px;width:auto;height:auto}.window--classic .header__bannerImg{display:block;max-width:calc(100% + 54px);margin:0 -27px -23px}.window--classic .header__agentInfo{overflow:hidden;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;max-width:100%}.window--classic .window__header--hasAvatar .header__agentInfo{height:45px}.window--classic .header__agentInfoNoAvatar{max-width:100%;width:100%;padding-left:0}.window--circle .header__agentInfo{width:100%}.window--classic .header__chatbot{height:50px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.window--classic .header__avatar{float:left;margin-right:17px;width:45px;height:45px;-ms-flex-item-align:start;align-self:flex-start;border-radius:50%}.header__avatarImage{-ms-transform:scale(1.05);transform:scale(1.05)}.window--classic .header__avatarImage{display:block;width:45px;height:45px;border-radius:50%}.header__agentBio,.window--circle .header__agentBio{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;text-overflow:ellipsis}.header__agent{position:relative}.window--circle .header__agent--compact{height:21px}.window--circle .header__agent--compact.with__title{height:38px}.header__agent--compact:hover::before{content:'';position:absolute;z-index:99;width:calc(100% + 10px);height:calc(100% + 10px);background:rgba(0,0,0,.1);border-radius:4px;left:-5px;top:-5px;cursor:pointer}.window--circle .header__agent--compact:hover::before{width:100%;height:calc(100% + 6px);left:0;top:-3px;border-radius:10px}.window--classic .header__agent{-ms-flex-align:center;align-items:center;max-width:100%;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:1;flex-shrink:1}.window--classic .header__agent--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--classic .header__agent--fadeInUp{animation:none}.window--classic .header__agent.header__agent--withlogo{float:left;max-width:calc(100% - 110px);margin-top:11.5px;margin-bottom:11.5px}.window--classic .window__header--hasAvatar .header__agent--withlogo{margin-top:0;margin-bottom:0}.header__agentName,.header__agentTitle{max-width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.window--classic .header__agentName{font-size:1.133333rem;line-height:1.29;color:#000004;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--classic .header__agentTitle{font-size:.8rem;line-height:1.25;color:#000004;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.header__agentBio{max-height:80px;overflow:hidden;word-wrap:break-word}.window--classic .header__agentBio{font-size:.8rem;line-height:1.17;color:#000004;margin-top:4px;padding-left:60px;padding-bottom:2px;margin-bottom:-2px;max-height:84px;overflow-y:auto}.window--classic .header__agentBio a{color:#000004;border-bottom:1px solid #000007}.window--classic .header__logo{margin-left:auto;margin-top:20px;margin-bottom:5px}.window--classic .header__logoImg{max-height:45px;max-width:100px;display:block;float:right;width:auto;height:auto}.header__teamName{margin-top:0;font-family:\"SourceSans Pro\",Arial}.window--classic .header__teamName{font-size:1.133333rem;line-height:1.29;color:#000004;text-align:center;text-shadow:0 1px 0 rgba(0,0,0,.2);width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:8px}.window--classic .header__teamName+.header__teamAvatar,.window--classic .header__teamName.header__teamNameNoAvatar,.window--classic .window__headerBox--hasAvatars .header__teamName{margin-bottom:0}.window--classic .window__headerBox.window__headerBox--empty{padding-top:15px;padding-bottom:15px}.window--classic .header__teamAvatar{position:relative;width:142px;height:40px;margin:9px auto}.header__teamAvatarImg{background:#f4f5f6}.window--classic .header__teamAvatarImg{position:absolute;width:40px;height:40px;border-radius:100%}.window--classic .header__teamAvatarImg:nth-child(1){left:0;z-index:9}.window--classic .header__teamAvatarImg:nth-child(2){left:49px;z-index:8}.window--classic .header__teamAvatarImg:nth-child(3){left:99px;z-index:7}.window--classic .window__header--prechatWithAvatar{height:126px}.window--classic .header--compact{height:55px}.window--classic .header--compact .header__teamAvatar,.window--classic.animation--chatting .header__teamAvatar{-ms-transform:translateY(-105px);transform:translateY(-105px)}.window--classic.animation--chatting .header__teamName{-ms-transform:translateY(-60px);transform:translateY(-60px)}.window--circle .header{border-top-left-radius:20px;border-top-right-radius:20px}.window--circle .header__bannerImg{display:block;max-width:calc(100% + 40px);margin:0 0 -15px -20px}.window--circle .header__avatar{position:absolute;top:-69.5px;left:50%;margin-left:-35px}.body__dialog .window--embedded.window--circle .header__avatar::before,.body__dialog-menu .window--embedded.window--circle .header__avatar::before{content:'';position:absolute;top:0;left:0;height:50%;width:100%;border-radius:70px 70px 0 0;background-color:rgba(0,0,0,.5)}.body__dialog .window--mobile:not(.window--ipad) .window--circle .header__avatar::before,.body__dialog-menu .window--mobile:not(.window--ipad) .window--circle .header__avatar::before{height:0}.window--mobile .window--circle .header__avatar--withSideWindow,.window--mobile .window--circle .window__headerBox .header__teamAvatar--withSideWindow{left:50%}.window--circle .header__avatar--fadeInDown{animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__avatar--fadeInDown{animation:none}.window--circle .header__avatarImage{display:block;border-radius:100%;width:65px;height:65px;margin:0 auto}.window--circle .header__agentInfo{text-align:center;margin-top:13px;display:-ms-flexbox;display:flex;display:-webkit-flex;flex-direction:column;-ms-flex-direction:column;-ms-flex-align:center;align-items:center}.window--circle .header__agentInfoNoAvatar{margin-top:0}.window--circle .header__agentName{max-width:calc(100% - 90px);margin:0 auto;font-size:1.13333333rem;color:#333;line-height:1.29;text-shadow:0 1px 0 rgba(0,0,0,.2)}.window--circle .header__agentTitle{font-size:.8rem;color:#333;margin-top:2px;line-height:1.25}.window--circle .header__agentBio{text-align:center;margin-top:2px;margin-bottom:1px;padding-bottom:2px;font-size:.8rem;color:#333;line-height:1.17;overflow:hidden;max-height:70px;width:100%;overflow-y:auto}.window--circle .header__agentBio a{color:#333;border-bottom:1px solid #333}.window--circle .header__agentBio a:hover{border-bottom-color:#333}.window--circle .header__teamName{font-size:1.133333333333333rem;line-height:1.29;color:#333;margin-top:21px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--circle .header__teamNameNoAvatar{margin-top:0}.window--circle .header__teamAvatar{position:absolute;left:50%;top:-22px;width:112px;height:42px;margin-bottom:10px;margin-left:-56px;animation:fadeInDown 292ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window--circle .header__teamAvatar{animation:none}.window--bubble .window__ssologin.window__ssologin--animation,.window__chat--animation,.window__form--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.window--circle .header__teamAvatarImg{position:absolute;width:44px;height:44px;border:2px solid #fff;border-radius:100%;top:0}.window--circle .header__teamAvatarImg:nth-child(1){z-index:8}.window--circle .header__teamAvatarImg:nth-child(2){left:36px;z-index:9}.window--circle .header__teamAvatarImg:nth-child(3){right:0;z-index:10}.window--circle .icon-close,.window--circle .icon-embedded,.window--circle .icon-minimize,.window--circle .icon-popup{color:#a3a3a3;font-size:.8rem}.global-showFocus .window--circle .window__operation .header__operationContainer>button:focus,.global-showFocus .window--circle .window__operation>a:focus,.global-showFocus .window--circle .window__operation>button:focus{border-bottom-color:#5d5d5d}.window--circle .window__operation .header__operationContainer>a>svg,.window--circle .window__operation .header__operationContainer>button>svg,.window--circle .window__operation>button>svg{fill:#5d5d5d}.window--circle .window__headerBox{border-bottom:1px solid #ddd;width:calc(100% - 40px);margin:0 auto;padding-left:0;padding-right:0;padding-bottom:15px}.window--circle .window__headerBox .header__agent,.window--circle .window__headerBox .header__teamName{padding:0 40px}.window--circle .window__headerBox.window__headerBox--hasAvatars.window__headerBox--team{padding-bottom:15px}.window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:21px}.window--circle .window__headerBox.window__headerBox--empty{border-bottom:none}.window--circle .header-operator{margin-bottom:17px}.body__dialog .window--bubble .window__title,.body__dialog-menu .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble:hover .window__title{visibility:visible;opacity:1;transition:opacity .4s cubic-bezier(.785,.135,.15,.86)}.window--mobile .window--bubble .window__title{visibility:visible;opacity:1}.window--bubble .header__avatar{position:absolute;top:-45px;left:50%;margin-left:-42px}.window--bubble .header__avatarImage{display:block;border-radius:100%;width:85px;height:85px;border:1px solid #000004}.window--bubble .header__agentInfo{text-align:center;margin-top:35px}.window--bubble .header__agentName{font-size:1.2rem;color:#000}.window--bubble .header__agentTitle{font-size:.933333rem;color:rgba(0,0,0,.3)}.window--bubble .header__agentBio{font-size:.933333rem;color:rgba(0,0,0,.5);margin-top:5px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-height:20px;max-height:80px;-webkit-line-clamp:4;-webkit-box-orient:vertical}.window--bubble .icon-close,.window--bubble .icon-embedded,.window--bubble .icon-minimize,.window--bubble .icon-popup{color:#fff;font-size:.8rem}.window--bubble .window__operation{border-radius:10px;padding:0 5px}.window__operation .header__operationContainer{position:relative;height:20px;text-align:right}.window--bubble .window__operation .header__operationContainer>a,.window--bubble .window__operation .header__operationContainer>button,.window--bubble .window__operation>button{padding:2px 4px}.window--bubble .main-container .window__title{right:4px;z-index:2147483645}.window--bubble .window__headerBox{padding-bottom:0}.window--bubble .header-operator{border-bottom:1px solid #ddd;padding-bottom:28px}.window--ie .window--classic .window__headerBox--banner{display:block}.window--bubble .window__ssologin{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column;-ms-flex-positive:1;flex-grow:1;padding:28px 40px}.window--bubble .window__ssologin.window__ssologin--animation{animation-delay:.3s}.window--circle .window__ssologin,.window--classic .window__ssologin,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-top:0}.window--circle .window__ssologin.window__ssologin--animation,.window--classic .window__ssologin.window__ssologin--animation,.window--mobile:not(.window--ipad) .window--bubble .window__ssologin.window__ssologin--animation{animation:ssologinAnimate 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__ssologin--animation{animation:none!important}@keyframes ssologinAnimate{0%{opacity:0;transform:translate(-50%,0)}to{opacity:1;transform:translate(-50%,-50%)}}.window__ssologinError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.window__ssologinGreeting{font-size:.93333333rem;line-height:1.21;color:#333;margin-bottom:53px;text-align:center}.window__ssologinForm{text-align:center}.window__ssologinOperation{display:block;margin:0 auto 26px;overflow:hidden;text-overflow:ellipsis}.window__ssologinOperation:last-child{margin-bottom:0}.prechatForm__social{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.form-fields--horizonal .prechatForm__social{-ms-flex-pack:left;justify-content:left}.prechatForm__social .prechatForm__socialBtn{border:none;color:#fff;fill:#fff;border-radius:5px;font-size:14px;line-height:18px;-ms-flex-align:center;align-items:center;margin-right:12px;-ms-flex:1 1 350px;flex:1 1 350px;height:30px;max-width:130px;display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-wrap:wrap;flex-wrap:wrap;cursor:pointer}.nps .npsItem:last-child,.prechatForm__social .prechatForm__socialBtn:last-child{margin-right:0}.prechatForm__socialBtn svg{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.prechatForm__socialBtn span{display:block;-ms-flex-negative:1;flex-shrink:1;-ms-flex-positive:1;flex-grow:1;line-height:1.29;font-size:.9333333rem;-ms-transform:translateX(-10px);transform:translateX(-10px)}.prechatForm__socialBtn.socialBtn--simple{width:30px;height:30px;-ms-flex-positive:0;flex-grow:0;margin-right:10px;-ms-flex-preferred-size:30px;flex-basis:30px}.socialBtn--simple svg{height:30px}.socialBtn--simple span{display:none}.form-fields--horizonal .prechatForm__socialBtn span{line-height:1.25;font-size:.8rem}.prechatForm__socialBtn svg{height:24px;width:24px;margin-left:6px;margin-top:6px}.window--ie .form-fields--horizonal #social-login-icons{-ms-flex:0 0 70px;flex:0 0 70px}.prechatForm__login{color:#bbb}.prechatForm__divide{font-size:.8rem;position:relative;display:block;text-align:center;margin-top:10px;margin-bottom:20px;color:#626262}.prechatForm__divide::after,.prechatForm__divide::before{border-top:1px solid #ddd;width:40%;position:absolute;top:9px;content:''}.prechatForm__divide::before{left:0}.prechatForm__divide::after{right:0}.loading{display:block;background-size:50px}.icon-facebook{margin-right:10px;color:#39599c}.window--rtl .icon-facebook{margin-left:10px}.ssologin .window__ssologinForm{margin-bottom:30px}.captcha{perspective:100px;perspective-origin:left}:not(.window--ie) .window--rtl .captcha{perspective-origin:right}.window--edge .window--rtl .captcha,.window--ie .window--rtl .captcha{perspective-origin:0}.captcha>:first-child{transform:translateZ(-15px)}.window--bubble .captcha>:first-child{transform:translateZ(-13px)}.window--bubble.window--rtl .captcha>:first-child{transform:translateZ(-40px)}.form-fields--horizonal .captcha>:first-child{transform:translateZ(-70px)}.window__form_popout .captcha>:first-child{transform:translateZ(-8px)}.window__form_popout .form-fields--horizonal .captcha>:first-child{transform:translateZ(-53px)}.window__formContainer--bubble{overflow:hidden;overflow-y:auto;padding:0 27px;-ms-flex-positive:1;flex-grow:1;margin-top:30px}.window__form{overflow:auto;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:100%;padding:25px 45px 0;overflow-x:hidden}.window__form--animation{animation-delay:.3s}.window--ie .window__form--animation{animation:none}.window--bubble .window__form{padding:30px 17px 0 19px;border-radius:5px;-ms-flex-negative:0;flex-shrink:0;position:relative;margin-bottom:12px;overflow:visible}.window--circular .window--bubble .window__form{border-radius:20px}.window--mobile .window--bubble .icon-bubble-line{left:10px}.window--bubble .window__form .icon-bubble-line{position:absolute;left:-10px}.window--bubble .window__form .icon-bubble-line .bubbleline1{fill:#fff;stroke:#ddd;stroke-width:2px}.window--bubble .icon-bubble-line::before{color:#ddd}.window__formGreeting{font-size:.933333rem;line-height:1.285714;color:#666;margin-bottom:25px;word-wrap:break-word;word-break:break-word}.window__formGreeting a{color:#666;border-bottom:1px solid rgba(102,102,102,.6)!important}.window__chat .window__formGreeting{text-align:center}.window__formError{font-size:.933333rem;line-height:18px;color:#de3939;margin-bottom:26px}.form-fields .box-field{margin-bottom:15px}.form-fields .box-field input[type=file]{width:100%}.form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){-ms-flex-preferred-size:calc(100% - 80px);flex-basis:calc(100% - 80px)}#postchat-window .form-fields.form-fields--horizonal .box-field div.field-name+:not(.container-checkbox){max-width:calc(100% - 60px)}.form-fields.form-fields--horizonal .box-field input[type=file]{width:calc(100% - 80px)}.form-fields--horizonal .box-field{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap}.form__inputContainer{position:relative;text-align:center}.fieldControl__Ticket{display:-ms-flexbox;display:flex}.form-fields--horizonal .fieldControl__Ticket{-ms-flex-positive:1;flex-grow:1}.form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0;line-height:35px;font-size:.934rem}.window--bubble .form-fields:not(.form-fields--horizonal) .fieldControl__Ticket .form__input--ie10{width:120px}.fieldControl__Ticket .form__inputContainer,.form-fields--horizonal .form__inputContainer,.form-fields--horizonal .multipleText,.form-fields--horizonal .select-box{-ms-flex-positive:1;flex-grow:1}.form-fields .field-name{margin-bottom:10px;color:#626262;word-wrap:break-word}.form-fields .checkbox__text{color:#626262;font-size:.8rem;font-family:'SourceSans Pro Bold',Arial;line-height:1rem;width:100%}.form-fields .container-checkboxlist .container-checkbox{display:block}.form-fields .container-checkboxlist>div+div{margin-top:6px}.form-fields .container-checkboxlist .checkbox__text{color:#333;text-transform:none;font-weight:400;font-size:.933333rem;line-height:1.2rem;font-family:'SourceSans Pro',Arial}.form-fields .field-control{-ms-flex-positive:1;flex-grow:1}.form-fields .field-control-password{position:relative}.form-fields .field-control-password input{padding-right:40px}.form-fields .field-control-password input[type=password]::-ms-reveal{display:none}.form-fields .field-control-password input[type=password]::-ms-clear{display:none}.form-fields .field-control-password input[type=password]::-o-clear{display:none}.form-fields .field-control-password .svg-icon{fill:#bebebe;position:absolute;top:0;right:10px;display:inline-block;width:40px;height:35px;margin-right:-10px;padding:7.5px 10px;font-size:35px;transition:fill .2s cubic-bezier(.4,0,.2,1) 0s;user-select:none}.form-fields.form-fields--horizonal .field-control,.form-fields.form-fields--horizonal .fieldControl__Ticket,.window--ie10 .fieldControl__Ticket .field-control,.window--ie10 .form-fields--horizonal .select-box{-ms-flex-negative:1;flex-shrink:1}.form-fields--horizonal .field-name{margin-bottom:0;margin-right:10px;-ms-flex:1 0 80px;flex:1 0 80px;max-width:80px;display:-ms-flexbox;display:flex}.form-fields--horizonal .field-name .field__label{display:inline-block;max-width:80px}.form-fields--horizonal .field-name.checkbox-label{-ms-flex-preferred-size:unset;flex-basis:unset;max-width:none;-ms-flex-negative:1;flex-shrink:1;display:none}.form-fields--horizonal .field-name.checkbox-label .field__label{max-width:none}.form-fields--horizonal .form__ticketPrefix{-ms-flex-negative:0;flex-shrink:0}.form-fields .field__requiredTag{margin-right:4px;margin-left:-7px;font-size:.8rem;line-height:1rem;fill:#ed1c24;vertical-align:middle;width:3px;height:15px;-ms-flex-negative:0;flex-shrink:0;float:left}.check-box .field__requiredTag{margin-top:2px}.window--rtl .form-fields .field__requiredTag{margin-left:4px;margin-right:-7px;float:right}.form-fields .field__label{font-size:.8rem;line-height:1rem;float:left;font-family:'SourceSans Pro Bold',Arial}.window--rtl .form-fields .field__label{float:right}.form-fields .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.form-fields .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:4px}.filed__content .original_input{width:100%}.form-fields--horizonal .filed__content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;width:100%}.form-fields--horizonal .field__requiredMsg:not(.field__requiredMsg--checkbox){margin-left:90px}.form__input{height:35px;width:100%}.form__textarea{height:auto}.form__submitContainer{position:relative;text-align:center;margin-top:30px;padding-bottom:30px}.bubble .form__submitContainer{padding:0;margin-top:23px}.form__submitContainer--loading .form__submit{animation-name:form__submit--loading;animation-duration:167ms}.form__layer-circle,.form__layer-success{position:absolute;left:50%;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);display:none}.form__submitContainer--loading .form__layer-circle,.form__submitContainer--loading .form__layer-success{display:block}.form__submitContainer--loading .form__submitCirclePath{stroke:#000001;stroke-width:3px;stroke-dasharray:100;stroke-dashoffset:100;fill:#fff;fill-opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitCirclePath-dash;animation-duration:.5s;animation-delay:167ms}.window_botform{padding:0!important;height:100%}.window_botform .botform_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.botform__submitContainer{text-align:center;margin:10px 0 30px}.botform__submitContainer button{padding:5px 18px;border:1px solid #00000a;border-radius:5px;color:#fff;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px}.botForm__container,.botForm__content,.botForm__content_iframe,.botForm__content_webview{height:100%;overflow:auto}.botform__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.botform__submitContainer button.btn-cancel{background-color:#fff;color:#00000c}.botform__submitContainer button.btn-submit:focus,.botform__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.botform__submitContainer button.btn-cancel:focus,.botform__submitContainer button.btn-cancel:hover{color:#000003;border-color:#000003}.botform__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.botconfirm_list li p{font-family:'SourceSans Pro',Arial;color:#333}.botconfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial}@keyframes form__submitCirclePath-dash{from{stroke-dashoffset:100}to{stroke-dashoffset:0}}.form__submitContainer--loading .form__submitSuccessPath{fill:#00000a;stroke-width:1;-ms-transform:scale(0);transform:scale(0);opacity:0;animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:form__submitSuccessPath-animation;animation-duration:.5s;animation-delay:542ms}@keyframes form__submitSuccessPath-animation{0%{transform:scale(0);transform-origin:50% 50%;opacity:0}100%{transform:scale(1);transform-origin:50% 50%;opacity:1}}.botForm__content_webview{width:100%}.botForm__content_iframe{width:100%;border:none}.form__gradient--white{position:absolute;height:25px;width:100%;bottom:0;background-image:linear-gradient(to bottom,transparent,rgba(255,255,255,.97) 86%,#fff)}.container-checkbox span,.control span{display:inline-block}.form-fields--horizonal .form__attachmentContainer{height:36px}.form-fields--horizonal .form__attachmentContainer input[type=file]{position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%)}.window_sendForm{padding:0!important;height:100%}.window_sendForm .sendForm_title{margin:0 0 10px;text-align:center;color:#444648;font-size:16px}.sendForm__submitContainer{text-align:center;margin:10px 0 30px}.sendForm__submitContainer button{border:1px solid #00000a;margin:0 4px;cursor:pointer;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:160px;border-radius:4px;color:#fff;padding:6px 18px}.sendForm__submitContainer button.btn-submit{background-color:#00000a;color:#00000e}.sendForm__submitContainer button.btn-cancel{background-color:#fff;color:#00000c;border:1px solid #00000c}.sendForm__submitContainer button.btn-submit:focus,.sendForm__submitContainer button.btn-submit:hover{background-color:#000003;border-color:#000003}.sendForm__submitContainer button.btn-cancel:focus,.sendForm__submitContainer button.btn-cancel:hover{color:#000010;border-color:#000010}.sendForm__submitContainer button[disabled]{background-color:#f5f5f5!important;color:#888!important;border-color:#b5b1b1!important;cursor:default}.sendForm__container,.sendForm__content{height:100%;overflow:auto}.sendForm__container .form-note{padding-left:20px}.sendFormConfirm_list li p{font-family:'SourceSans Pro',Arial;color:#333}.sendFormConfirm_list{padding:20px;min-width:190px}.sendFormConfirm_list li{margin-bottom:10px}.sendFormConfirm_list li p{margin:0}.sendFormConfirm_list li p:first-child{font-family:'SourceSans Pro Bold',Arial;color:#666;margin:0}.invitation__name,.nps .npsItem{font-family:\"SourceSans Pro Bold\",Arial}.form-note,.nps .npsItem{color:#626262;font-size:12px}.form-note{display:block;margin-bottom:8px}.emoji,.nps{display:-ms-flexbox}.nps{display:flex;-ms-flex-pack:distribute;justify-content:space-around}.nps .npsItem{height:22px;width:22px;border:none;background:#e8e8e8;border-radius:100%;overflow:hidden;cursor:pointer;position:relative}.nps .npsItem--selected,.nps .npsItem:hover{background:#00000a;color:#00000e}.nps .npsItem svg{position:relative;width:100%;height:100%;fill:#e8e8e8;border-radius:50%}.nps .npsItem--selected svg,.nps .npsItem:hover svg{fill:#00000a;color:#000004}.nps .npsItem .npsItem-label{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:100%}.nps__label{font-size:11px;color:#626262;word-wrap:break-word}.nps__label--left{float:left;margin-top:5px;width:50%;padding-right:8px}.nps__label--right{float:right;margin-top:5px;width:50%;padding-left:8px;text-align:right}.window--rtl .nps .npsItem:last-child{margin-right:2px}.window--rtl .nps__label--left{float:right;padding-right:0;padding-left:8px}.window--rtl .nps__label--right{float:left;text-align:left;padding-left:0;padding-right:8px}.window--mobile .nps .npsItem:hover{background:#e8e8e8;color:#626262}.window--mobile .nps .npsItem--selected{background:#00000a!important;color:#000004!important}.form-fields--horizonal .nps .npsItem{height:13px;width:13px;line-height:13px}.emoji{position:absolute;left:0;bottom:0;box-shadow:var(--shadow2-color);border-radius:4px;overflow:hidden;background-color:var(--whitePopup-color);--scrollbar-width:8px;--emoji-width:32px;--emoji-height:32px;--emoji-list-padding:12px;--emoji-category-title-height:22px;--emoji-font-size:22px;--emoji-column-count:8;--emoji-row-count:8;--emoji-list-width:var(--emoji-width) * var(--emoji-column-count) + var(--emoji-list-padding) * 2;--emoji-list-height:var(--emoji-height) * var(--emoji-row-count) + var(--emoji-category-title-height);--black-color:#000000;--white-color:#FFFFFF;--whiteFixed-color:#FFFFFF;--whiteFixed8-color:rgba(255, 255, 255, 0.08);--whiteFixed12-color:rgba(255, 255, 255, 0.12);--whitePopup-color:#FFFFFF;--blackLight-color:rgba(33, 33, 33, 0.2);--blackMid-color:#999999;--blackDark-color:#595959;--blackFixed-color:#212121;--blackToast-color:rgba(33, 33, 33, 0.8);--grey8-color:rgba(114, 114, 114, 0.08);--greyN2bg-color:#FCFCFC;--greyBackground-color:#F0F0F0;--greyMenu-color:#F0F0F0;--shadow1-color:0px 1px 6px 0px rgba(0, 0, 0, 0.2);--shadow2-color:0px 2px 6px 0px rgba(0, 0, 0, 0.08);--shadow3-color:1px 2px 12px 0px rgba(0, 0, 0, 0.16);--greyScrollbar-color:#BCBBBA;--greyScrollbarHover-color:#A1A1A1;--greyToast-color:#D3D3D3;--tableTitle-color:#EDEDED;--bubbleBackground-color:#FFFFFF;--replyBackground-color:#F0F0F0;display:flex;-ms-flex-flow:column;flex-flow:column}.emoji__scroll-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:var(--emoji-list-padding);width:calc(var(--emoji-list-width));height:calc(var(--emoji-list-height))}.emoji__cell{font-family:var(--emoji-font);font-size:var(--emoji-font-size);width:var(--emoji-width);height:var(--emoji-height);line-height:1;-ms-flex-preferred-size:var(--emoji-width);flex-basis:var(--emoji-width);display:-ms-flexbox;display:flex;-ms-flex:none;flex:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;user-select:none;text-decoration:none;outline:0;border-radius:4px;padding:4px}.emoji__cell img{width:100%;height:100%}.emoji__cell.emoji__cell--selected,.emoji__cell:focus,.emoji__cell:hover{outline:0;background-color:rgba(114,114,114,.08);text-decoration:none}.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.window--ie9 .message--seen{display:none}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img:not(.emoji-char){display:inline-block}img.emoji-char{height:1.2em;width:1.2em;margin:0 .05em 0 .1em;vertical-align:-.2em}img.emoji-char-large{height:2em;width:2em;margin:0 .05em 0 .1em;vertical-align:-.2em}.invitation__message img.emoji-char-large,.window__chatMessageOrignal img.emoji-char-large{height:1.2em;width:1.2em;margin:0 .1em;vertical-align:-.2em}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a,.chat-message--video video{min-width:60px!important;min-height:60px!important;border-bottom:none!important;overflow:hidden}.chat-message--img a{max-width:200px!important;max-height:200px!important;display:block}.chat-message--video video{max-width:250px!important;max-height:250px!important}.invitation__image,.invitation__name,.pasteImage img,.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img,.chat-message--video video{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;font-family:\"SourceSans Pro\",Arial;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;font-family:\"SourceSans Pro\",Arial;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img,.window__chatAgentMessage.chat-message--video,.window__chatVisitorMessage.chat-message--video{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.amimated-infinite{-webkit-animation-iteration-count:infinite}.amimated-infinite,.animated.infinite,.window__chat .dot__element--loadingAnimation{animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}*,.window__ssoLogin{-webkit-overflow-scrolling:touch}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.poweredby a[href]:active,.poweredby a[href]:focus,.poweredby a[href]:hover,.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^=\"intent:\"]{color:#888}.visually-hidden{width:1px;height:1px}.visually-hidden:focus,.visually-hidden:hover{outline:0;border:none}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}.chatInputContainer{position:relative;-ms-flex-negative:0;flex-shrink:0}.chatInputLabel{visibility:hidden;position:absolute;left:-10000px}.chatInputContainer--fadeInUp{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3}.window--ie .chatInputContainer--fadeInUp{animation:none}.chat-input__controlbox{padding:10px 8px 10px 0;display:-ms-flexbox;display:flex}.textareaContainer{-ms-flex-positive:1;flex-grow:1}.window--rtl .chat-input__controlbox{-ms-flex-pack:end;justify-content:flex-end}.window--rtl .chat-input__controlbox--noTool .window__chatInputControl{padding-right:8px}.window__chatInputControl{display:block;width:100%;padding-top:0;padding-bottom:0;font-size:1.06667rem;color:#333;outline:0}.embedded-window:not(.window--mobile) .window__chatInputControl{font-size:1rem}.chatInput--ripple{position:absolute;border-radius:50%;width:50px;height:50px;background:#ddd;animation:chatInput--ripple 2s}@keyframes chatInput--ripple{from{transform:scale(1);opacity:.4}to{transform:scale(100);opacity:0}}.chatInputContainer--hide{height:0!important;width:0!important;visibility:hidden}.chatInputContainer--hide+div>.footer{background:0 0!important}.chatInputContainer{height:auto;padding-right:2px}.window--mobile .chatInputContainer--active .window__chatInputControl,.window--mobile .window__chatInputControl:focus{border-top:none;box-shadow:initial;transition:none}.window__chatInput--Drag::before{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;background:rgba(250,245,205,.85);z-index:99;text-align:center;color:#d2b067;font-size:2.133333rem}.chat-input__toolbox{animation:fadeIn .5s;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-item-align:end;align-self:flex-end;user-select:none;-moz-user-select:none}.window--ie .invitation-showType,.window--ie .invitation__message,.window--ie .invitation__name{animation:none}.chat-input__toolbox button{cursor:pointer;background:0 0;width:36px;height:36px;margin:2px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:100%;border:1px solid transparent}.chat-input__toolbox button.chat-input__icon--disabled,.chat-input__toolbox button.chat-input__icon--disabled svg:hover,.chat-input__toolbox button.chat-input__icon--disabled:focus svg:hover{cursor:default}.chat-input__toolbox button:focus,.chat-input__toolbox button:hover{background-color:rgba(114,114,114,.08);border-radius:4px}.chat-input__toolbox button.window__chatSender--active svg,.chat-input__toolbox button:focus svg,.chat-input__toolbox button:hover svg{fill:#00000c}.chat-input__toolbox button svg{fill:#626262}.chat-input__toolbox button.chat-input__icon--disabled,.chat-input__toolbox button.chat-input__icon--disabled:focus{background:0 0}.chat-input__toolbox button.chat-input__icon--disabled svg,.chat-input__toolbox button.chat-input__icon--disabled:focus svg{fill:#bbb}.chat-input__toolbox button:last-child{margin-right:0}.chat-input__toolbox svg{width:20px;height:20px;color:#626262}.chat-input__toolbox .window__chatSender{position:unset}.global-showFocus .chat-input__controlbox button:focus{border-color:#000003}.window--bubble .chatInputContainer{box-shadow:initial;background:#f8f8f8;border-radius:5px 5px 0 0}.window--bubble .chatInputContainer+div>.footer{background:#f8f8f8}.window--circular.window--bubble .chatInputContainer{border-radius:20px 20px 0 0}.window--mobile .window--circular.window--bubble .chatInputContainer{border-radius:0}.window--mobile.window--ipad .chatInputContainer{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.window--mobile.window--ipad .window--circular .chatInputContainer{border-bottom-right-radius:20px;border-bottom-left-radius:20px}.window--mobile.window--ipad .window--bubble .bubble-box,.window--mobile.window--ipad .window--bubble .chatInputContainer,.window--mobile.window--ipad .window--circular.window--bubble .bubble-box,.window--mobile.window--ipad .window--circular.window--bubble .chatInputContainer{border-radius:0}.chatInputContainer--active .chat-input__controlbox{border-top-color:#000002}.chatInputContainer--typed .window__chatInputControl{padding-right:10px}.window__chatInputControl{border:none;background-color:transparent;padding:10px 10px 0 25px;max-height:84px;min-height:29px;overflow-y:hidden;overflow-x:hidden;height:29px;line-height:1.27}.window--circular.window--bubble .window__chatInputControl{padding-left:20px}.chat-input__limitNumSpan{position:absolute;right:40px;color:red;padding:2px 2px 4px;bottom:-4px}.window--classic .chat-input__limitNumSpan{right:20px}.window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:8px}.window--mobile .window--bubble .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--circle .chat-input__controlbox--limit .window__chatInputControl,.window--mobile .window--classic .chat-input__controlbox--limit .window__chatInputControl{padding-bottom:0}.window--mobile .chat-input__limitNumSpan,.window--mobile .window--classic .chat-input__limitNumSpan{right:4px;bottom:0}.window--mobile .window__chatInputControl{border-radius:0}.pasteImageContainer{padding:0 50px 0 25px;-ms-flex-negative:1;flex-shrink:1;width:100%;height:84px;overflow-y:auto;display:-ms-flexbox;display:flex;ime-mode:disabled;outline:0}.pasteImageContainer::-webkit-scrollbar-thumb{background-color:#c8c8c8}.pasteImage{width:100%}.pasteImageClose{position:absolute;float:right;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;right:30px;top:15px}.displayNone,.window--mobile .window__footer{display:none}.pasteImageClose button{outline:0;border:none;height:20px;width:20px;background:0 0}.pasteImageClose svg{width:12px;height:12px;fill:#666;opacity:.7}.date-picker-container>.taskbot_submit_btn_container svg,.highContrast .calendar-container .date-picker-arrow,.pasteImageClose:hover svg{opacity:1}.pasteImageTemp{position:absolute;width:1;height:1;left:-1}.chat-input__toolbox-more{position:absolute;top:-52px;right:4px;background-color:#f8f8f8;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:4px;z-index:99;transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.chat-input__toolbox-more--icon-expand{-ms-transform:rotate(0);transform:rotateZ(0);transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.chat-input__toolbox-more--icon-collapse{-ms-transform:rotate(45deg);transform:rotateZ(45deg);transition:160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.emoji-container{position:relative;bottom:40px;left:-280px}.footer-text-single-line{height:30px}.footer{-ms-flex-negative:0;flex-shrink:0;z-index:999;width:100%;padding-left:15px;padding-right:15px;font-size:.8rem;height:23px;background:0 0;border-radius:0 0 5px 5px}.invitation__message,.invitation__name{font-size:.933333333rem;color:#000004;overflow:hidden}.window--bubble .footer{margin-top:12px}.window--bubble .window__chat+div>.footer.footer--empty,.window--bubble .window__formContainer+div>.footer.footer--empty,.window--bubble .window__kb_formContainer+div>.footer.footer--empty{margin-top:0;height:0}.window--bubble .chatInputContainer+div>.footer{margin-top:0}.window--circular .footer{border-radius:0 0 20px 20px}.poweredby{height:23px;float:right}.poweredby a[href]{line-height:15px}.poweredby a[href] svg{height:15px;vertical-align:text-bottom}.poweredby a[href] svg polygon{fill:#ffd928}.poweredby a[href] svg path{fill:#626262}.footer-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.invitation{position:fixed;bottom:0;cursor:pointer;min-width:270px;border:none;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);margin:2.5px 7.5px 12.5px}.window--circular .invitation{border-radius:20px 20px 0}.window--chrome.invitation{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.invitation__name{line-height:1.21;text-overflow:ellipsis;white-space:nowrap;-ms-flex-positive:0;flex-grow:0}.invitation__message{line-height:1.57;padding:20px 35px;max-height:250px;min-height:95px;text-overflow:ellipsis;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;text-align:left;border:none;cursor:pointer;width:100%}.invitation__message a[href]{color:#000004}a[href].invitation__message:focus,a[href].invitation__message:hover{border:none}.global-showFocus a[href].invitation__message:focus{background-color:#000006}.window--circular .invitation__message{border-radius:20px 20px 0 0}.window--ie9 .invitation__message{display:block}.invitation__type{height:50px;line-height:1;padding:17.5px 27px;background:#f8f8f8;color:#333;font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border:none;width:100%;text-align:left;border-radius:0 0 0 5px}button.invitation__type{cursor:pointer;padding:0 27px;color:#bbb}.invitation__type:focus{outline:0}.invitation__avatars{top:-15px;left:100px;position:absolute;z-index:99}.invitation__avatars img{width:28px;height:28px;border-radius:100%;border:1px solid #fff;margin-right:-5.5px}@keyframes invitation-show{0%{transform:scale(0);opacity:0;transform-origin:calc(100% - 29px) calc(100% + 18px)}100%{transform:scale(1);opacity:1;transform-origin:calc(100% - 29px) calc(100% + 18px)}}@keyframes invitation-showType{0%{transform:translateY(35px);opacity:0}100%{transform:translateY(0);opacity:1}}.invitation--coming .invitation:nth-child(2){animation:fadeOutUp 374ms linear both;z-index:2147483636}@keyframes fadeOutUp{from{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.invitation--coming .invitation:nth-child(1){animation:invitation-show 375ms cubic-bezier(.785,.135,.15,.86) both;z-index:2147483636}.invitation__close{position:absolute;top:-4px;right:-4px;background:rgba(0,0,0,.6);border:none;z-index:1;width:21px;height:21px;cursor:pointer;border-radius:21px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.invitation__close:hover{background:#000}.invitation__close svg{fill:#000004;width:9px;height:9px;display:block;margin:5px}.invitation__image{display:block;max-height:500px;margin:auto}.invitation__container{border-radius:5px;overflow:hidden;width:100%}.window--mobile .window--bubble .window__chatOperationPlus,.window--mobile .window--bubble .window__chatSender,.window--mobile .window--circle .window__chatOperationPlus,.window--mobile .window--circle .window__chatSender,.window--mobile .window--classic .window__chatOperationPlus{display:block}.window--mobile .chatInputContainer{overflow:initial;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile .chat-time{display:block}.window--mobile{background-color:rgba(0,0,0,.15);-webkit-backface-visibility:hidden}.window--mobileHorizontal .window--embedded,.window--mobileHorizontal .window--embedded .bubble-box,.window--mobileVertical .window--embedded,.window--mobileVertical .window--embedded .bubble-box{top:0;right:0;bottom:0;left:0;width:100%;height:100%}.window--rtl .container-checkbox i,.window--rtl .controlIndicator{left:auto;right:0}.window--mobileHorizontal .window--bio.window--circle,.window--mobileHorizontal .window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle,.window--mobileHorizontal .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileHorizontal .window--embedded.window--bio.window--circle,.window--mobileHorizontal .window--embedded.window--bio.window--circle .bubble-box,.window--mobileVertical .window--bio.window--circle,.window--mobileVertical .window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle,.window--mobileVertical .window--embedded .bubble-box.window--bio.window--circle .bubble-box,.window--mobileVertical .window--embedded.window--bio.window--circle,.window--mobileVertical .window--embedded.window--bio.window--circle .bubble-box{height:100%;top:0}.window--mobile .chat-input__controlbox{-ms-flex-positive:1;flex-grow:1;padding:10px 8px 20px 24px;border-top:solid;border-top-width:.5px;border-top-color:rgba(0,0,0,.2)}.window--mobile .chat-input__controlbox .textareaContainer{border-bottom:1px solid #787878;padding-top:10px}.window--mobile .chat-input__controlbox ::-webkit-input-placeholder{color:#787878}.window--mobile .chat-input__controlbox ::-moz-placeholder{color:#787878}.window--mobile .chat-input__controlbox :-ms-input-placeholder{color:#787878}.window--mobile .window__chatInputControl{padding:0 0 10px;height:30px;line-height:20px;min-height:30px;box-shadow:none}.window--mobile .window__chatSender .icon-input-send{color:#626262;font-size:1.5625rem;margin-top:5px}.window--mobile .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window--bubble .window__chatSender .icon-input-send,.window--mobile .window--circle .window__chatSender .icon-input-send{color:#626262}.window--mobile .window--bubble .window__chatSender--active .icon-input-send,.window--mobile .window--circle .window__chatSender--active .icon-input-send{color:#00000a}.window--mobile .window__chatSender{bottom:20.5px;right:12px;width:37px;height:37px;padding:5px}.window--mobile .window__chatSender svg{width:27px;height:27px;fill:#626262}.window--mobile .chatInputContainer--typed .window__chatSender svg,.window--mobile .window__chatSender--active .window__chatSenderSVGPath{fill:#00000c}.window--mobile .window__chatSender.window__chatTools{bottom:unset;top:12px}.window--mobile .window__chatOperationPlusBox{-ms-flex-preferred-size:40px;flex-basis:40px}.window--mobile .window__chatOperationPlus{width:20px;height:20px;margin:0 auto}.window--mobile .window__chatOperationPlus .icon-plus{font-size:1.3125em;color:#fff}.window--mobile .window--classic .window__chatAgentMessage_container{max-width:calc(100% - 34px)}.window--mobile .window--classic .window__chatAgentMessage_container .window__chatAgentMessage.chat-message--img{max-width:200px;max-height:none}.window--mobileHorizontal .window--bubble.whole-window,.window--mobileVertical .window--bubble.whole-window{top:0;height:calc(100% - 0px)}.window--mobile .window--circle .main-container{height:100%}.window--mobile:not(.window--ipad) .window--circle,.window--mobile:not(.window--ipad) .window--circle .bubble-box,.window--mobile:not(.window--ipad) .window--circle .main-container{border-radius:0;top:0;height:100%}.window--mobile:not(.window--ipad) .window--circle .header__avatar{position:static;margin:0}.window--mobile:not(.window--ipad) .window--circle .header__agentInfo{margin:0}.window--mobile:not(.window--ipad) .window--circle .window__headerBox:not(.window__headerBox--banner){display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center}.window--mobile:not(.window--ipad) .window--circle .header__teamAvatar{position:relative;left:auto;top:0;margin:10px 0 0}.window--mobile:not(.window--ipad) .window--circle .header__teamName{margin-top:10px}.window--mobile:not(.window--ipad) .window--circle .window__headerBox.window__headerBox--hasAvatars{padding-bottom:16px}.window--mobile:not(.window--ipad) .window--circle .header__agent{max-width:100%}.window--mobile:not(.window--ipad) .window--circle .header__agentName{max-width:100%;margin:0 45px}.window--mobile:not(.window--ipad) .window--bubble.whole-window .main-container{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1}.window--mobile .window_chatError{position:absolute;z-index:2147483000;width:calc(100% - 40px)}.window--mobile .window__chatWithAgent--bottom{display:none}.window--mobile .bubble-box--show .bubble{-ms-transform:scale(1);transform:scale(1);animation:showBubble 333ms cubic-bezier(.785,.135,.15,.86) both}.window--mobile .window--bubble.whole-window .main-container{overflow:initial;background-color:#f5f5f5}.window--mobile .window__formContainer--bubble{margin-top:0;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;padding:0}.window--mobile .window--ie10 .window__formContainer--bubble{-ms-flex-negative:1;flex-shrink:1}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form .greeting-message-container{-ms-flex-negative:0;flex-shrink:0}.window--mobile .window--bubble .window__operation{background-color:transparent;-ms-flex-pack:end;justify-content:flex-end}.window--mobile .window__operation{height:40px;padding-right:6px}.window--mobile .window__operation>a,.window--mobile .window__operation>button{margin:0 1px;height:20px}.window--mobile .window__operation>a>svg,.window--mobile .window__operation>button>svg{width:20px;height:16px}.window--mobile .window__operation .header__operationContainer{height:40px}.window--mobile .window__operation .header__operationContainer>button,.window--mobile .window__operation>button{height:40px;padding:0 10px}.window--mobile .bubble-close{width:30px;height:30px;right:0;top:0}.global-showFocus .window--mobile .window--bubble a:focus{border-bottom-color:#787878}.window--mobile .window--bubble .window__operation .header__operationContainer>button>svg,.window--mobile .window--bubble .window__operation>a>svg,.window--mobile .window--bubble .window__operation>button>svg{fill:#787878}.window--mobile .window--bubble .main-container .window__title{position:relative}.window--mobile .chatError__container{left:0}.window--mobile .window--bubble .window__chat{-ms-flex:1;flex:1;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:25px;padding-right:27px}.window--mobile .window--bubble .window__chat>div{-ms-flex-negative:0;flex-shrink:0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__chat>div>div>div.window__chatAgent+div.window__chatAgent,.window--mobile .window--bubble .window__chat>div>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile .window--bubble .window__chat>div>div>div+div{margin-top:16px}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window--mobile .window--bubble .window__chat>div>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--mobile .window--bubble .window__chat>div>div+div{margin-top:0}.window--mobile .window--bubble .chatInputContainer{background-color:#fff}.main-container,.window--mobile .main-container{background-color:#f5f5f5}.window--mobile .window--bubble .window__kb_formContainer{-ms-flex-positive:1;flex-grow:1}.window--mobile .window--bubble .window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--mobile.window--ipad .window--bubble .chatInputContainer{border:2px solid #f0f1f2;border-top:none}.window--mobile.window--ipad.withSideWin .window--bubble .chatInputContainer{border-bottom:none}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window--mobile.window--ipad.withSideWin .window--bubble .window__chat>div>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window--mobile .window__chatVisitorMessage{border-color:#f5f5f5}.window--mobile .chat-input__toolbox,.window--mobile .chat-input__toolbox-more{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start}.window--mobile .chat-input__toolbox button,.window--mobile .chat-input__toolbox-more button{width:40px;height:40px}.window--mobile .chat-input__toolbox button:hover,.window--mobile .chat-input__toolbox-more button:hover{background:0 0}.window--mobile .chat-input__toolbox button:hover svg,.window--mobile .chat-input__toolbox-more button:hover svg{fill:#787878}.window--mobile .chat-input__toolbox svg,.window--mobile .chat-input__toolbox-more svg{width:20px;height:20px;fill:#787878}.window--mobile .whole-window:not(.window--classic) .window__header{background-color:transparent;box-shadow:none}.window--mobile .whole-window:not(.window--classic) .window__header .header__agentName{color:#333}.window--classic:not(.window--embedded) .window__header,.window--mobile:not(.window--ipad) .window__header{border-radius:0}html:not(.global-showFocus) button::-moz-focus-inner{border:0}.window--mobile ::-webkit-scrollbar{display:none}.window--mobile .chat-input__toolbox button.bubble-close{width:30px;height:30px;margin-right:0;border:none}.window--mobile .chat-input__toolbox .bubble-close svg{width:10px;height:10px}.window--mobile .chat-input__toolbox-more{padding-top:50px;padding-bottom:132px;display:-ms-flexbox;display:flex;gap:30px;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative;top:unset;right:unset}.window--mobile .chat-input__toolbox-more button{width:48px;height:48px;cursor:pointer;margin:0;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;border-radius:4px;border:none;background:0 0}.window--mobile .chat-input__toolbox-more button:active,.window--mobile .chat-input__toolbox-more button:focus{background-color:rgba(114,114,114,.08)}.window--mobile .chat-input__toolbox-more button:active svg,.window--mobile .chat-input__toolbox-more button:focus svg{fill:#000010}.window--mobile .chat-input__toolbox-more button svg{width:28px;height:28px}.window__kb_formContainer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-left:25px;margin-right:25px;margin-top:30px}.kbsearch__container{display:-ms-flexbox;display:flex;margin-bottom:64px;height:100%;-ms-flex-pack:center;justify-content:center}.window--bubble .kbsearch__container,.window--mobile .window--bubble .kbsearch__container{margin-bottom:0;padding-bottom:98px}.window--embedded.window--bubble .kbsearch__container{border-radius:5px}.window--embedded.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{border-radius:0 0 5px 5px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer,.window--mobile .window--bubble .kbsearch__container{border-radius:0}.window--bubble .kbsearch-window__chatWithAgent .chatError__container{top:10px}.greeting-message__kb{margin-bottom:10px}.kbsearch-input__container{padding-bottom:25px;position:relative}.kbsearch-input__container .field__requiredMsg{font-size:12px;color:#d31219;margin-top:4px}.kbsearch-input__container .field__requiredMsg svg{fill:#d31219;overflow:visible;width:12px;height:12px;margin-right:7px}.visually-hidden{position:absolute;left:-10000px}.kbsearch-input{width:100%;height:35px;padding:7.5px 30px 7.5px 17px}.kbsearch-input::-ms-clear{display:none}input::-webkit-search-cancel-button{display:none}.kbsearch-icon{display:inline-block;position:absolute;right:8px;top:0;cursor:pointer;width:30px;height:35px;background:0 0;border:none}.window--rtl .kbsearch-icon{left:10px;right:auto}.kbsearch-icon i{position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);font-size:14px}.kbsearch-window__chatWithAgent{position:absolute;bottom:35px;left:0;right:0}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding:0 45px}.window--bubble .kbsearch-window__chatWithAgent{bottom:35px;right:unset;width:calc(100% - 54px);margin:0 27px}.window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 19px 35px}.window--bubble .kbsearch--noFooter .kbsearch-window__chatWithAgent{bottom:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{bottom:0;width:100%;margin:0}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 45px 35px}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-top:20px;padding-bottom:45px}.window--mobile.withSideWin .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble .buttonProgressContainer{padding-bottom:30px}.window--ie .window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:20px}.window--ie .window--embeddend.window--bubble.window--ie9 .kbsearch-window__chatWithAgent{bottom:50px}.mobileSidewindow.kbsearch-mobile .kbsearch-window__chatWithAgent{bottom:55px}.kbsearch-window__form{position:relative}.window__form.kbsearch-window__form{padding-top:20px;padding-bottom:0;height:100%}.window__formContainer--bubble .kbsearch-window__form{height:auto}.article-list-container{position:relative}.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child,.kbsearch-window__form>div.article-list-container .article-list .article-item:last-child .article-summary{margin-bottom:0}.article-item{margin-bottom:15px}.article-title{font-size:.93333333rem;font-family:\"SourceSans Pro\",Arial;color:#323dbf;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;-webkit-text-size-adjust:100%;-webkit-box-orient:vertical;display:block;background:0 0;border:none;text-align:left;width:100%}.window--rtl .article-title{text-align:right}.article-title>span{border-bottom:1px solid transparent;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis}.article-title:active,.article-title:focus,.article-title:hover{border:none!important}.article-title:hover>span{border-bottom-color:#2b72ef}.article-summary{margin-bottom:25px;font-size:12px;line-height:1.67;font-family:\"SourceSans Pro\",Arial;color:#666;max-height:40px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-webkit-text-size-adjust:100%}.kb-highlight{color:#ed1c24}.window--bubble .window__form .icon-bubble-line__div{bottom:-1px;overflow:hidden;height:16px;position:absolute;width:10px;left:-10px}.window--bubble .window__form .icon-bubble-line__div .icon-bubble-line{left:0;bottom:0}.window--circle.window--ie10 .kbsearch__container,.window--classic.window--ie10 .kbsearch__container{max-height:calc(100% - 220px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent.kbsearch-window__chatWithAgent-mobile-bubble{bottom:45px}.window--mobile .kbsearch__container{overflow-y:hidden;margin-bottom:0;padding-bottom:95px}.kbsearch__container{-ms-flex:1;flex:1;overflow-y:hidden}.kbsearch-window__form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.article-list-container{-ms-flex:1;flex:1;overflow-y:auto}.window--ie .window--bubble:not(.window--mobile) .article-list-container{-ms-flex:auto;flex:auto}.window--mobile.withSideWin .kbsearch__container{margin-bottom:0;padding-bottom:125px}.window--mobile.withSideWin .kbsearch-window__chatWithAgent{bottom:75px}.DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;user-select:none;padding-bottom:1rem;-ms-flex-direction:row;flex-direction:row}.DayPicker-Month,.calendar-container{-webkit-user-select:none;-ms-user-select:none}.DayPicker-Months{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:center;justify-content:center}.window--bubble .DayPicker-Months,.window--circle .DayPicker-Months{color:#666}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;user-select:none;margin:1rem .5rem 0}.DayPicker-NavButton{position:absolute;cursor:pointer;top:1rem;right:1.5rem;margin-top:2px;color:#8b9898;width:1.25rem;height:1.25rem;display:inline-block;background-size:50%;background-repeat:no-repeat;background-position:center}.DayPicker-NavButton--interactionDisabled,.window--minimized .window--bubble{display:none}.DayPicker-NavButton:hover{opacity:.8}.DayPicker-NavButton--prev{margin-right:1.5rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC)}.DayPicker-NavButton--next{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==)}.DayPicker-Caption{padding:0 .5rem;display:table-caption;text-align:left;margin-bottom:.5rem}.DayPicker-Caption>div{font-size:1.15rem;font-weight:500}.DayPicker-Weekdays{margin-top:1rem;display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:.5rem;font-size:.875em;text-align:center;color:#8b9898}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day,.DayPicker-WeekNumber{display:table-cell;padding:.5rem;cursor:pointer;vertical-align:middle}.DayPicker-Day{text-align:center;outline:0}.DayPicker-WeekNumber{text-align:right;min-width:1rem;font-size:.75em;color:#8b9898;border-right:1px solid #eaecec}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:.5rem}.DayPicker-TodayButton{border:none;background-image:none;background-color:transparent;box-shadow:none;cursor:pointer;color:#4a90e2;font-size:.875em}.DayPicker-Day--today{color:#d0021b;font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#dce0e0;cursor:default}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){position:relative;color:#666;background-color:#000001;border-radius:100%}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--circle .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#000001;color:#000004}.window--bubble .DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover{background-color:#000002;color:#000004}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover{background-color:#f0f8ff;border-radius:50%}.DayPickerInput{position:relative}.DayPickerInput .input[readOnly]{border:1px solid #ddd}.DayPickerInput .form__input[disabled]{color:#888}.DayPickerInput-OverlayWrapper{position:absolute;z-index:99;top:-265px;left:0;width:225px}.DayPickerInput-Overlay{background:#fff;box-shadow:0 2px 5px rgba(0,0,0,.15)}.calendar-container .date-picker-span.date-picker-span__selected,.calendar-container .date-view-span.date-view-span__selected,.minimize-bar{background-color:#000001}.minimize-bar{cursor:pointer;border:1px solid #000001;width:300px;height:30px;border-radius:5px 5px 0 0;padding:0 15px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-line-pack:center;align-content:center}.minimize-bar:focus{border:1px solid #000004}.minimize-bar .minimize-bar__message{font-size:14px;line-height:30px;color:#000004;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;text-align:left;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.minimize-bar svg{width:16px;height:30px;fill:#000004;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.minimize-bar.window--circular{border-radius:20px 20px 0 0}@media (forced-colors:active){.minimize-bar{border:1px solid transparent}}.date-picker-container{background-color:#fff;color:#484848;font-family:'Open Sans',sans-serif;font-size:14px;position:relative;width:100%;height:33px}.date-picker-container>.date-picker-input{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px;border:1px solid #dbdbdb;border-radius:4px;position:relative}.date-picker-container>.date-picker-input>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:12px}.date-picker-container>.date-picker-input.date-picker-input__withAction{width:calc(100% - 33px);border-right:none;border-radius:4px 0 0 4px}.date-picker-container>.date-picker-input:focus{border-color:#000001}.date-picker-container .svg{color:#333;opacity:.5;width:auto;height:auto}.date-picker-container button .svg{width:16px;height:16px}.calendar-container{width:100%;user-select:none;max-width:325px;min-width:315px;border:1px solid #f4f4f4;border-radius:6px;padding-bottom:16px;box-shadow:0 1px 3px rgba(63,63,68,.15)}.calendar-container:focus{outline:0}.calendar-container .date-picker-header{width:100%;text-align:left}.calendar-container .date-picker-icon{width:22px;height:22px;position:absolute;cursor:pointer;bottom:3px;margin:auto;right:10px}.calendar-container .date-picker-label{font-size:15px;color:#000}.calendar-container .date-picker-span{font-size:14px;text-align:center;color:#222;width:40px;height:40px;margin:15px;display:inline-block;line-height:40px;cursor:pointer;overflow:auto}.calendar-container .date-picker-wrapper{width:100%;max-width:280px;text-align:center;box-sizing:border-box;margin:0 auto}.calendar-container .calendar-heading{width:100%;height:40px;max-width:325px;max-height:40px;margin-top:8px;position:relative;border-radius:6px}.calendar-container .date-editor-wrapper{min-width:170px;text-align:center;height:40px;line-height:40px}.calendar-container .date-editor-span{display:inline-block;color:#7e7e7e;font-size:1.125em;font-family:'SourceSans Pro';text-align:center;font-weight:600;cursor:pointer;height:40px;margin-right:10px;line-height:40px;overflow:auto}.calendar-container .date-editor-selected-span{color:#000001}.calendar-container .date-view-body{width:100%;text-align:left;height:40px}.calendar-container .date-view-span{border-radius:50%;font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:40px;line-height:40px;margin:0;overflow:auto}.calendar-container .date-view-head-span{font-size:14px;text-align:center;color:#222;display:inline-block;cursor:pointer;width:40px;height:30px;line-height:30px;margin:0;font-weight:600;opacity:.4;overflow:auto}.calendar-container .date-view-today{display:block;width:100%;height:40px;line-height:40px}.calendar-container .month-view-wrapper{margin-top:18px}.calendar-container .month-view-span{border-radius:5px;margin:0;width:90px;height:50px;line-height:50px}.calendar-container .year-view-wrapper{margin-top:18px}.calendar-container .year-view-span{border-radius:5px;margin:0;width:66px;height:50px;line-height:50px}.calendar-container .date-picker-arrow{cursor:pointer;color:#333;border-radius:50%;width:22px;height:22px;display:inline-block;position:absolute;top:0;bottom:0;margin-top:10px;font-weight:700;opacity:.5}.calendar-container .single-arrow-left{left:50px}.calendar-container .single-arrow-right{right:50px}.calendar-container .double-arrow-left{left:16px}.calendar-container .double-arrow-right{right:16px}.scroll-column-stack{position:relative;width:100%;height:100%}.scroll-column-stack button{background:0 0;border:none;font-size:16px;width:100%;padding:0 5px;text-align:center;cursor:pointer}.scroll-column-stack button.disabled{opacity:.5}.scroll-column-stack>input{position:absolute;left:1px;top:calc(38%);width:calc(97%);height:24px;line-height:24px;margin:0;border:none;text-align:center;font-size:20px;padding:0}.scroll-column{position:relative;width:100%;height:150px}.scroll-clip{overflow:hidden;width:100%;height:100%}.scroll-clip>ul{position:relative;list-style:none;margin:0;padding:0}.scroll-column li{width:100%;height:30px;line-height:30px;margin:0;padding:0;text-align:center;cursor:pointer}.selected-region{position:absolute;width:100%;height:30px;left:0;top:60px;z-index:-1}.selected-region-bottom,.selected-region-top{position:absolute;width:calc(100%);height:60px}.selected-region-top{top:0}.selected-region-bottom{top:90px}.scroll-handle{position:absolute;width:100%;height:100%;left:0;top:0;background:0 0;cursor:pointer}.time-selector{border:1px solid #dbdbdb;border-radius:4px;font-size:14px;height:33px;position:relative;width:100%}.time-selector.time-selector-dark{background-color:#484e58;color:#fff}.time-selector-dark>svg path{fill:#fff}.time-selector-dark .time-range-panel{background-color:#484e58}.time-selector-dark .panel-arrow>path:first-child{fill:#484e58}.time-selector-dark .panel-arrow>path:last-child{stroke:#f58520;fill:none}.time-selector-dark .scroll-column-stack button{color:#fff}.time-selector-dark .scroll-column-stack>input{background-color:#f58520;box-shadow:0 0 3px inset rgba(0,0,0,.5);color:#fff}.time-selector-dark .selected-region{background-color:rgba(234,133,32,.9);box-shadow:0 0 6px rgba(0,0,0,.5)}.time-selector-dark .selected-region-top{border-bottom:2px solid #e4e7e7;background:linear-gradient(#484e58 10%,rgba(72,78,88,.2) 95%,transparent 100%)}.time-selector-dark .selected-region-bottom{border-top:2px solid #e4e7e7;background:linear-gradient(transparent 0,rgba(72,78,88,.2) 5%,#484e58 100%)}.time-selector.time-selector-light{background-color:#fff;color:#484848}.time-selector-light>svg path{fill:#484848}.time-selector-light.time-range-panel{background-color:#fff;box-shadow:0 1px 3px rgba(63,63,68,.15);border-radius:4px}.time-selector-light .panel-arrow>path:first-child{fill:#fff}.time-selector-light .panel-arrow>path:last-child{stroke:#dbdbdb;fill:none}.time-selector-light .scroll-column-stack button{color:#484848}.time-selector-light .scroll-column-stack>input{background-color:#00a699;box-shadow:0 0 3px inset rgba(255,255,255,.5);color:#333}.time-selector-light .scroll-selected-value{margin:1px 0 -1px;color:#333;font-weight:700}.time-selector-light .scroll-transparent-value{color:#a8a8a8}.time-selector-light .selected-region{box-shadow:0 0 6px rgba(255,255,255,.5);color:#fff}.time-selector-light .selected-region-top{border-bottom:1px solid #b9b9b9}.time-selector-light .selected-region-bottom{border-top:1px solid #b9b9b9}.time-selector>span{display:inline-block;cursor:pointer;height:33px;line-height:33px;width:100%;min-width:80px;padding:0 14px}.time-selector>span>svg{color:#333;opacity:.5;font-size:16px;width:16px;height:16px;position:absolute;top:8px;right:38px}.time-selector>.taskbot_submit_btn_container{top:-1px}.time-range-panel{padding:8px 12px;z-index:10}.time-range-panel>.panel-arrow{position:absolute;top:-10px;width:20px;height:20px}.time-range-panel>.arrow-left{left:22px}.time-range-panel>.arrow-right{left:122px}.time-range-panel .time-columns{display:-ms-grid;display:grid;-ms-grid-columns:(1fr) [3];grid-template-columns:repeat(3,1fr)}.time-range-panel .time_confirm{height:32px;line-height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding-right:8px;cursor:pointer}.time-range-panel .time_confirm .time_tick{width:32px;height:32px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.time-range-panel .time_confirm .time_tick svg{width:16px;fill:#000001}.fc_input_ref{animation-duration:.6s;animation-timing-function:ease-in;animation-delay:.75s;animation-fill-mode:forwards}.fc_input_container{border-radius:5px;min-height:33px;position:relative;background-color:#fff}.fc_input{border-radius:5px 0 0 5px;height:33px;padding:7px 14px 6px;border:1px solid #d5d5d5;width:calc(100% - 33px);border-right:none}.fc_input_container_error .fc_input{border-color:#ed1c24!important}.fc_select_container{position:relative}.fc_select_input_container{position:relative;height:100%;border:1px solid #d5d5d5;border-radius:5px;box-sizing:border-box}.fc_select_input_container .fc_select_input_single{padding:7px 30px 6px 14px;width:100%;height:31px;line-height:18px;overflow:hidden;white-space:nowrap;cursor:pointer;text-overflow:ellipsis}.fc_select_input_container .fc_select_input_multiple{min-height:31px;padding:0 30px 4px 10px;max-height:85px;overflow-y:scroll;margin-right:1px}.fc_select_input_container .fc_select_input_multiple::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item{background:#efefef;border-radius:17px;height:23px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;margin:4px 4px 0}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item span{font-size:12px;line-height:23px;color:#263238;margin:0 10px 0 16px;cursor:default;max-width:83px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon{width:18px;height:18px;fill:#c4c4c4;border-radius:50%;margin-right:3px}.fc_select_input_container .fc_select_input_multiple .fc_multiple_select_item .delete_icon:hover{fill:#6c6c6c}.fc_select_input_container .arrow_container{position:absolute;right:0;top:0;margin-right:12px;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.fc_select_input_container .arrow{width:10px;height:10px;fill:#989898}.fc_select_input_container .arrow.arrow_down{-ms-transform:rotate(180deg);transform:rotateZ(180deg)}.fc_select_input_container:focus{border-color:#000001}.fc_select_input_container--error{border-color:#d34747}.fc_select_option_container{min-height:8px}.fc_select_option_list{box-shadow:0 1px 3px rgba(63,63,68,.35);margin-top:.5px;width:100%;padding:0;background:#fff;border-radius:5px;overflow-y:scroll;overflow-x:hidden;z-index:0;max-height:264px;animation-duration:.4s;animation-timing-function:ease-in-out;animation-delay:0s;animation-fill-mode:forwards}.fc_select_option_list::-webkit-scrollbar-thumb{background:rgba(51,51,51,.2)}.fc_select_option_list .fc_select_option_item{padding:0 16px;color:#747474;background:#fff;cursor:pointer;height:32px;line-height:32px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.fc_select_option_list .fc_select_option_item:hover{color:#263236;background-color:rgba(0,0,0,.06)}.fc_select_option_list .fc_select_option_item.selected{color:#000;background-color:#efefef}.highContrast .bubble,.highContrast .chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.highContrast .fc_multiple_select_item,.highContrast .fc_select_option_list,.highContrast .prechatForm__social .prechatForm__socialBtn,.highContrast .taskbot-popper,.highContrast .taskbot_multiple_select_item,.highContrast .taskbot_select_multiple .taskbot_select_multiple_item,.highContrast .taskbot_select_option_list,.highContrast .taskbot_submit_btn_container,.highContrast .taskbot_tool_tip_container,.highContrast .time-range-panel,.highContrast .whole-window,.highContrast .window__chatAgentMessage,.highContrast .window__chatVisitorMessage,.highContrast .window_buttons_container .window_buttons_item button,.highContrast .window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.highContrast .window__headerBox{border-bottom:1px solid}.highContrast .webView_background .webView__title{border-top:1px solid;border-bottom:none}.highContrast .window__chat .dot__element{background-color:CanvasText}.highContrast .calendar-container .date-picker-arrow svg,.highContrast .time-range-panel .time_confirm .time_tick svg,.highContrast .window__operation button>svg{fill:CanvasText!important}.highContrast .fc_select_option_list .fc_select_option_item.selected,.highContrast .taskbot_select_option_list .taskbot_select_option_item.active,.highContrast .taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.highContrast .chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.highContrast .date-picker-container>.date-picker-input:focus,.highContrast .fc_select_input_container:focus,.highContrast .taskbot_select_input_container:focus{border:1px solid Highlight}.highContrast .chat-message-time{opacity:.8}.highContrast .calendar-container [aria-selected=true]{color:Highlight!important}.highContrast .container-checkbox i.selected .checkbox1{fill:Highlight}.highContrast .container-checkbox i.unselected .checkbox1,.highContrast .container-checkbox i.unselected .checkbox3,.highContrast .control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.highContrast .checkbox2,.highContrast .date-picker-container>.date-picker-input>svg,.highContrast .prechatForm__social .prechatForm__socialBtn svg,.highContrast .taskbot_submit_btn_container .taskbot_send_button>div svg,.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.highContrast .time-selector>span>svg{fill:CanvasText}.highContrast .controlRadio .controlIndicator svg{border:1px solid CanvasText}.highContrast .control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.highContrast .taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}.highContrast #chat-input-control:-ms-input-placeholder{color:CanvasText}.highContrast #chat-input-control::placeholder{color:CanvasText}.highContrast .poweredby a[href] svg path,.highContrast .window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.highContrast .window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}@media (forced-colors:active){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}}@media (prefers-contrast:more){.bubble,.chatbot_quick_reply_container_buttons .window_quick_reply_container_box .window_quick_reply_buttons_item,.fc_multiple_select_item,.fc_select_option_list,.prechatForm__social .prechatForm__socialBtn,.taskbot-popper,.taskbot_multiple_select_item,.taskbot_select_multiple .taskbot_select_multiple_item,.taskbot_select_option_list,.taskbot_submit_btn_container,.taskbot_tool_tip_container,.time-range-panel,.whole-window,.window__chatAgentMessage,.window__chatVisitorMessage,.window_buttons_container .window_buttons_item button,.window_quick_reply_buttons .window_quick_reply_buttons_item{border:1px solid}.window__headerBox{border-bottom:1px solid}.webView_background .webView__title{border-top:1px solid;border-bottom:none}.window__chat .dot__element{background-color:CanvasText}.calendar-container .date-picker-arrow svg,.time-range-panel .time_confirm .time_tick svg,.window__operation button>svg{fill:CanvasText!important}.calendar-container .date-picker-arrow{opacity:1}.fc_select_option_list .fc_select_option_item.selected,.taskbot_select_option_list .taskbot_select_option_item.active,.taskbot_select_option_list .taskbot_select_option_item.selected{color:Highlight}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.date-picker-container>.date-picker-input:focus,.fc_select_input_container:focus,.taskbot_select_input_container:focus{border:1px solid Highlight}.chat-message-time{opacity:.8}.calendar-container [aria-selected=true]{color:Highlight!important}.container-checkbox i.selected .checkbox1{fill:Highlight}.container-checkbox i.unselected .checkbox1,.container-checkbox i.unselected .checkbox3,.control input[type=radio]~.controlIndicator svg circle{fill:Canvas}.checkbox2,.date-picker-container>.date-picker-input>svg,.prechatForm__social .prechatForm__socialBtn svg,.taskbot_submit_btn_container .taskbot_send_button>div svg,.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_tick,.time-selector>span>svg{fill:CanvasText}.controlRadio .controlIndicator svg{border:1px solid CanvasText}.control input[type=radio]:checked~.controlIndicator svg circle:first-child{fill:Highlight;stroke:Highlight}.taskbot_submit_btn_container .taskbot_submit_btn_svg .taskbot_loading circle{stroke:CanvasText}#chat-input-control:-ms-input-placeholder{color:CanvasText}#chat-input-control::placeholder{color:CanvasText}.poweredby a[href] svg path,.window__chatVisitorMessage .file__icon--cancel svg{fill:CanvasText!important}.window__chatVisitorMessage a:hover{border-bottom:1px solid CanvasText!important}*{border-color:#000!important}}@media all and (-webkit-min-device-pixel-ratio:0){::-webkit-scrollbar{height:6px;width:6px}.window__chat:hover::-webkit-scrollbar-thumb,.window__form:hover::-webkit-scrollbar-thumb,.window__formContainer:hover::-webkit-scrollbar-thumb,textarea:hover::-webkit-scrollbar-thumb{background-color:#c8c8c8}.window__chat{width:calc(100% - 2px);padding:18px 25px 0 27px;margin-bottom:0}.window__form{width:calc(100% - 2px);padding-right:43px}.window__form.window__ssologin{padding-right:45px}.window--bubble .window__form.window__ssologin{padding-right:19px}.kbsearch-window__chatWithAgent .buttonProgressContainer{padding-right:43px}.window__formContainer--bubble{padding-right:25px;margin-right:2px}.window__formContainer--bubble .window__form{width:100%}.window--mobile .window--bubble .kbsearch-window__chatWithAgent{width:calc(100% - 2px)}.window--mobile .window--bubble .kbsearch-window__chatWithAgent .buttonProgressContainer{padding:30px 43px 35px 45px}.window--mobile .window--bubble .window__form{padding-left:45px;padding-right:43px}.window--mobile .window--bubble .window__form.kbsearch-window__form{padding-left:20px;padding-right:18px}::-webkit-scrollbar-button{height:4px;background-color:transparent;background-repeat:no-repeat;cursor:pointer}::-webkit-scrollbar-corner{background-color:#fff}::-webkit-scrollbar-thumb{border-radius:4px;background-color:transparent}::-webkit-scrollbar-track{background-color:transparent}.window--rtl .window__form{padding-right:45px;padding-left:43px}}body,html,ol,ul{margin:0}::-webkit-input-placeholder{color:#626262}::-moz-placeholder{color:#626262}:-ms-input-placeholder{color:#626262}*,::after,::before{box-sizing:border-box}html{position:fixed;left:0;right:0;top:0;bottom:0;font-size:15px;-webkit-text-size-adjust:100%}body{font-family:'SourceSans Pro','微软雅黑',Arial;line-height:1.42857143;overflow:hidden}h1,h2,h3{font-weight:400;font-family:\"SourceSans Pro Bold\",Arial}div,section{outline:0}.clearfix::after{content:'';display:block;clear:both}.clear{clear:both}a{color:#000001;cursor:pointer;text-decoration:none}.global-showFocus .window__operation .header__operationContainer>a:focus{outline:0!important;border-bottom-width:1px;border-bottom-style:solid;text-decoration:none}a[href]:active,a[href]:focus,a[href]:hover{border-bottom:1px solid #000007;text-decoration:none}input,textarea{font-family:inherit}ol,ul{list-style-type:none;padding:0}b,strong{font-family:\"SourceSans Pro Bold\",Arial}textarea{resize:none}.animated{animation-duration:1s;animation-fill-mode:both}.animated.hinge{animation-duration:2s}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.transform-origin-00{-ms-transform-origin:0 0;transform-origin:0 0}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}.fadeInDown{animation-name:fadeInDown}.fadeInUp,.fadeInUp--window__form{animation-name:fadeInUp}@keyframes main-container--fadeOut{0%{opacity:1;transform:translateY(0)}99%{opacity:0;transform:translateY(0)}100%{opacity:0;transform:translateY(620px)}}@keyframes main-container--fadeIn{0%{opacity:0;transform:translateY(0)}100%{opacity:1;transform:translateY(0)}}@keyframes fadeInUp{0%{opacity:0;transform:translate3d(0,50%,0)}to{opacity:1;transform:none}}.fadeInUp--window__form{animation-duration:292ms;animation-fill-mode:both;animation-delay:625ms}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;transform:translate3d(0,-100%,0)}}.fadeOutUp{animation-name:fadeOutUp}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}@keyframes yAxisWindow{100%{opacity:1}}@keyframes window--opening{0%{opacity:0;transform:translateY(100%)}99.999999%{opacity:1;transform:translateY(0)}100%{opacity:1;transform:none}}@keyframes window--adaptive--opening{0%{opacity:.666667;transform:scale(.666667)}99.999999%{opacity:1;transform:scale(1)}100%{opacity:1;transform:none}}@keyframes window--minimizing{0%{transform:translateY(0);opacity:1}100%{transform:translateY(100%);opacity:0}}@keyframes window--adaptive--minimizing{0%{transform:scale(1);opacity:1}100%{transform:scale(.666667);opacity:0}}.animation--chatting.window--animated .header{transition:height 416ms cubic-bezier(.785,.135,.15,.86) .4s}.animation--chatting .prechatHeader,.animation--waiting .prechatHeader{opacity:0;-ms-transform:translateY(-140px);transform:translateY(-140px);transition:all 416ms cubic-bezier(.785,.135,.15,.86) 1.792s}@keyframes animation-translateY-Up{0%{transform:translateY(0);overflow:hidden}100%{transform:translateY(-100%)}}.animation-translateY-Up{animation-duration:458ms;animation-fill-mode:both;animation-timing-function:cubic-bezier(.785,.135,.15,.86);animation-name:animation-translateY-Up;animation-delay:1.209s}.whole-window{position:absolute;z-index:10;width:100%;height:100%;box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15);animation:window--opening .3s linear none;border-radius:5px}.window--chrome .whole-window{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--chrome .whole-window.window--bubble,.window--chrome .whole-window.window--bubble:not(.window--embedded){box-shadow:none}.window--chrome .whole-window:not(.window--embedded){box-shadow:2.5px 0 5px 0 rgba(0,0,0,.15)}.window--chrome .whole-window:not(.window--embedded).window--bubble{box-shadow:none}.whole-window:not(.window--embedded){box-shadow:2.5px 0 2.5px 0 rgba(0,0,0,.15)}.whole-window:not(.window--embedded).window--bubble,.window--bubble{box-shadow:none}.whole-window.window--circular{border-radius:20px}.whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--opening .2s linear none}.window--ie .whole-window,.window--ie .whole-window.window--adaptive{animation:none}.window--minimized .whole-window{animation:window--minimizing .3s linear forwards}.window--minimized .whole-window.window--adaptive{-ms-transform-origin:bottom right;transform-origin:bottom right;animation:window--adaptive--minimizing .2s linear forwards}.window--ie .window--minimized .whole-window,.window--ie .window--minimized .whole-window.window--adaptive{animation:none}.window--bubble.whole-window .main-container{position:relative;min-height:200px}.window--bubble,.window--ipad .window--embedded .bubble-box.bubble-box--minimize{position:absolute}.window--embedded,.window--embedded .bubble-box{right:7.5px;bottom:12.5px;width:calc(100% - 15px);height:calc(100% - 15px)}.window--circle--sidewindow,.window--classic--sidewindow{box-shadow:0 5px 7.5px 0 rgba(0,0,0,.15)}.window--chrome .window--circle--sidewindow,.window--chrome .window--classic--sidewindow{box-shadow:0 5px 15px 0 rgba(0,0,0,.15)}.window--embedded.window--circle--sidewindow,.window--embedded.window--circle--sidewindow .bubble-box,.window--embedded.window--classic--sidewindow,.window--embedded.window--classic--sidewindow .bubble-box{width:calc(100% - 15px)}.window--ipad .window--embedded,.window--ipad .window--embedded .bubble-box{right:7.5px;width:calc(100% - 15px)}.window--ipad .window--bubble.window--embedded,.window--ipad .window--bubble.window--embedded .bubble-box{bottom:0;height:100%}.window--bubble.window--embedded,.window--bubble.window--embedded .bubble-box{height:100%;width:100%;right:0;bottom:0}.window--bubble{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:end;justify-content:flex-end}.main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:100%;background-repeat:no-repeat;background-position:center bottom;background-size:cover}.loading-circle{fill:#a3a3a3}.main-container,.main-container .bubble-box{border-radius:5px}.window--circular .main-container,.window--circular .main-container .bubble-box{border-radius:20px}.window--mobile:not(.window--ipad) .main-container,.window--mobile:not(.window--ipad) .main-container .bubble-box{border-radius:0}.window--embedded.window--circle,.window--embedded.window--circle .bubble-box{height:calc(100% - 15px);top:2.5px}.window--embedded.window--bio.window--circle,.window--embedded.window--bio.window--circle .bubble-box{height:calc(100% - 45px);top:unset}.window--embedded.window--circle.window-noavator,.window--embedded.window--circle.window-noavator .bubble-box{height:calc(100% - 7.5px)}.window--bio.window--circle{height:calc(100% - 32.5px);top:32.5px}.window--bio.window--circle .bubble-box,.window--circle.window-noavator,.window--circle.window-noavator .bubble-box{top:0;height:100%}.window--circle.window--embedded.window-noavator,.window--circle.window--embedded.window-noavator .bubble-box{top:unset}.window--bubble{background:0 0}.window--bubble:not(.window--embedded){padding-left:0;padding-right:0}.window--rtl .container-checkbox,.window--rtl .control{padding-left:0;padding-right:26px}.window--bubble .main-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;background:0 0;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-negative:0;flex-shrink:0;position:static;bottom:0;height:auto}.window--bubble.window--rtl .window__chatSystemMessageContent,.window--rtl .bubble,.window--rtl .knowlegedbase__content,.window--rtl .window__chatAgentMessage,.window--rtl .window__chatInputControl,.window--rtl .window__chatSystemMessage,.window--rtl .window__chatVisitorMessage,.window--rtl .window__form,.window--rtl .window__formContainer,.window--rtl .window__formGreeting,.window--rtl .window_chatError{direction:rtl}.window--bubble.window--rtl .window__chatSystemMessage{direction:ltr}.window--rtl .rating{text-align:right}.window--rtl .rating .star:first-child{margin-right:0}.window--rtl .rating .star:last-child{margin-right:10px}.window--rtl .prechatForm__social .prechatForm__socialBtn{margin-right:0;margin-left:12px}.window--rtl .prechatForm__social .prechatForm__socialBtn:last-child{margin-left:0}.window--rtl .bubble .bubble__operation .btn:first-child,.window--rtl .form-fields--horizonal .field-name{margin-right:0;margin-left:10px}.window--rtl .invitation__message,.window--rtl .invitation__type,.window--rtl .minimize-bar__message{direction:rtl;text-align:right}.window--rtl .minimize-bar__message{padding-right:15px}.window--ie9.window--classic .header__agentInfo,.window--ie9.window--classic .header__avatar{float:left}.window--ie9.window--circle .window__form,.window--ie9.window--classic .window__form{height:calc(100% - 156px);padding-bottom:30px}.window--ie9.window--circle .window__form.window__ssologin,.window--ie9.window--classic .window__form.window__ssologin{height:auto}.window--ie9 .chat-time{margin-top:15px}.window--ie9.chat-time{padding-top:10px}.window--ie9.window--classic .header__avatar{float:left}.window--ie9 .chatInputContainer{position:absolute;bottom:23px;width:100%}.window--ie9.window--bubble .window__chat,.window--ie9.window--bubble .window_quick_reply_container_box{position:relative;bottom:75px}.window--ie9 .buttonProgressContainerSuccess .buttonProgressBtnAnimated{opacity:.65}.window--ie9 .buttonProgress__layerCircle,.window--ie9 .buttonProgress__layerLoading,.window--ie9 .buttonProgress__layerSuccess,.window--ie9 .lds-css{display:none!important}.window--ie9 .window__footer{position:absolute;bottom:0;display:inline-block}.window--ie9 .multipleText{overflow:auto}.window--ie9.window--bubble .window__chatAgent{position:relative}.window--ie9 .rating .star.animate{color:#ffd051}.window--ie9 .select-box .select{padding:5px 10px}.window--ie9 .form-fields .box-field iframe{height:30px}.window--ie9 .window__formContainer--bubble{overflow-y:auto!important}.window--ie9.window--classic .header__agent--withlogo{max-width:calc(100% - 110px)}.window--ie9.window--classic .header__logo{float:right}.window--ie9.window--classic .header__agentInfo{max-width:calc(100% - 60px)}.window--ie9.window--classic .window__header--withBio{height:136px}.window--ie9.window--classic .window__header--noBio{height:126px;background-color:#000001}.window--ie9.window--circle .window__header--noBio,.window--ie9.window--circle .window__header--withBio,.window--ie9.window--circle .window__headerBox{height:136px}.window--ie9.window--classic .window__chat--withBio{max-height:calc(100% - 236px)}.window--ie9.window--classic .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 286px)}.window--ie9.window--classic .window__chat--noBio{height:calc(100% - 195px)}.window--ie9.window--classic .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 245px)}.window--ie9.window--circle .window__chat--withBio{max-height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--withBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--circle .window__chat--noBio{height:calc(100% - 205px)}.window--ie9.window--circle .window__chat--noBio.window__chat--withQuickReply{height:calc(100% - 255px)}.window--ie9.window--bubble .main-container{overflow:auto;overflow-x:hidden}.window--ie9 .window__chatInputControl{padding:0 10px 0 25px}.window--ie9 .chat-input__toolbox{position:absolute;right:20px;bottom:10px}.window--ie9 .main-container{display:block}.window--ie9 .window--bubble.whole-window .main-container{position:fixed}.window--ie9 .window__kb_formContainer{margin-right:0;margin-left:0}.window--ie9 .agentMessage__avatar,.window--ie9 .window__chatAgentMessage{float:left}.window--ie9 .window--bubble .window__operation-menu{max-width:160px}.window--ie9 .window__operation-menu li button>div.menu__text-container{max-width:85px}.window--ie9 .window__operation-menu,.window--ie9 .window__operation-menu-icon{width:150px}.window--ie .window--embedded.window--circle .window__header--hasAvatar+.window__title .bubble-box{top:32.5px}#container~div>:last-child{max-height:580px;overflow-y:auto!important}#container~div>:last-child::-webkit-scrollbar-thumb{background-color:#c8c8c8}.btnScrollToBottom{position:sticky;z-index:9;bottom:10px;float:right;margin-right:-14px;background-color:#fff;border:none;outline:0;border-radius:36px;box-shadow:0 2px 2px rgba(0,0,0,.12);padding:10px;height:30px;line-height:1;color:#00000a;cursor:pointer}.btnScrollToBottom>svg{fill:#00000a;width:1em;height:1em;font-size:10px;position:relative;top:1px}.btnScrollToBottomWithBadge{background-color:#00000a;color:#00000e}.btnScrollToBottomWithBadge>svg{fill:#00000e}.greeting-message ol{list-style-type:decimal;text-align:initial;list-style-position:outside;padding-left:10px}.greeting-message ul{list-style-type:initial;text-align:initial;list-style-position:inside}.greeting-message table{border-collapse:collapse;empty-cells:show;max-width:100%}.greeting-message table td,.greeting-message table th{border:1px solid #ddd}.greeting-message table th{background:#ececec}.greeting-message table.fr-dashed-borders td,.greeting-message table.fr-dashed-borders th{border-style:dashed}.greeting-message table td.fr-highlighted,.greeting-message table th.fr-highlighted{border:1px double red}.greeting-message table td.fr-thick,.greeting-message table th.fr-thick{border-width:2px}.greeting-message table.fr-alternate-rows tbody tr:nth-child(2n){background:#dedede}.greeting-message table img{display:inline-block;float:none;margin-left:5px;margin-right:5px;max-width:calc(90%);vertical-align:bottom}",me="desktop",we="mobile",be="ipad",ve="systemEndChat",_e="systemPromoteOfflineMesage",xe="visitorNotRespond",ye="visitorNotRespondAndEndChat",Se="systemStartChatbot",Ce="visitorAddTextMessage",ke="visitorRequestChat",Ie="visitorSendFile",Me="visitorSendImage",Oe="visitorSendPassword",Ae="visitorSubmitSecureForm",Be="visitorCancelSecureForm",Te="visitorCreditCardMasked",je="visitorGetSecureFormFailure",Pe="visitorTyping",Fe="agentSendText",We="agentAddInvitationText",Ne="agentAcceptChat",Ve="agentRefuseChat",De="agentEndChat",Re="agentJoinChat",Ee="agentTransferChat",ze="agentSendUrl",Le="agentTyping",He="agentTransferChatToDepartment",qe="agentAcceptTransfer",Ue="agentSendFile",Ge="agentSendImage",Ke="agentSendImageStart",Ye="agentRequestSecureForm",Je="agentPushPage",Qe="agentVideoChatRequest",Ze="agentVideoChatCancelRequest",Xe="agentVideoChatAccept",$e="agentVideoChatRefuse",tn="agentVideoChatStop",en="visitorVideoChatRequest",nn="visitorVideoChatCancelRequest",on="visitorVideoChatAccept",an="visitorVideoChatRefuse",rn="visitorVideoChatStop",sn="systemVideoChatNoAnswer",cn="systemVideoChatEnd",dn="cobrowseRequest",ln="cobrowseAccept",un="cobrowseStart",pn="cobrowseRefuse",hn="cobrowseNoAnswer",fn="cobrowseEnd",gn="cobrowseNotSupport",mn="cobrowseBrowserNotSupport",wn="cobrowseCancel",bn="cobrowseHttpNotSupport",vn="agentAudioChatRequest",_n="agentAudioChatCancelRequest",xn="agentAudioChatAccept",yn="agentAudioChatRefuse",Sn="agentAudioChatStop",Cn="visitorAudioChatRequest",kn="visitorAudioChatCancelRequest",In="visitorAudioChatAccept",Mn="visitorAudioChatRefuse",On="visitorAudioChatStop",An="systemAudioChatNoAnswer",Bn="systemAudioChatEnd",Tn="systemIfSupportWebrtc",jn="agentPushSSO",Pn="visitorSingleLogout",Fn="agentRequestRatingFromVisitor",Wn="agentAutoSendTextVisitorNotReply",Nn="agentAutoSendTextAgentNotReply",Vn="ratingForm",Dn="chatbotRequestQuestionGuid",Rn="chatbotIntentTaskComplete",En="chatbotHighConfidenceAnswer",zn="chatbotPossibleAnswer",Ln="chatbotBadAnswer",Hn="chatbotJoinChat",qn="chatbotSendGreetingMessage",Un="botSignIn",Gn="botForm",Kn="visitorCancelBotForm",Yn="visitorSubmitBotForm",Jn="botPrompt",Qn="botRequestLocation",Zn="chatbotSetAnswerIfHelpful",Xn="visitorRequestChatExceedChatQueueLimit",$n="visitorText",ti="visitorImage",ei="visitorFile",ni="systemPrompt",ii="startChatAgain",oi="downloadTranscript",ai="emailTranscript",ri="creditCardMasked",si="autoInvMsg",ci="pendingVisitorIsTyping",di="pendingVideoRequesting",li="pendingAudioRequesting",ui="pendingAccept",pi="pendingHangup",hi="pendingSubmitSecureForm",fi="pendingCancelSecureForm",gi="pendingGetSecureFormFailure",mi="pendingCobrowseAccept",wi="pendingCobrowseStart",bi="pendingCobrowseRefuse",vi="pendingCobrowseNotSupport",_i="pendingCobrowseBrowserNotSupport",xi="pendingCobrowseEnd",yi="pendingCobrowseHttpNotSupport",Si="agentScreenSharingRequest",Ci="agentScreenSharingCancelRequest",ki="agentScreenSharingAccept",Ii="agentScreenSharingRefuse",Mi="agentScreenSharingStop",Oi="visitorScreenSharingRequest",Ai="visitorScreenSharingCancelRequest",Bi="visitorScreenSharingAccept",Ti="visitorScreenSharingRefuse",ji="visitorScreenSharingStop",Pi="agentRequestVisitorScreenSharing",Fi="agentCancelRequestVisitorScreenSharing",Wi="visitorRefuseAgentRequestVisitorScreenSharing",Ni="visitorAcceptAgentRequestVisitorScreenSharing",Vi="systemScreenSharingNoAnswer",Di="pendingScreenSharingRequesting",Ri="pendingAcceptScreenSharing",Ei="pendingHangupScreenSharing",zi="pendingVisitorAcceptAgentRequestVisitorScreenSharing",Li="systemScreenSharingEnd",Hi="systemStartTaskbot",qi="taskbotJoinChat",Ui="taskbotActions",Gi="taskbotRequestQuestionGuid",Ki="taskbotComplete",Yi="chatbotActions",Ji="agentTransferChatToAnotherSite",Qi="agentRecallMessage",Zi="recalledChatMessage",Xi="00000001-0000-0000-0000-000000000001",$i="⊙",to=1e4,eo="00000000-0000-0000-0000-000000000000",no="00000001-0000-0000-0000-000000000001",io="#0033e2",oo={batchAction:"batchAction",uploadFileAction:"uploadFileAction",getConfig:"getConfig",setCustomVariables:"setCustomVariables",newVisitor:"newVisitor",pageVisit:"pageVisit",getChatButton:"getChatButton",getIfOnline:"getIfOnline",checkIfOnline:"checkIfOnline",checkAutoInvitation:"checkAutoInvitation",confirmAutoInvitation:"confirmAutoInvitation",acceptAutoInvitation:"acceptAutoInvitation",refuseAutoInvitation:"refuseAutoInvitation",checkManualInvitation:"checkManualInvitation",refuseManualInvitation:"refuseManualInvitation",manualInvitationShowed:"manualInvitationShowed",submitSSOInfo:"submitSSOInfo",submitPrechat:"submitPrechat",socialLogin:"socialLogin",requestChat:"requestChat",requestChatFromChatbot:"requestChatFromChatbot",sendChatMessages:"sendChatMessages",getChatMessages:"getChatMessages",getChatQueue:"getChatQueue",setVisitorStatus:"setVisitorStatus",submitRating:"submitRating",emailTranscript:"emailTranscript",sendFile:"sendFile",uploadFile:"uploadFile",endChat:"endChat",submitPostChat:"submitPostChat",submitOfflineMessage:"submitOfflineMessage",chatBotAnswerHelpful:"chatBotAnswerHelpful",chatBotSelectQuestion:"chatBotSelectQuestion",prechatHeartbeat:"prechatHeartbeat",offlineMessageHeartbeat:"offlineMessageHeartbeat",enterOfflineMessage:"enterOfflineMessage",checkManuallyInvited:"checkManuallyInvited",closeWindow:"closeWindow",getDepartments:"getDepartments",getAgents:"getAgents",checkBan:"checkBan",systemProcessingHeartbeat:"systemProcessingHeartbeat",restoreChat:"restoreChat",checkBBSCode:"checkBBSCode",checkDynamicCampaign:"checkDynamicCampaign",getDynamicCampaign:"getDynamicCampaign",pageHeartbeat:"pageHeartbeat",getChatWindowConfig:"getChatWindowConfig",getCustomVariables:"getCustomVariables",visitorHandleBotForm:"visitorHandleBotForm",setBotVariable:"setBotVariable",agentMsgSeenByVisitor:"agentMsgSeenByVisitor",visitorGetLatestMsgSeen:"visitorGetLatestMsgSeen",setLocation:"setLocation",getVisitorInfo:"getVisitorInfo",recoverVisitor:"recoverVisitor",getFileUploadToken:"getFileUploadToken",getSSORecoverInfo:"getSSORecoverInfo",requestChatFromAnotherSite:"requestChatFromAnotherSite",showInvitation:"showAutoInvitation"},ao=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return Object.assign({type:oo.uploadFileAction,action:t,file:e},i)},ro=function(t,e,n,i,o,a,r,s,c){return void 0===n&&(n=""),{type:oo.newVisitor,campaignId:t,visitorId:e,visitorGuid:n||"",referrer:i,landingPage:o,timezone:a,screenResolution:r,ifSupportWebrtc:s,firstVisitTime:c.firstVisitTime||(new Date).getTime(),visitTimes:c.visitTimes||0,chatTimes:c.chatTimes||0,name:c.name||(c.form?c.form.name:""),email:c.email||(c.form?c.form.email:""),persistentVisitor:c.persistentVisitor||!1}},so=function(t,e,n,i,o,a,r,s,c,d,l,u,p,h,f){return Object.assign({},ro(t,void 0,e,n,s,i,o,a,r),{status:c,ifSearchingKB:d,type:oo.recoverVisitor,navigation:l},u,{ssoInfo:p,isChattingWithTaskbot:h,taskbotId:f})},co=function(t,e){return{type:oo.pageVisit,campaignId:t,page:e}},lo=function(t,e){return{type:oo.setCustomVariables,customVariables:t,campaignId:e}},uo=function(t){return{type:oo.checkIfOnline,campaignId:t}},po=function(t){return{type:oo.checkAutoInvitation,campaignId:t}},ho=function(t,e){return{type:oo.confirmAutoInvitation,campaignId:t,invitationId:e}},fo=function(t){return{type:oo.checkManualInvitation,campaignId:t}},go=function(t,e,n){return{type:e?oo.refuseManualInvitation:oo.refuseAutoInvitation,campaignId:t,invitationId:e?void 0:n}},mo=function(t,e){return void 0===e&&(e=!1),{type:oo.getChatButton,campaignId:t,alreadyCampaignId:e}},wo=function(t,e){return{type:oo.submitSSOInfo,token:t,campaignId:e}},bo=function(t,e){return{type:oo.submitPrechat,form:t,campaignId:e}},vo=function(t){return{type:oo.checkManuallyInvited,chatGuid:t}},_o=function(t,e){return{type:oo.getFileUploadToken,chatGuid:e,fileUploadSource:t?0:1}},xo=function(t,e){return{type:oo.submitRating,chatGuid:t,rating:e}},yo=function(t){return{type:oo.socialLogin,socialType:t.source,name:t.name,email:t.email,avatar:t.avatar,profileUrl:t.profile}},So=function(t,e,n,i,o){return void 0===n&&(n=!1),{type:oo.requestChat,campaignId:t,source:e,isPrechatDone:n,isSupportWebrtc:v,ticketId:i,departmentId:o}},Co=function(t){return{type:oo.endChat,chatGuid:t}},ko=function(t,e){return{type:oo.getChatMessages,chatGuid:t,fromId:e}},Io=function(t){return{type:oo.getChatQueue,chatGuid:t}},Mo=function(t,e){return{type:oo.agentMsgSeenByVisitor,chatGuid:t,msgGuid:e}},Oo=function(t){return{type:oo.visitorGetLatestMsgSeen,chatGuid:t}},Ao=function(t,e){return{type:oo.sendChatMessages,chatGuid:t,messages:e}},Bo=function(){return{type:oo.getDepartments}},To=function(){return{type:oo.getAgents}},jo=function(t){var e=t.filter((function(t){return!!t}));return 0===e.length?null:1===e.length?e[0]:{type:oo.batchAction,actions:e}},Po=function t(e,n){null!=n&&(n.type===oo.batchAction?n.actions?n.actions.forEach((function(n){return t(e,n)})):n.payload&&n.payload.forEach((function(n){return t(e,n)})):e(n))},Fo=function(t,e){var n=null;return Po((function(t){t.type===e&&(n=t)}),t),n},Wo=function t(e,n){if(null==n)return null;var i=e(n);if(i.type===oo.batchAction){if(i.actions)return{type:i.type,actions:i.actions.map((function(n){return t(e,n)}))};if(i.payload)return{type:i.type,payload:i.payload.map((function(n){return t(e,n)}))}}return i},No=function(t){var e=t.visitorGuid,n=t.visitorId;return{type:oo.checkBan,visitorGuid:n?void 0:e,visitorId:n}},Vo=function(){return{type:oo.restoreChat}},Do=function(){return{type:oo.checkDynamicCampaign}},Ro=function(){return{type:oo.getDynamicCampaign}},Eo=function(){return{type:oo.pageHeartbeat}},zo=function(t){return{type:oo.getChatWindowConfig,siteId:t}},Lo=function(){return{type:oo.getSSORecoverInfo}},Ho="name",qo="email",Uo="phone",Go="company",Ko="product",Yo="department",Jo="ticket",Qo="rating",Zo="comment",Xo="subject",$o="content",ta="attachment",ea="text",na="textArea",ia="checkbox",oa="checkBox",aa="checkboxList",ra="nps",sa="captcha",ca="singleSelect",da="multipleSelect",la="date",ua="time",pa="password",ha="decimal",fa="integer",ga="videoIncoming",ma="notStart",wa="videoRequesting",ba="videoChatting",va="audioIncoming",_a="audioChatting",xa="audioRequesting",ya="notStart",Sa="screenSharingRequesting",Ca="screenSharingIncoming",ka="screenSharingProcessingAcceptedByVisitor",Ia="screenSharingProcessingAcceptedByAgent",Ma="agentRequestVisitorScreenSharing";function Oa(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Oa)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(Oa,Error),Oa.buildMessage=function(t,e){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function i(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+i(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+i(t)}))}return"Expected "+function(t){var e,i,o,a=new Array(t.length);for(e=0;e<t.length;e++)a[e]=(o=t[e],n[o.type](o));if(a.sort(),a.length>0){for(e=1,i=1;e<a.length;e++)a[e-1]!==a[e]&&(a[i]=a[e],i++);a.length=i}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."};var Aa={SyntaxError:Oa,parse:function(t,e){e=void 0!==e?e:{};var n,i={},o={All:j},a=j,r="[",s=M("[",!1),c=/^[^[]/,d=O(["["],!0,!1),l=function(t,e){return{label:t,url:e}},u="]",p=M("]",!1),h=function(t){return t.join("")},f="(",g=M("(",!1),m=")",w=M(")",!1),b=function(t){return t.join("")},v=/^[^[\]]/,_=O(["[","]"],!0,!1),x=/^[^)]/,y=O([")"],!0,!1),S=0,C=[{line:1,column:1}],k=0,I=[];if("startRule"in e){if(!(e.startRule in o))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=o[e.startRule]}function M(t,e){return{type:"literal",text:t,ignoreCase:e}}function O(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function A(e){var n,i=C[e];if(i)return i;for(n=e-1;!C[n];)n--;for(i={line:(i=C[n]).line,column:i.column};n<e;)10===t.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return C[e]=i,i}function B(t,e){var n=A(t),i=A(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:i.line,column:i.column}}}function T(t){S<k||(S>k&&(k=S,I=[]),I.push(t))}function j(){var e,n,o;for(e=[],(n=F())===i&&(91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n===i&&(n=S,n=(o=P())!==i?t.substring(n,S):o));n!==i;)e.push(n),(n=F())===i&&(91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n===i&&(n=S,n=(o=P())!==i?t.substring(n,S):o));return e}function P(){var e,n;if(e=[],c.test(t.charAt(S))?(n=t.charAt(S),S++):(n=i,T(d)),n!==i)for(;n!==i;)e.push(n),c.test(t.charAt(S))?(n=t.charAt(S),S++):(n=i,T(d));else e=i;return e}function F(){var e,n,o;return e=S,n=function(){var e,n,o,a,c;e=S,91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s));if(n!==i){if(o=[],(a=N())===i&&(a=S,a=(c=W())!==i?t.substring(a,S):c),a!==i)for(;a!==i;)o.push(a),(a=N())===i&&(a=S,a=(c=W())!==i?t.substring(a,S):c);else o=i;o!==i?(93===t.charCodeAt(S)?(a=u,S++):(a=i,T(p)),a!==i?e=n=h(o):(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}(),n!==i?(o=function(){var e,n,o,a;e=S,40===t.charCodeAt(S)?(n=f,S++):(n=i,T(g));if(n!==i){if(o=[],(a=V())!==i)for(;a!==i;)o.push(a),a=V();else o=i;o!==i?(41===t.charCodeAt(S)?(a=m,S++):(a=i,T(w)),a!==i?e=n=b(o):(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}(),o!==i?e=n=l(n,o):(S=e,e=i)):(S=e,e=i),e}function W(){var e,n,o,a;if(e=S,91===t.charCodeAt(S)?(n=r,S++):(n=i,T(s)),n!==i){for(o=[],(a=N())===i&&(a=W());a!==i;)o.push(a),(a=N())===i&&(a=W());o!==i?(93===t.charCodeAt(S)?(a=u,S++):(a=i,T(p)),a!==i?e=n=[n,o,a]:(S=e,e=i)):(S=e,e=i)}else S=e,e=i;return e}function N(){var e;return v.test(t.charAt(S))?(e=t.charAt(S),S++):(e=i,T(_)),e}function V(){var e;return x.test(t.charAt(S))?(e=t.charAt(S),S++):(e=i,T(y)),e}if((n=a())!==i&&S===t.length)return n;throw n!==i&&S<t.length&&T({type:"end"}),function(t,e,n){return new Oa(Oa.buildMessage(t,e),t,e,n)}(I,k<t.length?t.charAt(k):null,k<t.length?B(k,k+1):B(k,k))}},Ba=["type","content","translated","originalMessage"],Ta=function(t,n){return t.map((function(t){var i=t.type;t.content;var o=t.translated,a=t.originalMessage,r=F(t,Ba);return!n||i!==Fe&&i!==Ce&&i!==Le&&i!==Pe&&i!==Wn&&i!==Nn?Object.assign({},r,{type:i,translated:o,originalMessage:a}):Object.assign({type:i},r,{translated:e.Base64.encode(o),originalMessage:e.Base64.encode(a),encoding:n})}))},ja=function(t,e){var n="/chatwindow.aspx?siteId="+t+"&planId="+e;return T.version&&(n+="&version="+T.version),n},Pa=function(t){return t?Object.keys(t).reduce((function(e,n){try{var i=T.call(t[n]);if(void 0===i)return e;var o=e;return o[n]=null===i?i:i.toString(),o}catch(t){return e}}),{}):null},Fa=function(){return(new Date).getTimezoneOffset()},Wa=function(){return screen.width+"x"+screen.height},Na=/(?:www\.|(?:https?|ftp|news|rtsp|mms):\/\/)[\w$%][\w_!~*'();?:@&=+$,%#-./]*[\w_!~*'();?:@&=+$%#-]\/?/gi,Va=/(?:\+ ?)?\(?\d(?:[()]?[-]?[()]?\d){4,19}/;function Da(t){for(var e=t,n=Va.exec(e),i=[],o=[];n&&e;){var a=n.index,r=n[0],s=e.substr(0,a);e=e.substr(a+r.length);var c=r.match(/\(/g),d=c?c.length:0,l=r.match(/\)/g),u=d===(l?l.length:0);if(u)if(s.length>0){var p=s[s.length-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(p)}else if(i.length>o.length){var h=i[i.length-1],f=h[h-1];u=/[^a-zA-Z0-9!@#$%^&*~]/.test(f)}else i.length>0&&(u=!1,s=o.pop()+s);if(u&&(u=!/^\d/.test(e||"")),u)i.length>o.length?i[i.length-1]+=s:i.push(s),o.push(r);else{var g=s+r;i.length>o.length?i[i.length-1]+=g:i.push(g)}n=Va.exec(e)}return e?i.length===o.length?i.push(e):i[i.length-1]+=e:i.length===o.length&&i.push(""),[i,o]}function Ra(t,e,n,i){var o,a;if(e instanceof RegExp)o=t.split(e),a=t.match(e);else{var r=e(t);o=r[0],a=r[1]}for(var s=new Array(2*o.length-1),c=0;c<o.length;c+=1)s[2*c]=i(o[c]),c!==o.length-1&&(s[2*c+1]=n(a[c],c,a));return s}var Ea=function(t){for(var e=Aa.parse(t),n=[],i=0;i<e.length;i++){var o=e[i];"string"!=typeof o||"string"!=typeof n[n.length-1]?"string"==typeof o?n.push(o):n.push({label:o.label,url:o.url.trim()}):n[n.length-1]+=o}return n};var za,La=/^[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$/,Ha=function(t){return La.test(t)},qa=/^\d+$/,Ua=function(t){return qa.test(t)},Ga=function(){return/ipad/i.test(j)?be:/mobile|android/i.test(j)?we:me},Ka=function(){var t=Ga();return t===we||t===be},Ya=function(t){return t.replace(/[\s|\d]{10,}/g,(function(t){return function(t){var e="^(?:"+["3[4|7]\\d{2}\\s{0,1}\\d{6}\\s{0,1}\\d{1}","3[0|6|8|9]\\d{3}\\s{0,1}\\d{4}\\s{0,1}\\d{1}","(?:6011\\s{0,1}\\d{4}\\s{0,1}|65\\d{2}\\s{0,1}\\d{4}\\s{0,1}|622(?:(?:1\\s{0,1}2[6-9]|1\\s{0,1}[3-9]\\d|[2-8]\\d{2})\\d{2}\\s{0,1}|9\\s{0,1}2[0-5]\\d{2}\\s{0,1}|9\\s{0,1}[0-1]\\d{3}))\\d{4}\\s{0,1}","(?:2014|2149)\\s{0,1}\\d{7}\\s{0,1}","(?:(?:3088|3096|3112|3158|3337)\\s{0,1}\\d{4}\\s{0,1}|35(?:2[89]\\s{0,1}\\d{4}\\s{0,1}|[3-8]\\d\\s{0,1}\\d{4}\\s{0,1}))\\d{4}\\s{0,1}","5[1-5]\\d{2}\\s{0,1}\\d{4}\\s{0,1}\\d{4}\\s{0,1}","2(22[1-9]|2[3-9][0-9]|[3-6]\\d{2}|7[0|1][0-9]|720)\\d{8}","4\\d{8,14}","5019\\d{8}","(5[0|6-9]|6[0-9])\\d{6,13}","31\\d{13}","62|81\\d{10,13}","220[0-4]\\d{8}","9792[0-8][0-9]\\d{6}"].join("|")+")(\\d{4})(?!\\d)",n=new RegExp(e,"g");if(t.replace(/\s/g,"").match(n)){for(var i=t.length-4,o="",a=0;a<t.length;a+=1)o+="*";return o+t.substring(i)}return t}(t)}))},Ja=function(t){var e=t;e.left="50%",e.top="50%",e.transform="translate(-50%, -50%)"},Qa=function(t){var e=t;e.left="50%",e.transform="translateX(-50%)"},Za=function(t){var e=t;e.top="50%",e.transform="translateY(-50%)"},Xa=function(t){return void 0!==t.px?t.px:t.percent+"%"},$a=function(t,e){var n=t.xoffset,i=t.yoffset,o={position:"fixed",zIndex:e};return t.type===le&&(o.bottom=Xa(i),Qa(o)),"topMiddle"===t.type&&(o.top=Xa(i),Qa(o)),"leftMiddle"===t.type&&(o.left=Xa(n),Za(o)),"rightMiddle"===t.type&&(o.right=Xa(n),Za(o)),"topLeft"===t.type&&(o.left=Xa(n),o.top=Xa(i)),"topRight"===t.type&&(o.right=Xa(n),o.top=Xa(i)),"bottomLeft"===t.type&&(o.left=Xa(n),o.bottom=Xa(i)),t.type===ue&&(o.right=Xa(n),o.bottom=Xa(i)),t.type!==de&&t.type!==pe||Ja(o),"leftBottom"===t.type&&(o.bottom="5%",o.left=0,o.transform="translateY(5%)"),"rightBottom"===t.type&&(o.bottom="5%",o.right=0,o.transform="translateY(5%)"),o},tr=function(t,e){if(!e)return t;var n=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},i=t;i=n(i,"#000001",e);var o=k(e,.2),a=I(e,.9),r=S(e)?"#000000":"#ffffff",s=S(e)?"#323dbf":"#ffffff",c=S(e)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",d=S(o)?"#3c3c3c":"#ffffff",l=S(o)?"rgba(60,60,60,0.6)":"rgba(255,255,255,0.6)",u=M(e),p=u.buttonColor,h=u.buttonTextColor,f=u.buttonIconColor,g=u.buttonHoverColor,m=O(e),w=function(t){var e=_(t),n=e[0],i=e[1],o=e[2],a=x(n,i,o),r=a[0],s=a[1],c=a[2],d=s,l=c,u=s,p=c;s>=0&&s<=.04?l=c<=.4?c:.4:s<=.6?(d=.6,l=c<=.45?c:.45):l=c<=.45?c:.45,p=l<=.2?l+.1:l-.1;var h=y(r,d,l),f=h[0],g=h[1],m=h[2],w=y(r,u,p);return{iconColor:"rgb("+f+","+g+","+m+")",iconHoverColor:"rgb("+w[0]+","+w[1]+","+w[2]+")",iconBgColor:"rgba("+f+","+g+","+m+", 0.06)"}}(e),b=w.iconColor,v=w.iconHoverColor,C=w.iconBgColor,B=A(e);return i=n(i,"#000002",o),i=n(i,"#000006",a),i=n(i,"#000003",g),i=n(i,"#000004",r),i=n(i,"#000005",d),i=n(i,"#000007",c),i=n(i,"#000008",l),i=n(i,"#000009",s),i=n(i,"#00000a",p),i=n(i,"#00000b",m),i=n(i,"#00000c",b),i=n(i,"#00000d",B),i=n(i,"#00000e",h),i=n(i,"#00000f",f),i=n(i,"#000010",v),i=n(i,"#000012",C)},er=function(t){if(za)return za;var e=".mediaChatWindow.mediaChatWindow--videoIncoming,.mediaChatWindow.mediaChatWindow--videoRequesting,.mediaChatWindow.mediaChatWindow--audioChatting,.mediaChatWindow.mediaChatWindow--audioIncoming,.mediaChatWindow.mediaChatWindow--audioRequesting {background-image:url('"+t("/visitorside/images/multimedia-backgroud.png")+"');background-repeat:no-repeat;background-size:cover;}",n=[{family:"",filename:"regular"},{family:" Italic",filename:"it"},{family:" Bold",filename:"semibold"},{family:" Light",filename:"light"}].map((function(e){var n=e.family,i=e.filename;return'@font-face {font-family: "SourceSans Pro'+n+'";src: url('+t("/visitorside/fonts/sourcesanspro-"+i+".woff")+") format('woff'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".ttf")+") format('truetype'),url("+t("/visitorside/fonts/sourcesanspro-"+i+".svg#SourceSans-Pro-"+i)+") format('svg')}"})).join("")+'@font-face{font-family:icons;src:url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.eot?#iefix) format("embedded-opentype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.woff) format("woff"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.ttf) format("truetype"),url({FONT_URL_PREFIX}/icons.5312183de5c708f74390cf65df336e7e.svg#icons) format("svg")}.icon{font-family:icons!important;font-style:normal;font-weight:400!important;display:inline-block;vertical-align:baseline;text-align:center;text-transform:none;text-rendering:auto;line-height:1;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-bot-active:before{content:"\\f101"}.icon-bot:before{content:"\\f102"}.icon-bubble-line:before{content:"\\f103"}.icon-bubble-line1:before{content:"\\f104"}.icon-bubble:before{content:"\\f105"}.icon-close:before{content:"\\f106"}.icon-coBrowsing-active:before{content:"\\f107"}.icon-coBrowsing:before{content:"\\f108"}.icon-drag:before{content:"\\f109"}.icon-embedded:before{content:"\\f10a"}.icon-facebook:before{content:"\\f10b"}.icon-googleplus:before{content:"\\f10c"}.icon-helpful:before{content:"\\f10d"}.icon-input-send:before{content:"\\f10e"}.icon-kb-active:before{content:"\\f10f"}.icon-kb-search:before{content:"\\f110"}.icon-kb:before{content:"\\f111"}.icon-kbSearch-active:before{content:"\\f112"}.icon-kbSearch:before{content:"\\f113"}.icon-media-active:before{content:"\\f114"}.icon-media:before{content:"\\f115"}.icon-minimize:before{content:"\\f116"}.icon-not-helpful:before{content:"\\f117"}.icon-plus:before{content:"\\f118"}.icon-popup:before{content:"\\f119"}.icon-rating-full:before{content:"\\f11a"}.icon-rating-half:before{content:"\\f11b"}.icon-sendfile:before{content:"\\f11c"}.icon-video:before{content:"\\f11d"}.icon-voice-active:before{content:"\\f11e"}.icon-voice:before{content:"\\f11f"}'.replace(/[{]FONT_URL_PREFIX[}]/g,t("/visitorside/fonts"))+e;return za=n,n},nr=t(1)((function(t){return S(t)?"black":"white"})),ir=function(t){var e=t;return Object.keys(e).forEach((function(t){Array.isArray(e[t])&&(e[t]=e[t].join($i))})),e},or=function(t){var e=Object.assign({},t);return ir(e),"ticketId"in e&&(e.ticketId=""===e.ticketId||Number.isNaN(+e.ticketId)?void 0:e.ticketId),"department"in e&&(e.department=""!==e.department?e.department:Xi),e.custom&&(e.custom=Object.assign({},e.custom),ir(e.custom)),e},ar=function(t){return i("a",{href:"tel:"+("+"===t[0]?"":"+")+t,target:"_blank",rel:"noopener noreferrer"},t)},rr=function(t,e){if("string"!=typeof t)return t;var o=n.parse(t,{buildUrl:function(t){return e+"/svg/"+t+".svg"}}).filter((function(t){return!!t.url}));if(0===o.length)return t;for(var a=[],r=0,s=0;s<o.length;){var c=o[s],d=c.indices,l=c.url,u=c.text;a.push(t.substring(r,d[0])),a.push(i("img",{alt:u,src:l,className:"emoji-char"})),r=d[1],s++}return a.push(t.substring(r)),a.filter((function(t){return!!t})).length===o.length?a.filter((function(t){return!!t})).map((function(t){return t.props.class="emoji-char-large",t})):a.filter((function(t){return!!t}))},sr=function(t,e,n,o,a,r,s){return Ra(t,/\r\n|\r|\n/g,(function(){return e}),(function(t){return e=function(t,e){return function(t,e,n,o,a){if(n&&o&&new RegExp("/kb/[\\d]+/(.*)/(.*)","i").test(t)&&t.match(/\/kb\/([\d]+)\/(.*)\/(.*)\/?/i)[1]===""+a){var r=t.match(/\/kb\/[\d]+\/(.*)\/(.*)\/?/i)[1];return i("a",{rel:"noopener noreferrer",href:"",onClick:function(e){e.preventDefault(),o(r,t)}},e)}var s=t;return/^https:\/\/|http:\/\/|ftp:\/\//i.test(t)||(s="http://"+t),i("a",{href:s,target:"_blank",rel:"noopener noreferrer"},e)}(t,rr(e,s+"/twemoji"),n,o,a)},c=r?ar:function(t){return t},Ea(t).map((function(t){return"string"==typeof t?Ra(t,Na,(function(t){return e(t,t)}),(function(t){return Ra(t,Da,c,(function(t){return t}))})).reduce((function(t,e){return t.concat(e)}),[]):[e(t.url,t.label)]})).reduce((function(t,e){return t.concat(e)}),[]);var e,c})).reduce((function(t,e){return e.map?t.concat(e.map((function(t){return rr(t,s+"/twemoji")})).flat()):t.concat(e)}),[])},cr=[Fe,We,Re,Hn,Ue,Ge,ze,Ne,Ve,xe,De,"agentPromoteToUser","agentPromoteToContact",He,qe,"agentRefuseTransfer",ye,Qe,Ze,Xe,$e,tn,sn,cn,vn,_n,xn,yn,Sn,Cn,kn,In,Mn,On,en,nn,on,an,rn,An,Bn,Ye,Je,En,Un,Gn,dn,ln,pn,fn,hn,wn,Ji,Nn,Wn,Fn,jn,Si,Ci,ki,Ii,Mi,Vi,Li,Oi,Ai,Bi,Ti,Wi,Ni,ji,Pi,Fi],dr=function(t){return cr.indexOf(t.type)>=0},lr=function(){return void 0===window.File},ur=[ze,Je,Ce,Fe,We,si,Le,Pe,ci,Ge,Ue,Ie,Me,Ke,ke,_e,Se,Ln,En,qn,zn,Dn,$n,ti,ei,Ye,Tn,ii,oi,ai,Un,Gn,Yn,Jn,Qn,Kn,ve,jn,Wn,Nn,Hi,qi,Ui,Gi,Ki,Yi,Vn],pr=function(t){return v&&(t===Bn||t===cn||t===An||t===sn||t===In||t===kn||t===Mn||t===On||t===xn||t===_n||t===yn||t===Sn||t===on||t===nn||t===an||t===rn||t===Xe||t===Ze||t===$e||t===tn)},hr=function(t){return v&&(t===Li||t===Vi||t===Bi||t===Ai||t===Ti||t===Wi||t===Ni||t===Fi||t===ji||t===ki||t===Ci||t===Ii||t===Mi)},fr=function(t){return ur.indexOf(t.type)<0};function gr(t){return t.type===$n||t.type===ei||t.type===ti||t.type===Ce||t.type===Ie||t.type===Me||t.type===Yn||t.type===Kn}function mr(t){return t.type===Fe||t.type===We||t.type===si||t.type===ze||t.type===Ue||t.type===Ge||t.type===Ke||t.type===Je||t.type===jn||t.type===Nn||t.type===Wn}function wr(t){return t.type===Dn||t.type===Ln||t.type===En||t.type===zn||t.type===Un||t.type===Gn||t.type===qn||t.type===Jn||t.type===Qn}var br=[Yi];function vr(t){return br.includes(t.type)}var _r=function(t){var e=t.type;return e===Ui||e===Gi};var xr=function(t,e){return[er(e),tr('.emoji{position:absolute;left:0;bottom:0;box-shadow:var(--shadow2-color);border-radius:4px;overflow:hidden;background-color:var(--whitePopup-color);--scrollbar-width:8px;--emoji-width:32px;--emoji-height:32px;--emoji-list-padding:12px;--emoji-category-title-height:22px;--emoji-font-size:22px;--emoji-column-count:8;--emoji-row-count:8;--emoji-list-width:var(--emoji-width) * var(--emoji-column-count) + var(--emoji-list-padding) * 2;--emoji-list-height:var(--emoji-height) * var(--emoji-row-count) + var(--emoji-category-title-height);--black-color:#000000;--white-color:#FFFFFF;--whiteFixed-color:#FFFFFF;--whiteFixed8-color:rgba(255, 255, 255, 0.08);--whiteFixed12-color:rgba(255, 255, 255, 0.12);--whitePopup-color:#FFFFFF;--blackLight-color:rgba(33, 33, 33, 0.2);--blackMid-color:#999999;--blackDark-color:#595959;--blackFixed-color:#212121;--blackToast-color:rgba(33, 33, 33, 0.8);--grey8-color:rgba(114, 114, 114, 0.08);--greyN2bg-color:#FCFCFC;--greyBackground-color:#F0F0F0;--greyMenu-color:#F0F0F0;--shadow1-color:0px 1px 6px 0px rgba(0, 0, 0, 0.2);--shadow2-color:0px 2px 6px 0px rgba(0, 0, 0, 0.08);--shadow3-color:1px 2px 12px 0px rgba(0, 0, 0, 0.16);--greyScrollbar-color:#BCBBBA;--greyScrollbarHover-color:#A1A1A1;--greyToast-color:#D3D3D3;--tableTitle-color:#EDEDED;--bubbleBackground-color:#FFFFFF;--replyBackground-color:#F0F0F0;display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column}.emoji__scroll-container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:var(--emoji-list-padding);width:calc(var(--emoji-list-width));height:calc(var(--emoji-list-height))}.emoji__cell{font-family:var(--emoji-font);font-size:var(--emoji-font-size);width:var(--emoji-width);height:var(--emoji-height);line-height:1;-ms-flex-preferred-size:var(--emoji-width);flex-basis:var(--emoji-width);display:-ms-flexbox;display:flex;-ms-flex:none;flex:none;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;outline:0;border-radius:4px;padding:4px}.emoji__cell img{width:100%;height:100%}.emoji__cell.emoji__cell--selected,.emoji__cell:focus,.emoji__cell:hover{outline:0;background-color:rgba(114,114,114,.08);text-decoration:none}.window__chat{-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;overflow:auto;overflow:overlay;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;width:100%;padding:18px 27px 0;margin-bottom:0}.chat__greetingContainer .window__chatSystemMessage,.chat__greetingContainer .window__formGreeting{margin-bottom:0;color:#666}.chat__greetingContainer .window__chatSystemMessage a[href],.chat__greetingContainer .window__formGreeting a[href]{color:#00000a;border-bottom:1px solid #00000a!important}.window--mobile .window--bubble .chat__greetingContainer{margin-bottom:16px}.window__chat--animation{animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both;animation-delay:.3s}.window--ie .window__chat--animation{animation:none}.window__chatSystemMessage{color:#626262;font-size:14px;text-align:center;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);word-wrap:break-word}.window--bubble .window__chat .window__chatSystemMessageContent{display:inline-block;background:#f8f8f8;line-height:1.57;padding:8px 14px;border-radius:5px;max-width:240px}.window__chatSystemMessage a,.window__chatSystemMessage a[href]{color:#00000c;border-bottom:1px solid #00000c}.window__chatSystemMessage a:hover,.window__chatSystemMessage a[href]:hover{color:#000010;border-bottom:1px solid #000010}.window__chatSystemMessage svg{fill:#00000c;position:relative;top:6px;right:3px}.window__chatSystemMessage svg:hover{fill:#000010}.window__chatAgent,.window__chatVisitor{display:-ms-flexbox;display:flex;animation:message--show 458ms cubic-bezier(.785,.135,.15,.86);position:relative}.window__chat>div>div+div>.chat-message-time,.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time{position:absolute;margin-bottom:4px;top:0;right:0}.window__chat>div{padding-bottom:16px}.window__chat>div>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div+div{margin-top:16px}.window__chat>div>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatAgent+div.window__chatAgent,.window__chat>div>div.botConfidenceAnswerDiv>div.window__chatVisitor+div.window__chatVisitor{margin-top:8px}.window__chat>div>div.botConfidenceAnswerDiv>div+div{margin-top:16px}.window__chat>div>div.botConfidenceAnswerDiv>div+div>.chat-message-time+.chat-visitor-message{margin-top:20px}.window--ie .window__chatAgent,.window--ie .window__chatSystemMessage,.window--ie .window__chatVisitor{animation:none}.window__chatVisitor{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.agentMessage__avatar{margin-right:15px;display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-negative:0;flex-shrink:0}.agentMessage__avatarImg{display:block;width:30px;height:30px;border-radius:100%;margin-bottom:15px}.agentMessage__pci{background:#f0f0f0;border:1px solid #ddd;border-radius:4px;padding:23px 20px 12px}.agentMessage__pciField{margin-bottom:7px;color:#888}.agentMessage__pciControl{margin-bottom:12px}.agentMessage__pciControl .form__input{height:30px;line-height:30px;width:calc(100% - 20px)}.window__chatAgentMessage p{margin:0}.window--circular .window__chatAgentMessage,.window--circular .window__chatVisitorMessage{border-radius:20px}.window__chatAgentMessage,.window__chatVisitorMessage{position:relative;font-size:.93333333rem;line-height:1.57;padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5}.window__chatAgentMessage_container{max-width:640px}.window__chatAgentMessage_container .chat-message-extra-info{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:4px}.window__chatAgentMessage_container .chat-message-extra-info>.chat-message-time{margin-left:8px}.window__chatAgentMessage_container .window__chatAgentMessage{max-width:100%;display:inline-block;border-top-left-radius:0;border-bottom-left-radius:5px}.window--mobile .window__chatAgentMessage{border:1px solid #f5f5f5}.window__formMessageContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}.window__formMessage{padding:16px 21px 18px;word-wrap:break-word;word-break:break-word;border-radius:5px;border:1px solid #f5f5f5;width:100%;max-width:600px}.window__formMessage .window__formGreeting{text-align:left;color:#000}.window--ie .window__chatVisitorMessage{margin-left:auto}.window__chatAgentMessage{border-top-left-radius:0}.window__chatVisitorMessage{background-color:#000001;color:#000;border-top-right-radius:0;margin-left:67px;max-width:640px}@keyframes bounceOut{20%{width:5px;height:5px;border-radius:5px;opacity:1}50%,55%{width:8px;height:8px;border-radius:8px;opacity:1}to{width:2px;height:2px;border-radius:2px;opacity:0}}.dot_container{width:20px;height:20px;position:absolute;left:-20px;bottom:19px}.message--notSeen,.message--seen{display:inline-block;background:#00000c;width:6px;height:6px;border-radius:6px;position:relative;left:50%;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);fill:#00000c}.message--seen{animation:bounceOut .5s linear forwards}.window--rtl .dot_container{left:-35px}.window--ie9 .message--seen{display:none}.file__icon--cancel{float:right}.file__icon--cancel svg{width:12px;height:12px;fill:#00000c}.file__icon--cancel svg:hover{fill:#000010}.window__chatMessageOrignal{display:block;opacity:.85}.window__chatMessageTranslatedTag{display:inline}.window__chatAgentMessage img:not(.emoji-char){display:inline-block}img.emoji-char{height:1.2em;width:1.2em;margin:0 .05em 0 .1em;vertical-align:-.2em}img.emoji-char-large{height:2em;width:2em;margin:0 .05em 0 .1em;vertical-align:-.2em}.invitation__message img.emoji-char-large,.window__chatMessageOrignal img.emoji-char-large{height:1.2em;width:1.2em;margin:0 .1em;vertical-align:-.2em}.window__chatAgentMessage .chatMessage__questionList li{color:#323dbf;line-height:1;margin-bottom:10px}.window__chatAgentMessage .chatMessage__questionList li span{margin-right:5px;display:inline-block;-ms-flex-negative:0;flex-shrink:0}.window__chatAgentMessage .chatMessage__questionList li:last-child{margin-bottom:0}.window__chatAgentMessage .chatMessage__questionList li a[href]{border-bottom-color:transparent}.window__chatAgentMessage .chatMessage__questionList li a[href]:active,.window__chatAgentMessage .chatMessage__questionList li a[href]:focus,.window__chatAgentMessage .chatMessage__questionList li a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.window__chatAgentMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatAgentMessage a[href]:active,.window__chatAgentMessage a[href]:focus,.window__chatAgentMessage a[href]:hover{border-bottom-color:rgba(50,61,191,.6)}.chat-message--img a,.chat-message--video video{min-width:60px!important;min-height:60px!important;border-bottom:none!important;overflow:hidden}.chat-message--img a{max-width:200px!important;max-height:200px!important;display:block}.chat-message--video video{max-width:250px!important;max-height:250px!important}.chat-message--img .image-container{margin:0 auto;height:100%}.chat-message--img img,.chat-message--video video{display:block;margin:0 auto;border:none}.window__chatVisitorMessage a[href]{color:#323dbf;border-bottom:solid 1px #323dbf}.window__chatVisitorMessage a[href]:hover{border-bottom-color:#323dbf}.window__chatAgentMessage a,.window__chatVisitorMessage a{max-width:100%}.window__chatVisitorMessage button{border:none;background:0 0;margin:5px 0 0 9px;cursor:pointer}@keyframes message--show{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}.chat-time{opacity:0;color:#fff;font-size:.8rem;background:rgba(0,0,0,.6);padding:0 5px;line-height:17px;height:17px;border-radius:8px;transition:opacity 50ms linear;position:absolute;z-index:1}.chat-message-time{font-size:12px;font-family:"SourceSans Pro",Arial;color:#626262}.window__chatAgentName,.window__chatVisitorName{font-size:12px;font-family:"SourceSans Pro",Arial;color:#000;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.window--classic .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.chat-message--img,.window__chatAgentMessage.chat-message--video,.window__chatVisitorMessage.chat-message--video{padding:0}.window__chatAgentMessage{background:#fff;color:#000}.window__chatAgentMessage--file .icon-sendfile,.window__chatVisitorMessage--file .icon-sendfile{position:relative;top:3px;margin-right:5px;font-size:15px;color:#00000c}.window__chatAgentMessage--file a[href],.window__chatVisitorMessage--file a[href]{border:none}.kbsearch__container .window_chatError,.window--mobile .kbsearch__container .window_chatError,.window--mobile .window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 88px)}.window_chatError{position:absolute;z-index:99;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%);padding:10px 47px 10px 18px;box-shadow:0 0 5px rgba(0,0,0,.1);font-size:.8rem;line-height:1.17;text-align:left;bottom:0;width:calc(100% - 54px);border-radius:5px}.form-bottom .window_chatError{width:100%}.window--bubble .window__kb_formContainer .window_chatError{width:calc(100% - 38px)}.window--circular .window_chatError{border-radius:20px}.chatError__container{position:absolute;top:-20px;width:100%}.window_chatErrorClose{position:absolute;right:15px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);line-height:12px;cursor:pointer;background:0 0;border:none}.window_chatErrorClose svg{width:12px;height:12px}.window_chatError--urgency .window_chatErrorClose svg{fill:#BF0007}.window_chatError--mitigate .window_chatErrorClose svg{fill:#A05700}.window_chatError i{vertical-align:bottom}.window_chatError--mitigate{background:#fff6eb;border:1px solid #fff6eb;color:#A05700}.window_chatError--urgency{background:#fff2f2;border:1px solid #ffd6d8;color:#BF0007}.window--bubble .window__chatAgentMessage--file,.window--circle .window__chatAgentMessage--file::before{color:#000004}.window--circle .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window__chat>div{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.window--bubble .window__chatAgent{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.window--bubble .window__chatVisitor{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.window--bubble .chat-time{font-size:.8rem;padding:0 5px;top:0}.window--bubble .icon-bubble-line{position:absolute;width:10px;bottom:-1px}.window--bubble .icon-bubble-line .svgPath{width:auto;height:auto}.window--bubble .window__chatVisitorMessage{max-width:calc(100% - 50px)}.window__chatVisitorMessage .chat-message--loading{position:absolute;left:-30px;top:50%;margin-top:-11px}.window--bubble .window__chat{padding:30px 15px 0 27px;margin-bottom:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.window--bubble .window__chat.window__chat--showChatWithAgent{padding-bottom:40px}.window--bubble .window--bubble__messageNoAvatar{margin-left:0;padding-left:15px;display:block}.chatMessage__questionList{margin-top:19px}.chatMessage__questionList li>a{display:inline}.chatMessage__questionList--disc{list-style-type:disc;padding-left:20px}.window__chatAgentMessage .chatMessage__questionList.chatMessage__questionList--disc li{display:list-item}.window__chatAgentMessage .btn{margin-top:16px}.chatMessage__chatBotRate__wrapper{position:absolute;right:-50px;bottom:0;width:40px}.chatMessage__chatBotRate{margin-left:10px;-ms-flex-item-align:end;align-self:flex-end}.chatMessage__chatBotRate>button{width:20px;height:20px;border-radius:20px;background-color:#fff;cursor:pointer;font-size:10px;border-width:0;display:block}.chatMessage__chatBotRate .icon{width:20px;line-height:20px;color:#626262}.chatMessage__chatBotRate>button:hover{background-color:#00000c}.chatMessage__chatBotRate>button:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover{background-color:#00000c;color:#fff;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--selected:hover .icon{color:#fff}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover{background-color:#e8e8e8;cursor:default}.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled .icon,.chatMessage__chatBotRate>button.chatMessage__chatBotRate--disabled:hover .icon{color:#626262}.chatMessage__chatBotRate>button.chatMessage__chatBotRateLast{margin-top:5px}.window__chatWithAgent{z-index:9;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px;height:23px;text-align:center;padding-right:15px;padding-left:15px;background:0 0;border:none;cursor:pointer}.window__chatWithAgent--above:focus,.window__chatWithAgent--above:hover{border:1px solid #000003;color:#000003}.window__chatWithAgent--above{padding:4.5px;font-size:.8rem;line-height:1.25;height:27px;width:175px;border-radius:5px;border:1px solid #00000a;color:#00000a;background-color:#fff;position:absolute;top:-37px;left:50%;-ms-transform:translateX(-50%);transform:translateX(-50%)}.window--circular .window__chatWithAgent--above{border-radius:20px}.window__chatWithAgent--bottom:focus,.window__chatWithAgent--bottom:hover{color:#000003}.window__chatWithAgent--bottom{color:#00000a;font-size:.8rem;line-height:1.12;height:1rem;padding-left:12px;float:left}.window__chat .dot{position:relative;top:-3px}.window__chat .dot__element{display:inline-block;width:4px;height:4px;border-radius:100%;margin-right:5px;background:#000005;fill:#000005}@media screen and (-ms-high-contrast:active){.window__chat .dot__element{background:#fff;fill:#fff}}.window__chat .dot__element:last-child{margin-right:0}.animated-delayFrames7{animation-delay:292ms}.animated-delayFrames10{animation-delay:417ms}.animated-delayFrames13{animation-delay:542ms}.amimated-infinite{-webkit-animation-iteration-count:infinite}@keyframes dot__element--loadingAnimation{0%,100%,50%{transform:translateY(0)}25%{transform:translateY(-8px)}}.window__chat .dot__element--loadingAnimation{animation-name:dot__element--loadingAnimation;animation-duration:1s;animation-iteration-count:infinite}.window--ie .webView_background .webView_scroll_container,.window--ie .window__chat .dot__element--loadingAnimation{animation:none}.window--bubble .chat-message--imgLoading,.window--circle .chat-message--imgLoading,.window--classic .chat-message--imgLoading{width:62px;height:62px;text-align:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.chat-message__secure-form span{display:block;position:absolute;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%;left:50%}.postchatFormContainer{position:absolute;top:80px;bottom:30px;overflow:auto;overflow-x:hidden;padding:30px 50px;width:100%;-ms-transform:translateY(450px);transform:translateY(450px);opacity:0}.postchatFormContainer__greeting{margin-bottom:20px}.postchatFormContainer__submitContainer{text-align:center}@keyframes fadeInUp--windowFormContainer{0%{opacity:0;transform:translateY(375px)}100%{opacity:1;transform:translateY(0)}}.window__ssoLogin{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;-webkit-overflow-scrolling:touch;overflow-y:scroll}.window__ssoLogin iframe{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;background-color:#fff}.window--bubble .window__ssoLogin{-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:1;flex-grow:1}.window--bubble .window__ssoLogin iframe{display:block;width:100%;height:100%;min-height:456px;background-color:#fff}.window_buttons_container .window_buttons_item{margin-top:12px;text-align:center;cursor:pointer}.window_buttons_container .window_buttons_item li{min-width:150px;margin-top:4px}.window_buttons_container .window_buttons_item button{border:none;border-radius:4px;background:#00000a;color:#00000e;cursor:pointer;padding:7px 10px;width:100%}.window_buttons_container .window_buttons_item--active button:hover{background:#000003!important;color:#00000e}.window_buttons_container .window_buttons_item--disable button{background-color:#e8e8e8!important;color:#626262!important;cursor:default}.webView_background{position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);border-radius:5px 5px 0 0;z-index:1000}.webView_background .webView_scroll_container{width:100%;position:absolute;height:100%;bottom:0;max-height:100%;animation:fadeInUp 458ms cubic-bezier(.785,.135,.15,.86) both}.webView_background .webView_scroll_container--compact{max-height:300px}.webView_background .webView_scroll_container--full{max-height:530px}.webView_background .webView_scroll_container--tall{max-height:415px}.webView_background .webView--scroll{width:100%;position:relative;height:calc(100% - 40px);overflow:-moz-scrollbars-none;-ms-overflow-style:none}.webView_background .webView__title{width:100%;text-align:center;background-color:#fff;height:40px;border-bottom:1px solid #ddd;line-height:40px;border-radius:5px 5px 0 0}.webView_background .webView__title h1{font-weight:400;margin:0;width:200px;font-size:inherit;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.webView_background .webView__close{position:absolute;right:10px;cursor:pointer;z-index:9999;fill:#5d5d5d;background:0 0;border:none;padding:6px 16px 0;width:44px;height:40px;top:0}.webView_background .webView__close svg{width:13px;height:13px}.webView_background .webView{background:#fff}.webView_background .webView .box-field{margin-top:15px;padding:0 30px}.webView_background .webView__content{height:100%}.window--bubble .webView_scroll_container--compact{max-height:330px}.window--bubble .webView_scroll_container--full{max-height:560px}.window--bubble .webView_scroll_container--tall{max-height:445px}.window--bubble .webView_scroll_container{padding-top:30px}.window--bubble .webView__close{top:30px}.window_quick_reply_container_box{width:100%;display:-ms-flexbox;display:flex;padding:0 16px;position:relative;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around}.window_quick_reply_container_box i{cursor:pointer}.window_quick_reply_container_box .window_quick_reply_buttons_item{width:auto;min-width:75px;background-color:#fff;color:#00000c;border:1px solid #00000c;cursor:pointer;height:25px;display:inline-block;padding:0;overflow:hidden;max-width:260px;line-height:25px;white-space:nowrap;margin-right:12px;border-radius:4px;margin-bottom:12px;text-overflow:ellipsis}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner{background-color:#000012;width:100%;height:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item .window_quick_reply_buttons_item_inner>span{display:inline-block;padding:0 12px;font-weight:600;height:100%;width:100%}.window_quick_reply_container_box .window_quick_reply_buttons_item:hover{background-color:#00000c;color:#fff}.window_quick_reply_container_box .window_quick_reply_buttons{width:100%;margin:0;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-align:center;align-items:center;padding-left:0;-ms-flex-line-pack:center;align-content:center;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-ms-flex-pack:start;justify-content:flex-start;display:-ms-flexbox;display:flex}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:center;justify-content:center}.window_quick_reply_container_box .window_quick_reply_buttons.one_reply_item>.window_quick_reply_buttons_item{margin:0}.window_quick_reply_container_box .window_quick_reply button:last-child{margin-right:0}.window_quick_reply_container_box .window_quick_reply_control+.window_quick_reply{width:calc(100% - 40px)}.botconfirm_list{padding:20px;min-width:190px}.botconfirm_list li{margin-bottom:10px}.botconfirm_list li p{margin:0}.botconfirm_list li p:first-child{color:#666;margin:0}.window__chatAgentMessage .window_botAnswer_richText a[href]{border-bottom:none}.window__chatAgentMessage .window_botAnswer_richText a[href]:hover{border-bottom:1px solid #323dbf}.window__chatAgentMessage .window_botAnswer_richText--disable a[href^="intent:"]{color:#888}.visually-hidden{position:absolute;left:-10000px;width:1px;height:1px}.visually-hidden:focus,.visually-hidden:hover{outline:0;border:none}.window__chatAgentMessage.bot_item_content.chat-message--img{padding:1px}.window__chatAgentMessage.bot_item_content.chat-message--img a{max-width:244px!important;min-height:10px!important}',t)].join("")},yr=function(t){var e=/[0-9a-z]{8}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{4}-[0-9a-z]{12}/gi.exec(t);return e?e[0]:t},Sr=function(t){return t.filter((function(t){return"string"==typeof t.id})).reduce((function(t,e){var n,i=t;return e.type===Ho?i.name=e.value:e.type===qo?i.email=e.value:e.type===Uo?i.phone=e.value:e.type===Go?i.company=e.value:e.type===Ko?i.product=e.value:e.type===Yo?i.department=e.value:e.type===Qo?i.rating=e.value:e.type===Zo?i.comment=e.value:e.type===Xo?i.subject=e.value:e.type===$o?i.content=e.value:e.type===ta?i.attachment=e.value:e.type===Jo?i.ticketId=e.value:e.type===sa?i.captcha=e.value:i.custom?i.custom[yr(e.id)]=e.value:i.custom=((n={})[yr(e.id)]=e.value,n),i}),{})},Cr=t(1)((function(t){var e,n,i;if(null==t)return[];for(var o=[],a=((e={})[va]=Mn,e[_a]=On,e[xa]=kn,e[ga]=an,e[ba]=rn,e[wa]=nn,e),r=((n={})[Ca]=Ti,n[Ia]=ji,n[Sa]=Ai,n[ka]=ji,n[Ma]=Wi,n),s=((i={})[$n]=Ce,i[ri]=Te,i[li]=Cn,i[di]=en,i[hi]=Ae,i[fi]=Be,i[gi]=je,i[mi]=ln,i[wi]=un,i[bi]=pn,i[vi]=gn,i[_i]=mn,i[xi]=fn,i[yi]=bn,i[Di]=Oi,i),c=t.length-1;c>=0;c-=1){var d=t[c],l=void 0;if(d.type===ui||d.type===pi){var u=d.content;d.type===ui&&(l=u===va?In:on),d.type===pi&&(l=a[u])}else if(d.type===Ri||d.type===Ei||d.type===zi){var p=d.content;d.type===Ri&&(l=Bi),d.type===Ei&&(l=r[p]),d.type===zi&&(l=Ni)}else l=s[d.type];l&&o.push({type:l,guid:d.guid,sender:d.sender,content:void 0===d.content?"":d.content,isPassword:d.isPassword,isCollect:d.isCollect,quickReplyNextActionId:d.quickReplyNextActionId||eo})}return o.reverse()})),kr=t(1)((function(t,e){if(null==e)return[];for(var n=[],i=e.length-1;i>=0;i-=1){var o=e[i];o.type===ei&&o.content.fileKey&&n.push({type:oo.sendFile,chatGuid:t,fileName:o.content.fileName,fileKey:o.content.fileKey,isUseStandbyFileService:o.content.isUseStandbyFileService})}return n.reverse()})),Ir=function(t){return!/^\s*$/.test(t)},Mr=function(t,e){return t/e>3.34?{height:"100%"}:t/e<.3?{width:"100%"}:t===e?{width:"100%",height:"100%"}:t>60&&e>60?t>e?{width:"100%"}:{height:"100%"}:t>e?{height:60}:t<e?{width:"100%"}:{width:"100%",height:"100%"}},Or=function(t,e){return t/e>3.34?{width:200,height:60}:t/e<.3?{width:60,height:200}:t>=200&&t>e?{width:200}:e>=200&&e>t?{height:200}:null},Ar=function(t,e,n,i){return e?t+"?maxWidth=200&maxHeight=200":n/i>3.34?t+"?maxHeight=60":n/i<.3?t+"?maxWidth=60":t+"?maxWidth=200&maxHeight=200"},Br=t(1)((function(t,e,n){return C(n,"guid",t)>C(n,"guid",e)})),Tr=t(1)((function(t,e){var n=t.filter((function(t){return t.guid===e}));if(n.length>0){var i=n[0];return i.type===Fe||i.type===We||i.type===Ue||i.type===Ge||i.type===Ke||i.type===jn||i.type===Wn||i.type===Nn}return!1})),jr=t(1)((function(t,e){for(var n=t.length-1;n>=0;n-=1){var i=t[n];if(i.guid===e)return e;if(i.type===Fe||i.type===We||i.type===Ue||i.type===Ge||i.type===Ke||i.type===jn||i.type===Nn||i.type===Wn)return i.guid}return e})),Pr=[$n,ti,ei,ni,ii,oi,"postChatSuccess",ai,ri,si,ci,di,li,ui,pi,hi,fi,gi,mi,wi,bi,vi,_i,xi,yi,Pn,Di,Ri,Ei,zi],Fr=function(t){return 0===t.type.indexOf("image")},Wr=function(t){return Fr(t)&&/.*[.](jpg|png|jpeg|bmp)$/i.test(t.name.toLowerCase())},Nr=function(t){return new Promise((function(e,n){var i=new FileReader;i.onload=function(){e(i.result,t)},i.onerror=n,i.readAsDataURL(t)}))},Vr=function(t,e){return new Promise((function(n,i){var o=new Image;o.onload=function(){var t=document.createElement("canvas"),i=t.getContext("2d");t.width=o.width,t.height=o.height,i.drawImage(o,0,0,o.width,o.height);var a=t.toDataURL(e,.5);n({data:a,originalSize:{width:o.width,height:o.height}}),t.width=0,t.height=0},o.onerror=i,o.src=t}))};function Dr(t,e){return Rr.apply(this,arguments)}function Rr(){return(Rr=B(P().mark((function t(e,n){var i,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return i=t.sent,t.next=5,i.blob();case 5:return o=t.sent,t.abrupt("return",new File([o],n||(new Date).toISOString().replace(/[.:]/g,"-")+".png",{type:o.type}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Er=function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){e({width:i.width,height:i.height})},i.onerror=n,i.src=t}))},zr=function(){var t=document.createElement("canvas");return!!(t.getContext&&t.getContext("2d")&&t.toDataURL)};function Lr(t){return Hr.apply(this,arguments)}function Hr(){return Hr=B(P().mark((function t(e){var n,i,o,a,r,s,c;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!zr()){t.next=25;break}return n=URL.createObjectURL(e),i=e.name.toLowerCase().endsWith(".png")?"image/png":"image/jpeg",t.next=6,Vr(n,i);case 6:return o=t.sent,a=o.data,r=o.originalSize,URL.revokeObjectURL(n),t.next=12,Dr(a,e.name);case 12:if(!((s=t.sent).size>=e.size)){t.next=17;break}return t.abrupt("return",e);case 17:if(!(s.size/e.size<=.02)){t.next=19;break}return t.abrupt("return",e);case 19:return t.next=21,Er(a);case 21:if(c=t.sent,r.width===c.width&&r.height===c.height){t.next=24;break}return t.abrupt("return",e);case 24:return t.abrupt("return",s);case 25:return t.abrupt("return",e);case 28:return t.prev=28,t.t0=t.catch(0),t.abrupt("return",e);case 31:case"end":return t.stop()}}),t,null,[[0,28]])}))),Hr.apply(this,arguments)}var qr=function(t,e,n){if(!e)return t;if(Ur(t)===Ur(n))return t;var i=null;try{i=t.split(/fileservice\/v1\/files\//i)[1]}catch(t){}return i?e+"/files/"+i:t},Ur=function(t){var e=t.match(/^https?:\/\/([^\/]+)/);if(e&&e[1])return e[1]},Gr=function(t,e){return e?t.replace(/^https:\/\/[\w.-]+/,e):t};var Kr=T.site_id,Yr=function(t){return/^\d+$/.test(t)?+t:void 0}(T.chatGroup),Jr=function(){return Array.prototype.map.call(T.chat_buttons,(function(t){return t.code_plan||t.id})).filter((function(t){return t}))},Qr=function(t,e){var n=Array.prototype.find.call(T.chat_buttons,(function(n){return!n.code_plan||e>0&&n.code_plan.toString()===e.toString()||("number"==typeof n.code_plan?n.code_plan===t:n.code_plan.toLowerCase()===t)}));if(n)return n.div_id;if(T.dynamic){var i=Array.prototype.find.call(T.chat_buttons,(function(t){return null==t.code_plan}));return i&&i.div_id}},Zr=T.openType,Xr=T.onReady;var $r,ts,es,ns,is,os=T.main_code_plan,as=0,rs=function(t){function e(){$r===ts&&($r=$r.slice())}function n(t){if("function"!=typeof t)throw new Error("Invalid listeners, expected a function.");var n=!0;return e(),$r.push(t),function(){n&&(e(),$r.splice($r.indexOf(t),1),n=!1)}}function i(){as>0||(ts=$r,$r.forEach((function(t){return t()})))}return ts=$r=[],function(e,o,a){var r,s=t(e,o,a),c=(r=s.dispatch,function(t){if(!t||!t.type||"@@redux/batch"!==t.type)return r(t);var e=[].concat(t.payload);return as+=e.length,e.reduce((function(t,e){as-=1;try{return r(e)}catch(t){throw t}}),null)});return s.subscribe(i),Object.assign({},s,{dispatch:c,subscribe:n})}},ss="config/updateConfig",cs="config/setMaxMessageLength",ds="config/updateServerInstanceTag",ls="page/setButtonIsOnline",us="page/updateVisitor",ps="page/resetVisitor",hs="page/showInvitation",fs="papge/showInvitationProcessing",gs="addVisitorNavigation",ms="emptyVisitorNavigation",ws="page/setIsSubmitSSO",bs="page/setSSOArtifact",vs="page/setSSOJwt",_s="chatWindow/open",xs="chatWindow/popOut",ys="chatWindow/popIn",Ss="chatWindow/showTab",Cs="chatWindow/chatInputWarning",ks="chatWindow/restrictedWordsError",Is="chatWindow/update-position",Ms="chatWindow/toggle-toolbox",Os="chatWindow/reset",As="chatWindow/restoreCrossSiteChat",Bs="entities/updateCampaign",Ts="entities/updateButton",js="entities/button/visible",Ps="entities/updateAgent",Fs="entities/updateFields",Ws="entities/updateDepartment",Ns="footer/chatToolRating",Vs="footer/chatToolAudio",Ds="footer/chatToolVideo",Rs="footer/chatToolScreenSharing",Es="invitaton/accept",zs="invitaton/refuse",Ls="web/showInvitation",Hs="page/buttonClick",qs="page/setSkipPreChat",Us="page/updateSize",Gs="page/updateOrientation",Ks="page/updatePageVisitorStatus",Ys="window/update-upload",Js="window/sucess-file",Qs="window/fail-file",Zs="sso/updateSSO",Xs="window/update-messages",$s="window/remove-agent-is-typing",tc="window/sendText",ec="window/sendFile",nc="window/sendImage",ic="window/startWaiting",oc="window/startChatBot",ac="window/updateChatBot",rc="window/updateChatBotContext",sc="window/addSystemMessage",cc="window/updateChatIdentity",dc="window/updateMaxReadId",lc="window/updateWindowId",uc="window/closeMinimizeBubble",pc="window/togglePopupBubble",hc="window/addPendingMessage",fc="window/updateMaxAgentReadId",gc="window/updateMaxVisitorReadId",mc="window/updateVisitorStatus",wc="window/updateChatVersion",bc="window/updateEmailToSendTranscript",vc="window/ssoLoginInPopUp",_c="window/ssoLoginInSelf",xc="window/updateTransferCampaignId",yc="window/updateRequestFromAnotherDone",Sc="window/updateCrossSiteTransfer",Cc="window/updateConfigTransferSite",kc="window/updateTransferVisitorGuid",Ic="window/updateRatingFieldsAfterCrossSiteTransfer",Mc="window/updateAutoEjectTranscript",Oc="window/hideRatingFormInWindow",Ac="page/update-window-status",Bc="page/set-focus-bar",Tc="window/toggle-error",jc="window/toggle-warning",Pc="window/updateWindowWidth",Fc="window/removeForm",Wc="app/ready",Nc="app/ban",Vc="app/setIsActive",Dc="app/switchServer",Rc="app/recoverSuccess",Ec="app/increaseRecoverTimes",zc="app/setIsRecovering",Lc="app/setLastSuccessTime",Hc="app/setSoundOff",qc="window/endchat",Uc="window/toggleFocus",Gc="window/contentScrollStatusUpdate",Kc="window/toggle-disable",Yc="window/updateTransferredServerInstanceTag",Jc="web/sendAction",Qc="web/pageHeartbeat",Zc="web/chatHeartbeat",Xc="web/prechatHeartbeat",$c="web/offlineHeartbeat",td="web/submitRating",ed="web/emailTranscript",nd="web/endChat",id="web/submitOfflineMessage",od="web/submitPostChat",ad="web/submitPrechat",rd="web/submitSSOInfo",sd="web/submitSSOInfo4ChatBot",cd="web/skipLogin",dd="web/sendPageVisit",ld="web/updateUrl",ud="web/updateCustomVariables",pd="web/getChatButton",hd="web/getConfig",fd="web/getChatWindowConfig",gd="web/agentMsgSeenByVisitor",md="web/getSSORecoverInfo",wd="web/fromChatbotToAgent",bd="web/chatBotSelectQuestion",vd="web/chatBotAnswerHelpful",_d="web/startChatAgain",xd="window/updateQueue",yd="chatinput/setVisitorIsTyping",Sd="window/sendChatMessages",Cd="window/updateVideoStatus",kd="window/prepareP2pChat",Id="window/hangupAudioVideoChat",Md="window/hangupScreenSharing",Od="window/acceptAudioVideoChat",Ad="window/unmuteRemote",Bd="window/setIsRecording",Td="window/updateMessageIsProcessed",jd="window/updateMessageIfDisable",Pd="sideWindow/hideAudioVideoChat",Fd="sideWindow/sideWidowTabSelect",Wd="sideWindow/toggleSideWindow",Nd="sideWindow/setWindowTabs",Vd="sideWindow/closeKnowledgeBase",Dd="sideWindow/showKnowledgeBaseInfo",Rd="sideWindow/closePushPage",Ed="sideWindow/replaceSideWindowTab",zd="app/setIsOpenerExists",Ld="window/closeSliently",Hd="window/setFrequencyLimitState",qd="web/chatBotVisitorCancelBotForm",Ud="web/chatBotVisitorSubmitBotForm",Gd="web/setBotVariable",Kd="window/cleanPendingMessages",Yd="form/update-value",Jd="form/update-error",Qd="form/focus",Zd="form/blur",Xd="form/submit-start",$d="form/submit-success",tl="form/submit-fail",el="form/submit-social",nl="form/validate-all",il="form/update",ol="form/fill-default",al="form/reset",rl="page/setCampaignId",sl="page/setCampaignIntId",cl="window/setId",dl="window/mounted",ll="window/chatbotTimeout",ul="window/resetMaxId",pl="web/getArticles",hl="web/getArticleByID",fl="window/success-articles",gl="window/success-articleByID",ml="web/fromKBToAgent",wl="window/articleClickTitile",bl="window/error-articles",vl="window/error-articleByID",_l="window/updateKBConfig",xl="sideWindow/openBotSideWindow",yl="sideWindow/closeBotSideWindow",Sl="window/cleanUpCobrowseRequest",Cl="window/endCobrowse",kl="window/pushPage",Il="webView/open",Ml="webView/close",Ol="webView/loading",Al="webView/visitorInfo",Bl="web/setLocation",Tl="web/getVisitorInfo",jl="window/updateBotFormMessage",Pl="window/hideQuickReply",Fl="state/restore",Wl="state/get-restore",Nl="window/updateChatbotSendFormMessage",Vl="window/updateVisibleInputAreaWhenBotChatting",Dl="window/updateIsMessageScrollBottom",Rl="window/updateMessageStatusToRead",El="window/updatePostChatVisible",zl="sideWindow/hideScreenSharing",Ll="Window/prepareScreenSharing",Hl="window/acceptScreenSharing",ql="window/startScreenSharingDirectly",Ul="window/popScreenSharing",Gl="window/previewImage",Kl="api/sendText",Yl="window/cancelVisitorSendText",Jl=((es={})[Wc]=function(t){return Object.assign({},t,{isReady:!0})},es[Nc]=function(t){return Object.assign({},t,{banned:!0})},es[Dc]=function(t,e){return Object.assign({},t,{server:e})},es[Vc]=function(t,e){return Object.assign({},t,{isActive:e})},es[zd]=function(t,e){return Object.assign({},t,{isOpenerExists:e})},es[Rc]=function(t){return Object.assign({},t,{recoverFailTimes:0,isRecovering:!1})},es[Ec]=function(t){var e=t.recoverFailTimes;return Object.assign({},t,{recoverFailTimes:e+1})},es[zc]=function(t,e){return Object.assign({},t,{isRecovering:e})},es[Lc]=function(t,e){return Object.assign({},t,{lastSuccessTime:e})},es[Hc]=function(t,e){return e?Object.assign({},t,{isSoundOff:!0}):Object.assign({},t,{isSoundOff:!1})},es),Ql=D({banned:!1},Jl),Zl="open",Xl="restored",$l="minimized",tu="close",eu="waitingForChat",nu="chatting",iu="preChat",ou="manuallyInvited",au="autoInvited",ru="offlineMessage",su="refusedByVisitor",cu="chatEnded",du="inSite",lu="manuallyInvitedByWindow",uu="systemProcessing",pu="searchKB",hu="popupImage",fu="embeddedWindow",gu="bubble",mu="mobile",wu={agentAvatar:"agentAvatar",image:"image"},bu="button",vu="autoInvitation",_u="manualInvitation",xu="landscape",yu="portrait",Su="monitor",Cu="text",ku="image",Iu="float",Mu="adaptive",Ou={platform:me,buttons:{},windowStatus:tu,dynamicCampaign:!1,campaignId:0,chatGroup:0,invitation:null,visitor:{},skipPreChat:!1,width:0,height:0,orientation:yu,visitorStatus:du,artifact:void 0},Au=function(t,e){return So(t,{type:e.isManual?_u:vu,invitationId:e.id,invitationType:e.type})},Bu=((ns={})[ls]=function(t,e){var n,i,o=e.campaignId,a=e.ifOnline;if(t.buttons[o]===a)return t;var r=t.isDynamicCampaign?((n={})[o]=a,n):Object.assign({},t.buttons,((i={})[o]=a,i));return Object.assign({},t,{buttons:r})},ns[hs]=function(t,e,n){var i=n.buttonType;if(e.type===fu){var o=e.windowStatus||Zl;return Object.assign({},t,{requestChatAction:Au(t.campaignId,e),windowStatus:o,visitorStatus:e.isManual?lu:au})}return e.isManual&&i===Mu&&e.type===gu?e.bubbleInvitationHeader===wu.image?Object.assign({},t,{requestChatAction:Au(t.campaignId,e),visitorStatus:lu,invitation:e}):Object.assign({},t,{requestChatAction:Au(t.campaignId,e),windowStatus:$l,visitorStatus:lu,manualInvitation:e}):e.isManual&&i!==Mu&&e.type===gu?Object.assign({},t,{requestChatAction:Au(t.campaignId,e),visitorStatus:lu,invitation:e}):null==t.invitation?Object.assign({},t,{invitation:e,visitorStatus:e.isManual?ou:au}):t},ns[fs]=function(t,e){return Object.assign({},t,{ifShowInvitationProcessing:e})},ns[us]=function(t,e){var n=Object.assign({},t.visitor,e);return Object.assign({},t,{visitor:n})},ns[ps]=function(t,e){return Object.assign({},t,{visitor:e})},ns[zs]=function(t){return Object.assign({},t,{invitation:null,visitorStatus:su})},ns[As]=function(t,e){var n=e.chatInfo,i=e.campaignId;return Object.assign({},t,{windowStatus:n.windowStatus||Zl,requestChatAction:So(i)})},ns[_s]=function(t,e){var n=e.campaignId;return Object.assign({},t,{windowStatus:Zl,invitation:null,requestChatAction:t.requestChatAction||So(n,{type:bu})})},ns[Ac]=function(t,e){return Object.assign({},t,{windowStatus:e,invitation:e===Zl?null:t.invitation})},ns[Bc]=function(t,e){return Object.assign({},t,{shouldFocusBar:e})},ns[xs]=function(t){return Object.assign({},t,{windowStatus:tu})},ns[Es]=function(t,e){var n=t.invitation;return n?Object.assign({},t,{invitation:null,requestChatAction:Au(e,n)}):t},ns[Hs]=function(t,e){return Object.assign({},t,{invitation:null,requestChatAction:So(e,{type:bu})})},ns[_d]=function(t){return Object.assign({},t,{requestChatAction:So(t.requestChatAction.campaignId,{type:bu})})},ns[qs]=function(t,e){return t.skipPreChat===e?t:Object.assign({},t,{skipPreChat:e})},ns[Us]=function(t,e){var n=e.size;return t.width===n.width&&t.height===n.height?t:Object.assign({},t,n)},ns[uc]=function(t,e,n){return n?Object.assign({},t,{windowStatus:tu,visitorStatus:su}):t},ns[Gs]=function(t,e){return t.orientation===e?t:Object.assign({},t,{orientation:e})},ns[rl]=function(t,e){if(t.campaignId===e)return t;var n="number"==typeof e?e:e.toLowerCase();return Object.assign({},t,{campaignId:n})},ns[sl]=function(t,e){var n=e.guid,i=e.intId;return t.campaignIntId===i?t:Object.assign({},t,{campaignId:n,campaignIntId:i})},ns[Ks]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},ns[bs]=function(t,e){return t.artifact===e?t:Object.assign({},t,{artifact:e})},ns[vs]=function(t,e){return t.jwt===e?t:Object.assign({},t,{jwt:e})},ns[ws]=function(t,e){return t.isSubmitSSO===e?t:Object.assign({},t,{isSubmitSSO:e})},ns[ad]=function(t,e){var n=e.form.ticketId;return Object.assign({},t,{requestChatAction:Object.assign({},t.requestChatAction,{ticketId:n})})},ns),Tu=D(Ou,Bu),ju="fetching",Pu="done",Fu="error",Wu=["entity"],Nu=["name","avatar"],Vu=["name","avatar","id"],Du={entities:{},errors:{},fetchStatus:{}},Ru={agents:Du,messages:Du,buttons:Du,campaigns:Du,fields:Du,departments:Du,kbArticles:Du},Eu=function(t,e){var n,i,o,a=t.entities,r=t.errors,s=t.fetchStatus,c=e.id,d=e.entity,l=e.error,u=e.fetchStatus;return{entities:Object.assign({},a,(n={},n[c]=Object.assign({},a[c],d),n)),errors:Object.assign({},r,(i={},i[c]=l||r[c],i)),fetchStatus:Object.assign({},s,(o={},o[c]=u||s[c],o))}};function zu(t){var e=t.fields.entities,n=Object.keys(e).reduce((function(t,n){var i=t,o=e[n];return i[n]=Object.assign({},o,{value:null,isFocused:!1,isErrorShowed:!1}),delete i[n].error,i}),{});return Object.assign({},t,{fields:Object.assign({},t.fields,{entities:n})})}function Lu(t,e){if(t.buttons.entities[e]){var n=t.buttons,i=n.entities,o=n.errors,a=n.fetchStatus;return delete i[e],delete o[e],delete a[e],Object.assign({},t,{entities:i,errors:o,fetchStatus:a})}return t}var Hu,qu,Uu,Gu=(is={},is[js]=function(t,e){var n=e.isHidden,i=e.campaignId,o=t.buttons.entities[i];return o?o.isHidden===n?t:Object.assign({},t,{buttons:Eu(t.buttons,{id:i,entity:{isHidden:n}})}):t},is[Fs]=function(t,e){var n=e.fields,i=e.type,o=e.campaignId,a=n.reduce((function(t,e){var n=t;return n.entities[i+"-"+e.id]=Object.assign({},e,{id:i+"-"+e.id}),n.errors[i+"-"+e.id]=null,n.fetchStatus[i+"-"+e.id]="done",n}),{entities:Object.assign({},t.fields.entities),errors:Object.assign({},t.fields.errors),fetchStatus:Object.assign({},t.fields.fetchStatus)}),r=Object.assign({},t.campaigns.entities[o]);return r[i]=n.map((function(t){return t.id})),Object.assign({},t,{campaigns:Eu(t.campaigns,{id:o,entity:r}),fields:a})},is[Ts]=function(t,e){return e.entity&&e.entity.color&&!R(e.entity.color)&&(e.entity.color=io),Object.assign({},t,{buttons:Eu(t.buttons,e)})},is[Bs]=function(t,e){var n=e.entity;if(null==n)return Object.assign({},t,{campaigns:Eu(t.campaigns,e)});n.prechat&&n.prechatCaptcha&&n.prechat.push({id:-1,type:sa,label:n.prechatCaptchaLabel,value:null,isRequired:!0});var i=["prechat","postchat","offline"],o=[];i.forEach((function(t){var n=e.entity[t];n&&n.length>0&&(o=o.concat(n.map((function(e){return Object.assign({isErrorShowed:!1,isFocused:!1},e,{id:t+"-"+e.id})}))))}));var a=e.entity?i.reduce((function(t,e){var n;return t[e]?Object.assign({},t,((n={})[e]=t[e].map((function(t){return t.id})),n)):t}),e.entity):null;return Object.assign({},t,{campaigns:Eu(t.campaigns,Object.assign({},e,{entity:a})),fields:o.reduce((function(t,e){return Eu(t,{id:e.id,entity:e,error:null,fetchStatus:Pu})}),t.fields)})},is[Ps]=function(t,e,n){var i=n.ifHideAgentName,o=n.agentDefaultName,a=n.apiHost,r=e.entity,s=F(e,Wu);return r.name=i?o:r.name,r.avatar=Gr(r.avatar,a),Object.assign({},t,{agents:Eu(t.agents,Object.assign({entity:r},s))})},is[Ws]=function(t,e){return Object.assign({},t,{departments:Eu(t.departments,e)})},is[hs]=function(t,e,n){var i=e.agent,o=n.ifHideAgentName,a=n.agentDefaultName,r=n.apiHost;if(i){var s=i.name,c=i.avatar,d=F(i,Nu);return Object.assign({},t,{agents:Eu(t.agents,{id:i.id,entity:Object.assign({name:o?a:s,avatar:Gr(c,r)},d),fetchStatus:Pu})})}return t},is[Jd]=function(t,e){var n,i=t.fields.entities[e.id];if(i.customError===e.error&&i.isErrorShowed)return t;var o=Object.assign({},i,{customError:e.error,isErrorShowed:!0,isFocused:!0}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},is[Yd]=function(t,e){var n,i=t.fields.entities[e.id];if(i.value===e.value&&i.isErrorShowed)return t;var o=Object.assign({},i,{value:e.value,isErrorShowed:!0,customError:""}),a=Object.assign({},t.fields,{entities:Object.assign({},t.fields.entities,(n={},n[e.id]=o,n))});return Object.assign({},t,{fields:a})},is[Qd]=function(t,e){var n,i=t.fields.entities[e.id];if(!i)return t;var o=Object.assign({},i,{isFocused:!0}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},is[Zd]=function(t,e){var n,i=t.fields.entities[e.id],o=Object.assign({},i,{isErrorShowed:!0,isFocused:!1}),a=Object.assign({},t.fields.entities,((n={})[e.id]=o,n)),r=Object.assign({},t.fields,{entities:a});return Object.assign({},t,{fields:r})},is[nl]=function(t,e){var n=!1,i=e.ids.reduce((function(t,e){var i=t[e],o=t;return o[e]=Object.assign({},i,{isErrorShowed:!0,isFocused:!n}),n=!0,o}),Object.assign({},t.fields.entities)),o=Object.assign({},t.fields,{entities:i});return Object.assign({},t,{fields:o})},is[Xs]=function(t,e,n){return e.reduce((function(t,e){if(e.type!==Re&&e.type!==Ne&&e.type!==qe)return t;var i=e.content.agent,o=i.name,a=i.avatar,r=i.id,s=F(i,Vu);return r?Object.assign({},t,{agents:Eu(t.agents,{id:e.content.agent.id,entity:Object.assign({name:n&&n.ifHideAgentName?n.agentDefaultName:o,avatar:Gr(a,n.apiHost)},s),error:null,fetchStatus:Pu,index:Object.keys(t.agents).length})}):t}),t)},is[al]=zu,is[Ac]=function(t,e,n){if(e!==tu)return t;var i=t;return n&&n.transferCampaignId&&(i=Lu(t,n.transferCampaignId)),zu(i)},is[xs]=function(t,e,n){var i=t;return n&&n.transferCampaignId&&(i=Lu(t,n.transferCampaignId)),zu(i)},is[uc]=function(t,e,n){return n?zu(t):t},is[fl]=function(t,e){var n=e.reduce((function(t,e){var n=t;return n[e.id]=e,n}),{});return Object.assign({},t,{kbArticles:{entities:n}})},is),Ku=D(Ru,Gu),Yu="none",Ju="requesting",Qu="running",Zu="loading",Xu="prelogin",$u="ssoLogin",tp="prechat",ep="chat",np="postchat",ip="offline",op="kb",ap="none",rp="pending",sp="success",cp="visitor",dp="agent",lp="system",up="chatbot",pp="taskbot",hp="none",fp="waiting",gp="invited",mp="chatting",wp="chatted",bp="prechat",vp="postchat",_p="offline",xp="sso",yp="rating",Sp=Object.freeze({__proto__:null,offline:_p,postchat:vp,prechat:bp,rating:yp,sso:xp}),Cp="maxFileSize",kp="emptyFile",Ip="maxLengh",Mp="limited",Op="maxFileCount",Ap="notSupported",Bp="kb",Tp="bot",jp="media",Pp="voice",Fp="bubble",Wp="kbSearch",Np="coBrowsing",Vp="pushPage",Dp="screenSharing",Rp="taskbotCollectName",Ep="taskbotCollectEmail",zp="taskbotCollectPhoneNumber",Lp="taskbotCollectCompanyName",Hp="taskbotCollectComment",qp="taskbotCollectLocation",Up="taskbotCollectVariableData",Gp="taskbotSendMessage",Kp="taskbotSendImage",Yp="taskbotSendVideo",Jp="taskbotSSOLoginButton",Qp="taskbotQuickReply",Zp="taskbotMessage",Xp="taskbotBookMeeting",$p="taskbotActionBookingViaMicrosoftBooking",th="loading",eh="taskbotActionSendAMenu",nh="taskbotActionCollectFeedback",ih="horizontal",oh="agent",ah="banner",rh="logo",sh=function(t,e){return E(t,"entities.campaigns.entities."+e)},ch=function(t,e){return E(t,"entities.campaigns.entities."+e)},dh="main",lh=function(t){return t.app.isReady},uh=function(t){return t.app.server===dh},ph=function(t){return t.app.isPoppedOut},hh=function(t){return t.app.banned},fh=function(t){return t.app.isActive},gh=function(t){return!t.app.isActive},mh=function(t){return t.app.isRecovering},wh=function(t){return t.app.isSoundOff},bh=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[uh(t)?t.configuration.url:t.configuration.standbyUrl,e].join(/^\//.test(e)?"":"/")},vh=function(t){return null==t.configuration?"":uh(t)?t.configuration.url:t.configuration.standbyUrl},_h=function(t,e){return/^https?:/.test(e)||null==t.configuration?e:null==e?null:[t.configuration.vue,e].join(/^\//.test(e)?"":"/")},xh=function(t){return t.configuration&&t.configuration.vue},yh=function(t){return _h(t,"/visitorside/location/position.html")},Sh=function(t,e){var n=function(t,e){return _h(t,"/visitorside/sso/ssoredirect.html")}(t),i="returnUrl="+encodeURIComponent(n),o=/\breturnurl=[^&]+/i;return o.test(e)?e.replace(o,i):e+"&"+i},Ch=function(t){return/^(https?:\/\/)?([^/]*)/gi.exec(t)[2]},kh=function(t,e){if(/^https?:/.test(e))return e;if(null==t.configuration)return e;var n=t.configuration.webrtcSignalingServiceUrl;return[Ch(n),e].join(/^\//.test(e)?"":"/")},Ih=function(t){return t.configuration.heartbeat.online},Mh=function(t){return t.configuration.heartbeat.offline},Oh=function(t){return t.configuration.heartbeat.stopAfter},Ah=function(t){return t.configuration.attachmentMaxSize},Bh=function(t){return t.configuration.frequencyLimit},Th=function(t){return t.configuration.messageLengthLimit},jh=function(t){return t.configuration.kbClientUrl},Ph=function(t){return!!t.configuration.features.hideAgentName&&t.configuration.features.hideAgentName},Fh=function(t){return t.configuration.encoding},Wh=function(t){return t.configuration.ifPartner},Nh=function(t){return t.configuration.features.audioVideoChatRecording},Vh=function(t){return t.configuration.brandConfig},Dh=function(t){return t.window?t.window.crossSiteChatTransfer:null},Rh=function(t){return function(e){var n=e.configuration.features||{};return function(t){return t.window&&!!t.window.crossSiteChatTransfer}(e)&&(n=Dh(e).configuration&&Dh(e).configuration.features||{}),n[t]}},Eh=function(t){return"OnlySendTheTranslation"===t.configuration.messageContentInLiveChat},zh="goToIntent",Lh="contactAgent",Hh="text",qh=function(t){return E(t,"window")},Uh=function(t,e){return function(n){var i=qh(n);return i?t(i,n):e}},Gh=Uh((function(t){return t.chatStatus}),hp),Kh=function(t){var e=t.window;return e?e.tab!==ep&&e.tab!==np||e.chatStatus!==mp&&e.chatStatus!==gp&&e.chatStatus!==wp||e.isChatBot||0===e.involvedAgents.length?null:t.entities.agents.entities[e.involvedAgents[0]]:null},Yh=function(t){var e=t.window;return e&&(e.tab===ep||e.isChatBot&&e.tab===np)?e.chatStatus!==mp&&e.chatStatus!==fp&&e.chatStatus!==wp?null:e.isChatBot?t.window.chatBot||{}:null:null},Jh=function(t){var e=t.window;return e?e.chatbotContext||{}:null},Qh=function(t){var e=Jh(t);return e?e.variables:null},Zh=function(t){var e=Jh(t);return e?e.visitorInfo:null},Xh=Uh((function(t,e){if(!e.entities)return!1;if(!e.entities.campaigns)return!1;var n=e.entities.campaigns;return n.fetchStatus[t.id]===Pu&&!!n.entities[t.id]}),!1),$h=function(t){return E(t,"window.tab")},tf=Uh((function(t){return t.sideWindowItems}),[]),ef=function(t){return E(t,"window.id")},nf=function(t){return E(t,"window.crossSiteChatTransfer.campaignId")},of=Uh((function(t,e){var n=nf(e)||ef(e);return e.entities.campaigns.entities[n]}),null),af=Uh((function(t,e){return e.entities.campaigns.entities[e.window.id]}),null),rf=Uh((function(t,e){return e.entities.campaigns.entities[e.window.id].mainColor}),""),sf=function(t){var e=t.entities.campaigns.entities[t.window.id].chat.texture;return e?"url("+e+")":null},cf=Uh((function(t){return t.ssoUrl}),""),df=Uh((function(t){return t.showPrelogin}),!1),lf=Uh((function(t){return t.isChatBot}),!1),uf=Uh((function(t){return t.pendingMessage}),void 0),pf=t(1)((function(t,e,n,i,o){return function(a){var r=e.entities[n];if(a.sender.type===dp){var s=t.entities[a.sender.id];return Object.assign({},a,{sender:s||{name:r.languages.operatorDefaultName}})}if(a.type===Dn)return Object.assign({},a,{sender:Object.assign({},a.sender,{name:o?o.name:"",avatar:o?o.avatar:""})});if(a.sender.type===up){var c=o?o.name:"",d=a.sender?a.sender.name:"",l=o?o.avatar:"",u=a.sender?a.sender.avatar:"";return Object.assign({},a,{sender:Object.assign({},a.sender,{name:d||c,avatar:u||l})})}if(ke===a.type)return Object.assign({},a,{queuePosition:i.position,estimatedWaitTime:i.waitTime});if(a.type===Re||a.type===De||a.type===Ee){var p=t.entities[a.sender.id];return Object.assign({},a,{sender:p||{name:r.languages.operatorDefaultName}})}return a}})),hf=t(1)((function(t,e,n,i,o,a,r){return o.map(pf(t,e,n,i,r)).filter(function(t){return function(e){return e.type!==ri&&e.type!==ui&&e.type!==Ri&&e.type!==zi&&e.type!==li&&e.type!==Di&&e.type!==pi&&e.type!==Ei&&e.type!==di&&e.type!==hi&&e.type!==fi&&e.type!==gi&&e.type!==Pe&&e.type!==ci&&e.type!==Zi&&(e.type!==_e||t===fp)&&(e.type===Vn||!!e.content&&("string"==typeof e.content||("string"==typeof e.content.fileName?e.content.fileName:"string"==typeof e.content.name?e.content.name:"string"==typeof e.content.text?e.content.text:null!==e.content.text&&"object"==typeof e.content&&Object.keys(e.content).length>0)))}}(a))})),ff=Uh((function(t,e){var n=t.messages,i=e.entities,o=i.agents,a=i.campaigns,r=t.id,s=t.queue,c=t.chatStatus,d=t.chatBot;return hf(o,a,r,s,n,c,d)}),[]),gf=Uh((function(t){return t.messages}),[]),mf=Uh((function(t){return t.sourceMessages}),[]),wf=Uh((function(t){return t.queue}),{}),bf=Uh((function(t){return t.involvedAgents}),[]),vf=Uh((function(t){return t.audioVideoAgentId}),0),_f=Uh((function(t){return t.chatGuid})),xf=Uh((function(t){return t.visitorTyping}),!1),yf=Uh((function(t){return t.draft}),""),Sf=Uh((function(t){return t.maxId}),-1),Cf=Uh((function(t){return t.error})),kf=Uh((function(t){return t.warning})),If=Uh((function(t){return t.maxReadId}),-1),Mf=Uh((function(t,e){for(var n=ff(e),i=t.maxReadId,o=0,a=n.length-1;a>=0;a-=1){var r=n[a];if(r.id<=i)break;if(void 0!==r.id&&dr(r)&&(o+=1)>=99)return 99}return o}),0),Of=Uh((function(t,e){var n=ff(e);if(!(Mf(e)<=0))for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(dr(o))return o}})),Af=Uh((function(t,e){var n=ff(e);if(Mf(e)<=0)return 0;for(var i=n.length-1;i>=0;i-=1){var o=n[i];if(dr(o))return o.id}return 0})),Bf=function(){var t=z.href;return"https://www.${brandingNameLowerCase}.com/powered-by/".replace("${brandingNameLowerCase}",V.brandingNameLowerCase)+"?customer="+(encodeURIComponent(L(t))||"")+"&utm_source=PoweredBy&utm_medium=ChatWindow&utm_campaign=BottomLink"},Tf=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===Ve}))},jf=Uh((function(t){if(t.tab!==ep)return!1;var e=function(){switch(t.chatStatus){case mp:return!t.isChatBot||!1!==t.isVisibleInputAreaWhenBotChatting;case fp:return!!t.allowWaitingSendMessage&&!t.isChatBot;case wp:return!1;case gp:return!0;default:return!1}};return t.isTaskBot?!1!==t.enableChatInputWhenTaskbot&&(t.isVisibleInputAreaWhenTaskbot&&e()):e()}),!1),Pf=Uh((function(t){return!!t.webView}),!1),Ff=Uh((function(t){if(t.tab!==ep)return!1;return function(){switch(t.chatStatus){case mp:return!0;case fp:return!!t.allowWaitingSendMessage;case wp:return!1;default:return!0}}()}),!1),Wf=function(t){return t.window&&t.window.messages&&t.window.messages.find((function(t){return t.type===ei}))},Nf=Uh((function(t){return t.chatStatus===mp}),!1),Vf=Uh((function(t){return t.chatStatus===gp}),!1),Df=function(t){var e=bf(t);if(0!==e.length){var n=e[0];return t.entities.agents.entities[n]}},Rf=function(t){var e=bf(t);if(0!==e.length){var n=vf(t);if(n>0)return t.entities.agents.entities[n];if(e.length>1)return{avatar:_h(t,"/visitorside/images/avatar.png"),name:""};var i=e[0];return t.entities.agents.entities[i]}},Ef=function(t){var e=Vf(t);if(Nf(t)||e){if(e){if(!(t.page.requestChatAction.source.type===_u))return;return Df(t)}var n=Yh(t);if(n)return n;var i=Qg(t);return i||Df(t)}},zf=function(t){var e=Ef(t);return e?e.avatar:e},Lf=function(t){var e=Rf(t);return e?e.avatar:""},Hf=function(t){var e=Rf(t);return e?e.name:""},qf=Uh((function(t){return t.chatStatus===fp||t.chatStatus===mp}),!1),Uf=Uh((function(t){return t.chatStatus===fp}),!1),Gf=Uh((function(t){return t.chatStatus===mp&&t.isChatBot}),!1),Kf=Uh((function(t){return t.chatStatus===wp}),!1),Yf=Uh((function(t){return t.ifHideBio}),!1),Jf=Uh((function(t){return t.fileUploadCount}),0),Qf=function(t,e){return E(t,"window.fields."+e)},Zf=Uh((function(t){return t.disabled}),!1),Xf=function(t){var e=t.window,n=E(t,"page.windowStatus");return e&&(e.tab===ep||e.tab===op||e.tab===Zu||e.tab===$u||e.tab===Xu||e.tab===tp||e.tab===ip)&&(n===Zl||n===Xl)&&!!e.sideWindowSelectedTab},$f=function(t){var e=Kh(t);return!!e&&e.isSupportWebrtc},tg=function(t){return E(t,"window.sideWindowItems")},eg=Uh((function(t){return t.audio_video_disabled}),!1),ng=function(t){return E(t,"window.showChatWindowInSidewindow")},ig=function(t){return E(t,"window.sideWindowSelectedTab")},og=function(t){var e=E(t,"window.pushPage.url").trim();return H(e)},ag=function(t){return af(t).customCSS},rg=function(t,e){var n=sh(t,e);return n?n.customCSS:""},sg=Uh((function(t){return t.vChatStatus}),ma),cg=Uh((function(t){return t.audioVideoChatStartTime}),0),dg=function(t){var e=sg(t);return e===ba||e===_a},lg=Uh((function(t){return t.isRecording}),!1),ug=Uh((function(t){return t.isFocused}),!1),pg=Uh((function(t){return t.frequencyLimitState}),!1),hg=Uh((function(t){return t.autoEjectTranscript}),!1),fg=function(t){var e=af(t);return e&&e.isRTL},gg=function(t,e){var n=sh(t,e);return n&&n.isRTL},mg=function(t){var e=Kh(t);return!(!e||!e.bio)&&(!Uh((function(t){return t.ifHideBio}),!1)(t)&&af(t).header.showBio)},wg=Uh((function(t){return t.kbChatWithAgentClicked}),!1),bg=function(t){return E(t,"window.kb.activeArticle")},vg=function(t){return E(t,"window.kbConfig.greetingMessage")},_g=function(t){return E(t,"window.kbConfig.maxCount")},xg=function(t){var e=E(t,"window.kb");if(!e)return!1;if(!1!==e.isLoading)return!1;var n=e.articles;return!(n&&n.length>0)},yg=function(t){return E(t,"window.kb.isLoading")},Sg=function(t){return E(t,"window.kbConfig.notShowContent")},Cg=Uh((function(t){return t.botSideWindow}),null),kg=function(t){return t.window?t.window.cobrowsing:Yu},Ig=function(t){return kg(t)===Qu},Mg=function(t){return kg(t)===Ju},Og=Uh((function(t){return t.bottom}),0),Ag=Uh((function(t){return t.right}),0),Bg=function(t,e){var n=e?t.entities.campaigns.entities[e]:af(t);return n&&n.ifEnableVisitorSeeMsgSentSeen},Tg=Uh((function(t){return t.maxAgentReadId}),""),jg=Uh((function(t){return t.maxVisitorReadId}),""),Pg=function(t){return Gf(t)?t.window.quickReply:Nf(t)&&t.window.quickReply?Object.assign({},t.window.quickReply,{items:t.window.quickReply.items.filter((function(t){return t.type!==Lh}))}):null},Fg=Uh((function(t){return t.webView}),null),Wg=function(t){var e=Fg(t);return!e||e.ifLoading},Ng=function(t){var e=Fg(t);return!!e&&e.success},Vg=function(t){var e=Fg(t);return e?e.visitorInfo:null},Dg=Uh((function(t){return t.showToolbox}),!1),Rg=Uh((function(t){return t.chatVersion}),""),Eg=Uh((function(t,e){return{chatGuid:_f(e),chatVersion:Rg(e)}}),{chatGuid:null,chatVersion:""}),zg=Uh((function(t){return t.visitorStatus}),du),Lg=function(t){var e=mf(t).find((function(t){return t.type===Ne||t.type===Se||t.type===Hi}));return e?e.time:""},Hg=function(t){var e=mf(t).find((function(t){return t.type===ve}));return e?e.time:""},qg=function(t){var e=mf(t);return e.length>0?e[e.length-1].guid:""},Ug=Uh((function(t){return t.emailToSendTranscript}),""),Gg=function(t){var e=gf(t),n=!1;return e.forEach((function(t){t.type===Ye?n=!0:t.type===Be&&(n=!1)})),n&&Gh(t)===mp},Kg=Uh((function(t,e){return e.entities.campaigns.entities[t.id]}),"none"),Yg=function(t){return void 0===t.window.ifOpenSignInPageEmbeddedWindow||t.window.ifOpenSignInPageEmbeddedWindow},Jg=Uh((function(t){return t.popupBubble}),!1),Qg=function(t){var e=t.window;return e&&e.isTaskBot&&(e.tab===ep||e.isThatBot)?e.chatStatus!==mp&&e.chatStatus!==fp&&e.chatStatus!==wp?null:e.taskBot||{}:null},Zg=Uh((function(t){return t.isMessageScrollBottom}),!0),Xg=function(t){return gf(t).filter((function(t){return!1===t.isSeenByVisitor})).length},$g=Uh((function(t){return t.width})),tm=Uh((function(t){return t.isPostChatVisible})),em=Uh((function(t){return t.screenSharingStatus}),ya),nm=function(t){var e=em(t);return e===Ma||e===Ca},im=Uh((function(t){return t.screenSharingAgentId}),0),om=function(t){var e=bf(t);if(0!==e.length){var n=im(t);if(n&&t.entities.agents.entities[n])return t.entities.agents.entities[n];if(e.length>1)return{avatar:_h(t,"/visitorside/images/avatar.png"),name:""};var i=e[0];return t.entities.agents.entities[i]}},am=function(t){var e=om(t);return e?e.name:""},rm=function(t){var e=om(t);return e?e.avatar:""},sm=Uh((function(t){return t.screenSharing_disabled}),!1),cm=Uh((function(t){return t.previewImage}),{}),dm=Math.pow(2,0),lm=Math.pow(2,1),um=Math.pow(2,2),pm=Math.pow(2,3),hm=Math.pow(2,4),fm=Math.pow(2,5),gm=Math.pow(2,6),mm=Math.pow(2,7),wm=Math.pow(2,8),bm=function(t){return t.page.campaignId},vm=function(t){return t.window&&t.window.id?t.window.id:t.page.campaignId},_m=function(t){return t.page.chatGroup},xm=function(t){return t.page.buttons},ym=function(t){return t.page.siteId},Sm=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.siteId:t.page.siteId},Cm=function(t){return t.page.windowStatus},km=function(t){return t.page.visitor.guid},Im=function(t){return t.window&&t.window.crossSiteChatTransfer?t.window.crossSiteChatTransfer.visitorGuid:t.page.visitor.guid},Mm=function(t){var e=function(t){return t.page}(t).popout;return e?{url:e.url,title:e.title}:{url:z.href,title:N.title}},Om=function(t,e){void 0===e&&(e=0);var n=Mm(t);return t.page.requestChatAction?Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},t.page.requestChatAction.source,{page:n})}):So(e,{type:bu,page:n})},Am=function(t){var e=Om(t);return e&&e.source},Bm=function(t){var e=function(t,e){void 0===e&&(e=0);var n=Mm(t);if(t.page.requestChatAction){var i={};return lf(t)&&(i={type:"bot"}),Gh(t)===fp&&(i={type:"queue"}),Object.assign({},t.page.requestChatAction,{campaignId:e,source:Object.assign({},Object.assign({},t.page.requestChatAction.source,i),{page:n})})}return So(e,{type:bu,page:n})}(t);return e&&e.source},Tm=function(t){return(Am(t)||{}).type},jm=function(t){return(Am(t)||{}).invitationId},Pm=function(t){return t.page.manualInvitation},Fm=function(t,e){return t.page.buttons[e]},Wm=function(t){return t.page.platform===we||t.page.platform===be},Nm=function(t){return t.page.platform===be},Vm=function(t){return Object.keys(t.page.buttons).map((function(e){var n=t.entities.buttons.entities[e];if(!n)return null;var i=ym(t);return Object.assign({},n,{chatWindowLink:_h(t,ja(i,e))})})).filter((function(t){return t}))},Dm=function(t,e){var n=t.type;return(n===Iu||n===Mu)&&function(t){return t!==tu}(e)},Rm=t(1)((function(t,e,n){return t.map((function(t){var i=!function(t,e){return t.isHideOffline&&!e[t.id]}(t,e)&&!Dm(t,n)&&!t.isHidden;return Object.assign({},t,{isHidden:!i})}))})),Em=function(t){var e=Vm(t),n=xm(t),i=Cm(t);return Rm(e,n,i)},zm=function(t){return t.page.skipPreChat},Lm=function(t){return t.page.artifact},Hm=function(t){return t.page.height},qm=function(t){return t.page.width},Um=function(t){return t.page.isDynamicCampaign},Gm=function(t){return t.page.visitorStatus},Km=function(t){return t.page.shouldFocusBar},Ym=function(t){return t.page.jwt},Jm=function(t,e){var n=E(t,"entities.campaigns.entities."+e+".chat.tools");return void 0===n?0:n},Qm=function(t,e){return!(!(um&Jm(t,e))||t.window.chatStatus!==wp&&t.window.chatStatus!==mp)},Zm=function(t,e){return!!(dm&Jm(t,e))&&t.window.chatStatus!==wp},Xm=function(t,e){return!!(pm&Jm(t,e))&&t.window.chatStatus!==wp&&Rh("audioVideoChat")(t)&&v},$m=function(t,e){return!!(hm&Jm(t,e))&&t.window.chatStatus!==wp&&Rh("audioVideoChat")(t)&&v},tw=function(t,e){return!!(mm&Jm(t,e))&&t.window.chatStatus!==wp&&Rh("screenSharing")(t)&&v&&!Wm(t)},ew=function(t,e){return!!(gm&Jm(t,e))},nw=function(t,e){return!!(wm&Jm(t,e))&&t.window.chatStatus!==wp&&!Wm(t)},iw=function(t,e){var n=of(t);return n&&n.postchat?n.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})).find((function(t){return t.type===e})):null},ow=function(t){return iw(t,Qo)},aw=function(t){return iw(t,Zo)},rw="classic",sw="circle",cw="bubble",dw=function(t){return"window--"+t},lw=Object.freeze({__proto__:null,bubble:cw,circle:sw,classic:rw,styleClassName:dw}),uw=function(t,e){return t.entities.agents.entities[e]},pw=function(t){return(e=t.entities.agents.entities)&&Object.keys(e)||[];var e},hw=function(t){return t.entities.agents.entities},fw=function(t){var e=ym(t),n=function(t){return pw(t).reduce((function(e,n){return e.concat([uw(t,n)])}),[])}(t).sort((function(t,e){return t.index-e.index})).filter((function(t){return t.siteId===e})).map((function(t){return t.avatar})).filter((function(t){return t})),i=null;switch(n.length){case 0:return null;case 1:i=[n[0],_h(t,"/visitorside/images/avatar-male.png"),_h(t,"/visitorside/images/avatar-female.png")];break;case 2:i=[].concat(n,[_h(t,"/visitorside/images/avatar-male.png")]).filter((function(t){return t}));break;default:i=n.slice(0,3)}return i},gw=function(t,e){var n=e,i=t.entities.buttons.entities,o=Number(e);if(!isNaN(o)){var a=Object.keys(i).filter((function(t){return i[t].intId===o}));if(a.length>0)return i[a[0]]}return"number"!=typeof e&&(n=e.toLowerCase()),i[n]},mw=function(t,e){var n=t.entities.buttons.entities;if(!n)return null;var i=Object.keys(n).filter((function(t){return n[t].intId===e}));return i.length>0?n[i[0]].id:null},ww=function(t,e){var n=gw(t,e);return n&&n.customOffline},bw=function(t,e){return!!t.entities.buttons&&gw(t,e).isEmbeddedWindow},vw=function(t){return t.entities.departments.entities},_w=/(#chat-window(?!-)\b[^{}]*?{([^}]*?)})(?!(.*|\r\n|\r|\n)\*\/)/,xw=/(?:;|\s|{)width\s*:\s*(?:-?)(\d+)/,yw=/(?:;|\s|{)height\s*:\s*(?:-?)(\d+)/,Sw=function(t){return t===rw?580:605},Cw=function(t,e){var n=ch(t,e),i=gw(t,e);if(i){var o=i.iframeStyle;if(!o)return o;if(!n)return o;var a=n.style;if(a===cw)return o;if(n.customCSS&&_w.test(n.customCSS)){var r=_w.exec(n.customCSS)[0],s=xw.exec(r),c=yw.exec(r);return o.width=s?parseInt(s[1]):385,o.height=c?parseInt(c[1]):Sw(a),o}return o.width=385,o.height=Sw(a),o}},kw=function(t,e){var n=gw(t,e),i=Wm(t);return n&&n.type===Mu?{right:i?n.adaptiveButtonRightOffsetOnMobile:n.adaptiveButtonRightOffset,bottom:i?n.adaptiveButtonBottomOffsetOnMobile:n.adaptiveButtonBottomOffset}:{right:0,bottom:0}},Iw=function(t){var e=E(t,"window.kb.articles");return e&&e.map((function(e){var n=t.entities.kbArticles.entities[e];return{id:n.id,title:n.title,summary:n.body.replace(/<\/?[^>]+(>|>$)/g," ").substr(0,200)}}))},Mw=function(t,e){var n=t.entities.campaigns.entities[e];return n?n.mainColor:""},Ow=function(t){return t.entities.campaigns.entities[vm(t)].ifRemovePoweredBy},Aw="promptPressEnterToSend",Bw="titleChatWindow",Tw="titleOfflineMessageWindow",jw="titlePreChatWindow",Pw="eventSendTranscript",Fw="errorVisitorNotExist",Ww="buttonKBChatWithAgent",Nw="buttonKBLeaveMessage",Vw="buttonSendFile",Dw=function(t,e,n){return n+"_"+t+(e?"_"+e:"")},Rw=(Hu={},{get:function(t){return Hu[t]||null},set:function(t,e){null!=e&&(Hu[t]=e)},setSession:function(t,e){Hu[t]=e},remove:function(t){delete Hu[t]}}),Ew={get:function(t){for(var e=N.cookie.split("; "),n=0;n<e.length;n+=1){var i=e[n].split("=");if(null!=i&&2===i.length&&t===i[0])return i[1]}return null},set:function(t,e,n){void 0===n&&(n=!1),null!==e&&(N.cookie=t+"="+e+";path=/;"+(n?"secure=true;":"")+"expires=Sat, 01 Jan 10000 00:00:00 GMT")},setSession:function(t,e,n){void 0===n&&(n=!1),null!==e&&(N.cookie=t+"="+e+";path=/;"+(n?"secure=true;":""))},remove:function(t){N.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;"}},zw=function(){Ew=Rw},Lw=function(t){return Ew.get(t)},Hw=function(t){return Ew.remove(t)},qw=function(t,e){return Ew.get(t)&&Ew.remove(t),Ew.set(t,e,q)},Uw=function(t,e){return Ew.setSession(t,e,q)},Gw=function(t){return Ew.remove(t)},Kw=V.brandingNameLowerCase+"_session",Yw=V.brandingNameLowerCase+"standby_session",Jw=V.brandingNameLowerCase+"_visitor",Qw=V.brandingNameLowerCase+"_visitorguid",Zw=V.brandingNameLowerCase+"_visitor",Xw=V.brandingNameLowerCase+"_chat",$w=V.brandingNameLowerCase+"_session",tb=V.brandingNameLowerCase+"_page",eb=V.brandingNameLowerCase+"_crossSiteChatTransfer",nb=V.brandingNameLowerCase+"_frequencyLimit",ib=V.brandingNameLowerCase+"_soundOff",ob=(qu=function(){var t="livechattestkey",e=V.sessionStorage;try{return e.setItem(t,"test"),e.removeItem(t),!1}catch(t){return t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length}},function(){return void 0===Uu&&(Uu=qu()),Uu}),ab=function(t){var e=window[t]||{};return window[t]=e,{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n.toString()},removeItem:function(t){delete e[t]}}},rb=function(){try{return!window.sessionStorage||ob()?ab("sessionStorage"):V.sessionStorage}catch(t){return ab("session-storage")}},sb=function(){try{return!window.localStorage||ob()?ab("localStorage"):V.localStorage}catch(t){return ab("local-storage")}},cb=sb(),db=rb(),lb=!1,ub=function(t){lb=t},pb=function(){return Dw(Kr,Yr,Jw)},hb=function(){return t=Lw(pb()),isNaN(+t)||0==+t?void 0:Math.floor(+t);var t},fb=function(t){return Dw(t||Kr,Yr,Qw)},gb=function(t){return Lw(fb(t))},mb=function(t,e){t&&(lb?Uw:qw)(fb(e),t)},wb=function(t){return Dw(t||Kr,Yr,Zw)},bb=function(t){try{return JSON.parse(cb.getItem(t))||{}}catch(t){return{}}},vb=function(t,e){try{return cb.setItem(t,JSON.stringify(e))}catch(t){}},_b=function(t){return bb(wb(t))},xb=function(t,e){return cb.setItem(wb(e),JSON.stringify(Object.assign({},_b(e),t)))},yb=function(t){return bb(wb(t)).sessionId},Sb=function(t){return Dw(t||Kr,Yr,""+Xw)},Cb=function(t,e){var n=bb(Sb(e));return n.chatGuid===t?n:{}},kb=function(){return nb+"_"+Kr},Ib=function(t){vb(kb(),t)},Mb=function(t,e,n){if(cb){var i=Cb(t,n);cb.setItem(Sb(n),JSON.stringify(i.chatGuid===t?Object.assign({},i,e):Object.assign({chatGuid:t},e)))}},Ob=function(t){return Dw(t||Kr,Yr,""+$w)},Ab=function(t){void 0===t&&(t=gb());var e=bb(Ob());return e.visitorGuid===t?e:{}},Bb=function(t,e){void 0===e&&(e=gb());var n=Ab(e);cb.setItem(Ob(),JSON.stringify(n.visitorGuid===e?Object.assign({},n,t):Object.assign({visitorGuid:e},t)))},Tb=function(){return Dw(Kr,Yr,""+tb)},jb=function(){return function(t){try{return JSON.parse(db.getItem(t))||{}}catch(t){return{}}}(Tb())},Pb=function(t){return db&&db.setItem(Tb(),JSON.stringify(Object.assign({},jb(),t)))},Fb=function(){Hw(Dw(Kr,Yr,Kw)),Hw(Dw(Kr,Yr,Yw))},Wb=function(){return jb().mediaChatHash},Nb=function(t){return Cb(t).mediaChatHash},Vb=function(t){Mb(t,{mediaChatHash:Wb()})},Db=function(t){var e=Nb(t);e&&e===Wb()&&Mb(t,{mediaChatHash:null})},Rb=function(t){Mb(t,{mediaChatHash:null}),Pb({mediaChatHash:null})},Eb=function(){return(_b()||{}).lastChattedAgents||[]},zb=Dw(Kr,Yr,"SSOSessionToken"),Lb=function(t){Uw(zb,t)},Hb=Dw(Kr,Yr,"SSOSessionInfo"),qb=function(t){Uw(Hb,t.replace(/=/g,"#").replace(/;/,"@"))},Ub=function(){var t=Lw(Hb);return t?t.replace(/#/g,"=").replace(/@/,";"):null},Gb=Dw(Kr,Yr,"SSOSessionLoggedIn"),Kb=function(){Uw(Gb,!0)},Yb=function(){Gw(Gb)},Jb=function(){Gw(zb),Gw(Hb),Yb()},Qb=function(t,e){return eb+"_"+t+(e?"_"+e:"")},Zb=function(t,e){try{cb.removeItem(Qb(t,e))}catch(t){}},Xb=function(t,e,n){vb(Qb(t,e),n)},$b=function(t,e){var n=bb(Qb(t,e));return n.siteId&&n},tv=function(){return"true"===cb.getItem(ib)},ev=function(){return cb.removeItem(ib)},nv=Math.pow(2,0),iv=Math.pow(2,1),ov=Math.pow(2,2),av=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.isManual=t.isManual,e.type=gu,e.campaignId=t.campaignId,e.message=t.text,e.textTypeHere=t.textTypeHere,e.messageCount=t.messageCount,t.agent&&(e.agentName=t.agent.name,e.avatar=t.agent.avatar),e.agent=t.agent,e})),rv=t(1)((function(t){var e=Object.assign({},t);return e.id=t.id,e.type=mu,e.campaignId=t.campaignId,e.message=t.text,e.acceptText=t.acceptText,e.refuseText=t.refuseText,e.themeColor=t.themeColor,e.title=t.title,e.agent=t.agent,e})),sv=t(1)((function(t){var e={};if(e.id=t.id,e.type=hu,e.image=t.image,e.message=t.text,e.fontSize=t.fontSize,e.color=t.color,e.themeColor=t.themeColor,e.fontFamily=t.fontFamily,e.ifModal=t.ifModal,t.fontStyle){var n=t.fontStyle;e.fontWeight=n&nv?"bold":"",e.fontStyle=n&iv?"italic":"",e.textDecoration=n&ov?"underline":""}return e.messageArea={left:t.textArea[0],top:t.textArea[1],width:t.textArea[2],height:t.textArea[3]},e.closeArea={left:t.closeArea[0],top:t.closeArea[1],width:t.closeArea[2],height:t.closeArea[3]},e.textAlign=t.textAlign,t.position&&(e.position=t.position),e.isManual=t.isManual,e.campaignId=t.campaignId,e.agent=t.agent,e}));function cv(t){var e=E(t,"page.invitation");if(!e)return null;var n=e.type;return gu===n?av(e):hu===n?sv(Object.assign({},e,{image:bh(t,e.image)})):mu===n?rv(e):null}var dv,lv,uv,pv=function(t){return t.page&&t.page.invitation},hv=function(t){return t.page&&t.page.ifShowInvitationProcessing},fv=Uh((function(t){return t.isTaskBot}),!1),gv=function(t){var e=t.window;return e?e.chatStatus!==mp&&e.chatStatus!==fp&&e.chatStatus!==wp?null:e.taskBot||{}:null},mv=function(t){fv(t);var e=gv(t);return e&&e.id?e.id:"00000000-0000-0000-0000-000000000000"},wv=t(1)((function(t){return Object.keys(t).map((function(e){var n=t[e];return{value:n.id,label:n.name,isOnline:n.isOnline}})).sort((function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?-1:1}))})),bv={custom:{}},vv=function(t,e,n,i,o){return e.configuration.features[n]?t:t.filter((function(t){return e.entities.fields.entities[o+"-"+t].type!==i}))},_v=function(t){var e=nf(t)||ef(t);return xv(t,vp,e)},xv=function(t,e,n){var i;e===bp?i="prechat":e===vp?i="postchat":e===_p&&(i="offline");var o=t.entities.campaigns.entities[n],a=t.configuration.customVariableResult;if(o&&o[i]){var r=o[i];return r=vv(r,t,"department",Yo,i),(r=vv(r,t,"ticket",Jo,i)).map((function(e){var n=t.entities.fields.entities[i+"-"+e],r="";if(n.type===Yo){var s=t.entities.departments.entities;n=Object.assign({},n,{options:wv(s)})}var c,d,l=t.window?t.window.fields:bv;if(c=n.type===Ho?l.name:n.type===qo?l.email:n.type===Uo?l.phone:n.type===Go?l.company:n.type===Ko?l.product:n.type===Yo?l.department:n.type===Qo?l.rating:n.type===Zo?l.comment:n.type===Xo?l.subject:n.type===$o?l.content:n.type===ta?l.attachment:n.type===Jo?l.ticketId:n.type===sa?void 0:n.type===ia||n.type===oa?void 0===l.custom[n.label]||null===l.custom[n.label]?"false":l.custom[n.label]:n.type===ra&&void 0===l.custom[n.label]?"":l.custom[n.label],!(c=null!=n.value?n.value:c)&&a&&a[n.label]&&(c=a[n.label]),n.isRequired){((n.type===ra?""===c||void 0===c:n.type===ia||n.type===oa?c&&"true"!==c:!c||c.trim&&""===c.trim())||Array.isArray(c)&&0===c.length||n.type===Yo&&c===Xi)&&(r=o.languages.promptRequired)}if(n.type===qo&&c&&!Ha(c)&&(r=o.languages.promptInvalidEmail),n.type!==Jo||!c||(d=c).length<=10&&/^\d{0,10}$/.test(d)&&parseInt(d,10)<Math.pow(2,31)||(r="Invalid number"),n.type===ta&&"undefined"!=typeof File&&c&&"undefined"!==c.size){var u=Ah(t);c.size>Math.pow(1024,2)*u&&(r=o.languages.promptFileSizeExceed.replace("{fileSize}",u))}return Object.assign({},n,{value:c,error:n.customError||r})}))}return[]},yv=function(t,e){return t.window.forms[e]},Sv=function(t){var e=t.entities.campaigns.entities[t.window.id];return e&&e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[]},Cv=function(t){var e=t.entities.campaigns.entities[t.window.id],n=[];e&&(n=(n=(n=n.concat(e.prechat?e.prechat.map((function(e){return t.entities.fields.entities["prechat-"+e]})):[])).concat(e.postchat?e.postchat.map((function(e){return t.entities.fields.entities["postchat-"+e]})):[])).concat(e.offline?e.offline.map((function(e){return t.entities.fields.entities["offline-"+e]})):[]));var i={text:!0,textarea:!0,radio:!0,checkbox:!0,select:!0,"checkbox-list":!0,attachment:!0,rating:!0};return n.filter((function(t){return i[t.type]}))},kv=function(t){var e=bf(t),n=[];e&&e.length>0&&e.map((function(e){return uw(t,e)&&n.push(uw(t,e))}));var i=t.window.chatBot;return i&&(n=n.concat(i)),n},Iv=function(t){return t.window&&!!t.window.crossSiteChatTransfer},Mv=function(t){return t.window?t.window.crossSiteChatTransfer:null},Ov=function(t){return Mv(t)?Mv(t).siteId:0},Av=function(t){return!Mv(t)||Mv(t).isTransferDone},Bv=function(t){return Mv(t)?Mv(t).campaignId:vm(t)},Tv=function(t){var e=Mv(t);return e&&e.configuration?e.configuration.serverInstanceTag:function(t){return t.configuration.serverInstanceTag}(t)},jv=function(t){var e,n=Mv(t),i=Fh(t),o=Ta(mf(t),i),a=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Ji&&t[e].sender&&t[e].extras&&"null"!==t[e].extras)return t[e].id;return null}(o),r=n.siteId,s=n.toCompanyName,c=n.fromCompanyName,d=n.fromSiteId,l={toSiteId:r,toCompanyName:s,fromSiteId:d,fromCompanyName:c,withChatTranscript:n.withChatTranscript,departmentId:n.departmentId,agentId:n.agentId,campaignId:n.campaignId,chatbotId:n.chatbotId,chatbot:n.chatbot,messages:o.filter((function(t){return t.id!==a})),name:_b(d).name,email:_b(d).email,visitorSendTranscript:!!Ug(t),agents:kv(t)};return e=l,Object.assign({},e,{type:oo.requestChatFromAnotherSite,isSupportWebrtc:v})},Pv=Rh("sendFile"),Fv=Rh("heartbeat"),Wv=Rh("autoInvitation"),Nv=Rh("isFreemium"),Vv=function(t,e){if(e=e||vm(t),Jm(t,e)<1)return!1;var n=t.window,i=$h(t);return!(!n||i===vp)&&(n.chatStatus===mp||n.chatStatus===wp)},Dv=function(t){return t.configuration.features.ga},Rv=function(t,e){return E(t,"entities.campaigns.entities."+e+".style")},Ev=function(t,e){return E(t,"entities.campaigns.entities."+e+".cornerStyle")},zv=function(t){var e=ef(t);return Rv(t,e)},Lv=function(t){var e=ef(t);return Ev(t,e)},Hv=function(t){return t.configuration.customVariables},qv=function(t){return t.configuration.customVariableResult},Uv=function(t){return t.configuration.features.hideCreditCard},Gv=function(t){return t.configuration.features.showTypingContent},Kv=function(t){return t.entities.campaigns.entities[t.window.id].languages},Yv=function(t){var e=t.entities;if(!e)return!1;var n=e.campaigns.entities;if(!t.window||!n)return!1;var i=n[t.window.id];return!!i&&!!i.languages},Jv=function(t){return function(e,n){var i=function(t){var e=nf(t)||ef(t);if(!t.entities.campaigns.entities[e])return{};var n=t.entities.campaigns.entities[e].greetingMessages;return n||{}}(e),o=t[n];if(o)return i[o]}}((dv={},dv[bp]="preChatGreetingMessage",dv[vp]="postChatGreetingMessage",dv[_p]="offlineMessageGreetingMessage",dv)),Qv=function(t,e){var n=nf(t)||ef(t);if(e===bp)return t.entities.campaigns.entities[t.window.id].formStyles.preChatFormStyle===ih;if(e===vp){var i=t.entities.campaigns.entities[n];if(!i)return!1;if(i.formStyles)return i.formStyles.postChatFormStyle===ih}return t.entities.campaigns.entities[t.window.id].formStyles.offlineMessageFormStyle===ih},Zv=function(t){return function(e,n){var i=Kv(e),o=t[n];if(o)return i[o]}}((lv={},lv[bp]="buttonStartChat",lv[vp]="buttonSubmit",lv[_p]="buttonSubmit",lv)),Xv=function(t,e){if(!(e<=0))return Kv(t).embeddedWindowNewMessages.replace("{count}",e)},$v=function(t){return Kv(t).writeReply},t_=function(t){var e=ef(t),n=ch(t,e).mainColor;return nr(n)},e_=function(t){return E(t,"entities.campaigns.entities."+(t.window&&t.window.id)+".chat.showAvatar")},n_=function(t){var e=vm(t),n=t.entities.campaigns.entities[e].header,i=n.chatWindowShowAvatar,o=n.type;return!!i||!(!lf(t)||o!==ah)},i_=function(t,e){if(t.window){var n=function(t){return t.entities.campaigns.entities[t.window.id].sounds}(t);return n&&n[e]}},o_=function(t){var e=t.siteId,n=t.visitorGuid;return t.urls.chatServer.concat(["/visitor.ashx?",e?"siteId="+e:"",n?"&visitorGuid="+n:""].join(""))},a_=function(t){var e=_m(t),n=ym(t),i=km(t);if(Iv(t)){var o=Mv(t);return o_(o,uh(t))}return bh(t,["/visitor.ashx?",n?"siteId="+n:"",e?"&chatGroup="+e:"",i?"&visitorGuid="+i:""].join(""))},r_=function(t){return Tm(t)===_u&&Gh(t)===gp},s_=function(t){return function(t,e){var n=gw(t,e);if(n)return n.customJs}(t,bm(t))},c_=function(t){return ph(t)&&null==Tm(t)},d_=function(t){return function(t){return t.app.isOpenerExists}(t)&&ph(t)&&bw(t,vm(t))&&!c_(t)&&!Gg(t)},l_=function(t,e){return(t.entities.campaigns.entities[e||vm(t)]||{}).languages},u_=function(t,e){return(t.entities.campaigns.entities[e||vm(t)]||{}).languageCode||"en"},p_=function(t,e,n){if(n=n||vm(t),e===Bw)return function(t,e){return E(t,"entities.campaigns.entities."+e+".popupChatWindowTitle")}(t,n);if(e===jw)return function(t,e){return E(t,"entities.campaigns.entities."+e+".popupPreChatTitle")}(t,n);if(e===Tw)return function(t,e){return E(t,"entities.campaigns.entities."+e+".popupOfflineMessageTitle")}(t,n);var i=l_(t,n);return i&&i[e]},h_=function(t){var e=Mv(t),n=e?e.configuration:t.configuration;return n?n.fileServiceUrl:""},f_=function(t){var e=Mv(t);return e?e.configuration.fileServiceAddress:t.configuration.fileService||t.configuration.fileServiceAddress},g_=Rh("ifEnableCompression"),m_=function(t){return t.configuration.fileService},w_=function(t){var e=Mv(t);return e&&e.configuration?e.configuration.fileServiceStandbyAddress:t.configuration.fileServiceStandbyAddress},b_=function(t){return t.configuration.apiHost},v_=function(t){return function(e){return Kv(e)[t]}},__=v_("cobrowseAllowControl"),x_=v_("cobrowseStop"),y_=function(t){var e=Kv(t).cobrowseAgentWait,n=function(t){var e=function(t){return t.window.cobrowseAgent}(t);if(!e)return"";var n=uw(t,e);return n?n.name:""}(t);return e.replace(/{name}/g,n)},S_=v_("cobrowseNotes"),C_=function(t){var e=vm(t);return gw(t,"string"==typeof e?e.toLowerCase():e).type===Mu},k_=function(t){var e=C_(t),n=Wm(t)&&!Nm(t),i=Cm(t);if(i===tu)return!1;var o=!ph(t)&&e;return o&&n&&(o=i===$l),o},I_=(uv={},uv[op]="kbWin",uv[Zu]="loadingWin",uv[Xu]="loginWin",uv[ip]="offlineWin",uv[np]="postWin",uv[tp]="preWin",uv[$u]="loginWin",uv),M_=function(t){var e=$h(t),n=U[u_(t)];if(e!==ep)return n[I_[e]];var i=Gh(t),o=l_(t);if(i===fp)return o.embeddedWindowWaitingForChat;if(i===gp)return n.invited;if(i===wp)return o.embeddedWindowChatEnded;var a=function(t){var e=Ef(t);return e?e.name:e}(t);return o.embeddedWindowChattingWithOperator.replace(/{agent}/g,a)},O_=function(t){if(!function(t){return!!af(t).prechat}(t))return"";var e=Qf(t,Yo);if(e>0){var n=vw(t)[e];return n?n.name:""}return""},A_=function(t){var e=function(t){return t.window?t.window.messages.map((function(t){if(t.senderType===dp||t.type===Ne||t.type===Re||t.type===qe)return t.senderId||t.sender&&t.sender.id})).reduce((function(t,e){return e&&-1===t.indexOf(e)&&t.push(e),t}),[]).map((function(e){return uw(t,e)})).filter((function(t){return!!t})):[]}(t).map((function(t){return t.name}));return t.window.chatBot?e.concat(t.window.chatBot.name):e},B_=function(t){var e=qh(t),n=zg(t);return e||(n=Gm(t)),n},T_=function(t){var e=Mv(t);if(!e)return!1;var n=bf(t);if(0===n.length)return!1;var i=uw(t,n[0]);return!i||e.siteId!==i.siteId},j_=function(){return{type:Nc}},P_=function(){return{type:Wc}},F_=function(){return{type:zd}},W_=function(t){return{type:Vc,payload:t}},N_=function(){return{type:Rc}},V_=function(){return{type:Ec}},D_=function(t){return{type:zc,payload:t}},R_=function(){return{type:Lc,payload:Date.now()}},E_=function(t){return{type:Fl,payload:t}},z_=function(){return{type:Wl}},L_=function(t){return{type:Hc,payload:t}},H_=function(t,e){return{type:ls,payload:{campaignId:t,ifOnline:e}}},q_=function(t){return{type:hs,payload:t}},U_=function(t){return{type:fs,payload:t}},G_=function(t){return{type:us,payload:t}},K_=function(t){return{type:gs,payload:t}},Y_=function(){return{type:ms}},J_=function(t){return{type:Es,payload:t}},Q_=function(t){return{type:Hs,payload:t}},Z_=function(){return{type:zs}},X_=function(){return{type:Vd}},$_=function(){return{type:Rd}},tx=function(t,e){return{type:Ed,payload:{targetTab:t,newTab:e}}},ex=function(t,e){return void 0===e&&(e=!1),{type:_s,payload:{campaignId:t,isRestoreChat:e}}},nx=function(t,e,n){return{type:As,payload:{campaignId:t,crossSiteChatTransfer:e,chatInfo:n}}},ix=function(t){return{type:Ac,payload:t}},ox=K(ix,Zl),ax=function(){var t=K(ix,$l).apply(void 0,arguments);return setTimeout((function(){if(top.frames.chat_button_adaptive_container){var t=top.frames.chat_button_adaptive_container.contentWindow;if(t){var e=t.document.querySelector(".chatButton");e&&e.focus()}}else if(top.frames.chat_button_bar_container){var n=top.frames.chat_button_bar_container.contentWindow;if(n){var i=n.document.querySelector(".minimize-bar");i&&i.focus()}}}),500),t},rx=K(ix,tu),sx=K(ix,Xl),cx=function(t){return{type:Bc,payload:t}},dx=function(t){return{type:qs,payload:t}},lx=function(t,e){return{type:Us,payload:{size:t,buttonOffset:e}}},ux=function(t){return{type:Gs,payload:t}},px=K(ux,xu),hx=K(ux,yu),fx=function(t){return{type:rl,payload:t}},gx=function(t,e){return{type:sl,payload:{guid:t,intId:e}}},mx=function(t){return{type:Ks,payload:t}},wx=function(t){return{type:bs,payload:t}},bx=function(t){return{type:ws,payload:t}},vx=function(t){return{type:vs,payload:t}},_x=function(t){return{type:ss,payload:t}},xx=function(t){return{type:cs,payload:t}},yx=function(t){return{type:ds,payload:t}},Sx=function(t){return{type:Bs,payload:t}},Cx=function(t){return{type:Ts,payload:t}},kx=function(t,e){return{type:js,payload:{isHidden:!t,campaignId:e}}},Ix=function(t){return{type:Ps,payload:t}},Mx=function(t){return{type:Ws,payload:t}},Ox=function(t,e,n){return{type:Fs,payload:{type:t,fields:e,campaignId:n}}},Ax=function(t,e){return{type:t,payload:e}},Bx=function(t,e,n){return{type:Ys,payload:{name:t,percent:e,onCancel:n}}},Tx=function(t){return{type:Js,payload:t}},jx=function(t){return{type:Qs,payload:t}},Px=function(t){return{type:Ss,payload:t}},Fx=function(t,e,n){return{type:Zs,payload:{ssoUrl:t,showPrelogin:e,ifOpenSignInPageEmbeddedWindow:n}}},Wx=function(t,e){return{type:ac,payload:e}},Nx=function(t){return{type:rc,payload:t}},Vx=function(t){return{type:_l,payload:t}},Dx=function(t){return{type:Xs,payload:t}},Rx=function(t){return{type:sc,payload:t}},Ex=function(t,e,n){return void 0===n&&(n={}),{type:tc,payload:{message:t,guid:Y(),ifCardMasking:e,options:n}}},zx=function(t,e){return{type:ec,payload:t,meta:e}},Lx=function(){return{type:ic}},Hx=function(){return{type:oc}},qx=function(t){return{type:Fc,payload:t}},Ux=qx,Gx=qx,Kx=function(t){return{type:jc,payload:t}},Yx=function(t){return{type:Uc,payload:t}},Jx=Kx,Qx=K(Kx,""),Zx=function(t){return{type:Tc,payload:t}},Xx=function(){return{type:qc}},$x=Zx,ty=K(Zx,""),ey=function(){return{type:wd}},ny=function(t){return{type:bd,payload:t}},iy=function(t,e,n,i,o,a){return{type:vd,payload:{ifHelpful:t,actionGuid:e,intentId:n,question:i,botId:o,chatbotMessageId:a}}},oy=function(t,e,n,i){return{type:qd,payload:{formActionType:2,guid:t,intentId:e,agentId:n,botId:i,formName:""}}},ay=function(t,e,n,i,o,a,r){return{type:Ud,payload:{formActionType:0,guid:t,intentId:e,agentId:n,values:a,botId:i,question:o,message:r,formName:""}}},ry=function(t){return{type:Gd,payload:t}},sy=function(t,e){return{type:cc,payload:{chatGuid:t,serverTime:e}}},cy=function(t,e){return{type:Cs,payload:{type:t,params:e}}},dy=function(t){return{type:Hd,payload:t}},ly=function(){return{type:_d}},uy=function(){return{type:Os}},py=function(t){return{type:Gc,payload:t}},hy=function(t){return{type:Kc,payload:t}},fy=K(hy,!0),gy=K(hy,!1),my=function(){return{type:xs}},wy=function(){return{type:ys}},by=function(t){return{type:xd,payload:t}},vy=function(t){return{type:yd,payload:{message:t}}},_y=function(t,e,n){return{type:kd,payload:{localVideoContainer:t,remoteVideoContainer:e,unmuteRemoteContainer:n}}},xy=function(){return{type:Pd}},yy=function(t,e){return{type:Od,payload:{localVideoContainer:t,remoteVideoContainer:e}}},Sy=function(){return{type:Ad}},Cy=function(t){return{type:Fd,payload:t}},ky=function(t){return{type:Wd,payload:t}},Iy=function(t){return{type:Nd,payload:t}},My=function(t){return{type:dc,payload:t}},Oy=function(t){return{type:fc,payload:t}},Ay=function(t){return{type:gc,payload:t}},By=function(){return{type:uc}},Ty=function(t){return{type:pc,payload:t}},jy=function(){return{type:Ld}},Py=function(t){return{type:cl,payload:t}},Fy=function(){return{type:$s}},Wy=function(){return{type:dl}},Ny=function(t){return{type:ll,payload:t}},Vy=function(){return{type:ml}},Dy=function(t){return{type:wl,payload:t}},Ry=function(t){return{type:kl,payload:t}},Ey=function(){return{type:bl}},zy=function(t){return{type:Il,payload:t}},Ly=function(){return{type:Ml}},Hy=function(){return{type:Ol}},qy=function(t){return{type:Al,payload:t}},Uy=function(t,e,n,i,o,a){return{type:xl,payload:{url:t,type:e,title:n,iframe:i,noFocus:o,botId:a}}},Gy=function(){return{type:yl}},Ky=function(){return{type:Sl}},Yy=function(){return{type:Cl}},Jy=function(){return{type:Kd}},Qy=function(t,e){return{type:Is,payload:{right:t,bottom:e}}},Zy=function(t){return{type:hc,payload:t}},Xy=function(t,e){return Zy({text:t,ifDirectlySendOut:e})},$y=function(){return Zy(void 0)},tS=function(){return{type:Vs,payload:!0}},eS=function(){return{type:Ds,payload:!0}},nS=function(t,e){return{type:jl,payload:{guid:t,fieldsValue:e}}},iS=function(t){return{type:Ms,payload:t}},oS=function(t){return{type:mc,payload:t}},aS=function(t){return{type:wc,payload:t}},rS=function(t){return{type:bc,payload:t}},sS=function(){return{type:Pl}},cS=function(){return{type:vc}},dS=function(){return{type:md}},lS=function(){return{type:_c}},uS=function(t){return{type:Td,payload:{guid:t}}},pS=function(t){return{payload:t,type:jd}},hS=function(t){return{payload:t,type:xc}},fS=function(t,e){return{payload:{isTransferDone:t,chatGuid:e},type:yc}},gS=function(t){return{payload:t,type:Sc}},mS=function(t){return{payload:t,type:Cc}},wS=function(t){return{payload:t,type:kc}},bS=function(){return{type:Ic}},vS=function(t){return{type:Yc,payload:t}},_S=function(t){return{type:Vl,payload:t}},xS=function(t){return{type:Dl,payload:t}},yS=function(){return{type:Rl}},SS=function(t){return{type:Mc,payload:t}},CS=function(){return{type:Oc}},kS=function(t){return{type:Pc,payload:t}},IS=function(t){return{type:El,payload:t}},MS=function(t){return{type:Hl,payload:{remoteVideoContainer:t}}},OS=function(t,e){return{type:Ll,payload:{localVideoContainer:t,remoteVideoContainer:e}}},AS=function(){return{type:Rs,payload:!0}},BS=function(){return{type:Rs,payload:!1}},TS=function(){return{type:zl}},jS=function(t){return{type:ql,payload:t}},PS=function(t){return{type:Ul,payload:t}},FS=function(){return{type:ks}},WS=function(t){return{type:Kl,payload:t}},NS=function(t){var e=t.url,n=t.name;return{type:Gl,payload:{url:e,name:n}}},VS=function(t){return{type:Yl,payload:t}},DS=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{type:Jc,payload:1===e.length?e[0]:jo(e)}},RS=function(){return{type:Qc}},ES=function(){return{type:Zc}},zS=function(t){return{type:td,payload:t}},LS=function(t){return{type:ed,payload:t}},HS=function(){return{type:nd}},qS=function(t,e){return{type:ad,payload:{form:t,onSuccess:e}}},US=function(t,e){return{type:od,payload:{form:t,onSuccess:e}}},GS=function(t,e){return{type:id,payload:{form:t,onSuccess:e}}},KS=function(t){return{type:rd,payload:t}},YS=function(t){return{type:sd,payload:t}},JS=function(){return{type:cd}},QS=function(){return{type:dd}},ZS=function(){return{type:ld}},XS=function(){return{type:Xc}},$S=function(){return{type:$c}},tC=function(t){return{type:ud,payload:t}},eC=function(t){return{type:Sd,payload:t}},nC=function(){return{type:Id}},iC=function(){return{type:Md}},oC=function(t,e){return void 0===e&&(e=!1),{type:pd,payload:{campaignId:t,alreadyCampaignId:e}}},aC=function(){return{type:hd}},rC=function(t){return{type:fd,payload:t}},sC=function(t){return{type:pl,payload:t}},cC=function(t,e){return{type:hl,payload:{articleId:t,link:e}}},dC=function(t,e){return{type:Sd,payload:[{type:t,time:new Date,content:e,sender:{type:cp},guid:Y()}]}},lC=function(){return dC(mi,Y())},uC=function(t){return dC(wi,t)},pC=function(){return dC(bi)},hC=function(){return dC(vi)},fC=function(){return dC(_i)},gC=function(){return dC(xi)},mC=function(){return dC(yi)},wC=function(t){return{type:gd,payload:t}},bC=function(t){return{type:Bl,payload:t}},vC=function(){return{type:Tl}},_C=function(t){return{type:Ls,payload:t}},xC=Object.freeze({__proto__:null,acceptAudioVideoChat:yy,acceptCobrowse:lC,acceptScreenSharing:MS,addPendingMessage:Xy,addSystemMessage:Rx,addVisitorNavigation:K_,agentMsgSeenByVisitor:Ay,apiSendText:WS,articleOnClick:Dy,ban:j_,browserNotSupportCobrowse:fC,buttonClick:Q_,cancelForm:Gx,cancelRequestScreenSharing:BS,cancelVisitorSendText:VS,chatBotAnswerHelpful:iy,chatBotSelectQuestion:ny,chatBotSetBotVariable:ry,chatBotVisitorCancelBotForm:oy,chatBotVisitorSubmitBotForm:ay,chatInputWarning:cy,chatWindowOpen:ex,chatWindowPopIn:wy,chatWindowPopOut:my,chatWindowRestoreCrossSiteChat:nx,chatWindowUpdateChatBotInfo:Wx,chatWindowUpdateChatbotContext:Nx,chatWindowUpdateKBConfig:Vx,chatWindowUpdateSSOInfo:Fx,chatbotTimeout:Ny,cleanPendingMessages:Jy,cleanUpCobrowseRequest:Ky,closeBotSideWindow:Gy,closeKnowledgeBase:X_,closeMinimizedWindowBubble:By,closePushPage:$_,closeWebView:Ly,closeWindow:rx,closeWindowSliently:jy,contentScrollStatusUpdate:py,disableWindow:fy,emptyVisitorNavigation:Y_,enableWindow:gy,endChat:Xx,endCobrowse:gC,endCobrowseFromCrossDomain:Yy,fromChatbotToAgent:ey,fromKBToAgent:Vy,getArticleByIDError:function(t){return{type:vl,payload:t}},getArticlesError:Ey,getRestoreState:z_,getVisitorInfo:vC,hangupAudioVideoChat:nC,hangupScreenSharing:iC,hideAudioVideoChat:xy,hideError:ty,hideQuickReply:sS,hideRatingFormInWindow:CS,hideScreenSharing:TS,hideWarning:Qx,httpNotSupportCobrowse:mC,increaseRecoverTimes:V_,invitationRefuse:Z_,invitatonAccept:J_,notSupportCobrowse:hC,openBotSideWindow:Uy,openWebView:zy,popScreenSharing:PS,prepareP2pChat:_y,prepareScreenSharing:OS,previewImage:NS,pushPage:Ry,ready:P_,recoverSuccess:N_,refuseCobrowse:pC,removeAgentIsTyping:Fy,removePendingMessage:$y,replaceSideWindowTab:tx,requestAudio:tS,requestScreenSharing:AS,requestVideo:eS,resetChatWindow:uy,resetMaxId:function(){return{type:ul}},resetVisitor:function(t){return{type:ps,payload:t}},restoreState:E_,restrictedWordsError:FS,sendAgentMsgSeenByVisitor:wC,sendChatHeartbeat:ES,sendChatMessages:eC,sendEmailTranscript:LS,sendEndChat:HS,sendEnterOfflineMessage:function(){return{type:"web/enterOfflineMessage"}},sendGetArticleByID:cC,sendGetArticles:sC,sendGetChatButton:oC,sendGetChatWindowConfig:rC,sendGetConfig:aC,sendGetSSORecoverInfo:dS,sendOfflineHeartbeat:$S,sendPageHeartbeat:RS,sendPageVisit:QS,sendPrechatHeartbeat:XS,sendRequestChat:function(t,e,n){return{type:"web/requestChat",payload:{campaignId:t,chatSource:e,isPrechatDone:n}}},sendRequestChatFromAnotherSite:function(){return{type:"web/requestChatFromAnotherSite"}},sendShowInvitation:_C,sendSkipLogin:JS,sendSubmitOfflineMessage:GS,sendSubmitPostChat:US,sendSubmitPrechat:qS,sendSubmitRating:zS,sendSubmitSSOInfo:KS,sendSubmitSSOInfo4ChatBot:YS,sendUpdateCurrentUrl:ZS,sendUpdateCustomVariables:tC,sendWebAction:DS,setButtonIsOnline:H_,setFrequencyLimitState:dy,setIsActive:W_,setIsOpenerExists:F_,setIsRecording:function(t){return{type:Bd,payload:t}},setIsRecovering:D_,setIsSubmitSSO:bx,setLandscape:px,setLastSuccessTime:R_,setLocation:bC,setMaxMessageLength:xx,setPageCampaignId:fx,setPageCampaignIntId:gx,setPortrait:hx,setSSOArtifact:wx,setSSOJwt:vx,setShouldFocusBar:cx,setSkipPreChat:dx,setSoundOff:L_,setVisitorIsTyping:vy,setWebViewLoading:Hy,setWindowId:Py,setWindowMinimized:ax,setWindowOpened:ox,setWindowRestored:sx,setWindowTabs:Iy,showError:$x,showInvitation:q_,showInvitationProcessing:U_,showKnowledgeBaseInfo:function(){return{type:Dd}},showTab:Px,showWarning:Jx,sideWidowTabSelect:Cy,ssoLoginInPopUp:cS,ssoLoginInSelf:lS,startChatAgain:ly,startChatBot4Invite:Hx,startCobrowse:uC,startScreenSharingDirectly:jS,startWaiting:Lx,submitForm:Ux,switchServer:function(t){return{type:Dc,payload:t}},toggleButtonVisibility:kx,toggleFocused:Yx,togglePopupBubble:Ty,toggleSideWindow:ky,toggleToolbox:iS,unmuteRemote:Sy,updateAgent:Ix,updateAutoEjectTranscript:SS,updateBotFormMessage:nS,updateButton:Cx,updateCampaign:Sx,updateChatIdentity:sy,updateChatVersion:aS,updateChatbotSendFormMessage:function(t,e){return{type:Nl,payload:{guid:t,fieldsValue:e}}},updateConfig:_x,updateConfigTransferSite:mS,updateCrossSiteTransfer:gS,updateDepartment:Mx,updateEmailToSendTranscript:rS,updateFieldsEntities:Ox,updateIsMessageScrollBottom:xS,updateKBEntities:Ax,updateMaxAgentReadId:Oy,updateMaxReadId:My,updateMessageIfDisable:pS,updateMessageIsProcessed:uS,updateMessageStatusToRead:yS,updateMessages:Dx,updatePageVisitorStatus:mx,updatePostChatVisible:IS,updateQueue:by,updateRatingFieldsAfterCrossSiteTransfer:bS,updateRequestFromAnotherDone:fS,updateServerInstanceTag:yx,updateSize:lx,updateTransferCampaignId:hS,updateTransferVisitorGuid:wS,updateTransferredServerInstanceTag:vS,updateUploadProgress:Bx,updateVideoStatus:function(t,e){return{type:Cd,payload:{status:t,startTime:e}}},updateVisibleInputAreaWhenBotChatting:_S,updateVisitor:G_,updateVisitorStatus:oS,updateWebViewVisitorInfo:qy,updateWindowId:function(t){return{type:lc,payload:t}},updateWindowPosition:Qy,updateWindowWidth:kS,uploadFail:jx,uploadSuccess:Tx,visitorAcceptAgentRequestVisitorScreenSharing:function(){return{type:"window/visitorAcceptAgentRequestVisitorScreenSharing"}},visitorSendFile:zx,visitorSendImage:function(t,e){return{type:nc,payload:{name:t,encode:e,percent:0}}},visitorSendText:Ex,windowMounted:Wy}),yC=function(t,e,n){return{type:Yd,payload:{id:e,value:n},meta:{formType:t}}},SC=function(t,e,n){return{type:Jd,payload:{id:e,error:n},meta:{formType:t}}},CC=function(t,e){return{type:Qd,payload:{id:e},meta:{formType:t}}},kC=function(t,e){return{type:Zd,payload:{id:e},meta:{formType:t}}},IC=function(t){return{type:Xd,payload:t,meta:{formType:t}}},MC=function(t){return{type:$d,payload:t,meta:{formType:t}}},OC=function(t){return{type:tl,payload:t,meta:{formType:t}}},AC=function(t,e){return{type:il,payload:t,meta:e}},BC=function(t){return{type:ol,payload:t}},TC=function(t,e){return{type:nl,payload:{ids:e},meta:{formType:t}}},jC=function(t,e,n){return function(i,o,a){return function(r){return new Promise((function(s,c){var d=a.filter((function(t){return""!==t.error}));if(d.length>0){var l=d.map((function(t){return t.id}));return r(TC(e,l)),void c(l)}var u=Sr(a),p=jb().popout;p&&p.ticketId&&!Number.isNaN(+p.ticketId)&&(u.ticketId=+p.ticketId),p&&p.departmentId&&!Number.isNaN(+p.departmentId)&&(u.department=+p.departmentId),r(IC(e)),lk(i+".submit",u),r(t(or(u),(function(t){return new Promise((function(c){lk(i+".submit.success"),r(MC(e));var d=u;if(u.custom){var l=Object.keys(u.custom).reduce((function(t,i){var o=t;return o[a.find((function(t){return t.id===(n||e)+"-"+i})).label]=u.custom[i],o}),{});d=Object.assign({},u,{custom:l})}delete d.captcha,r(AC(d,e)),setTimeout((function(){r(e===_p?fy():function(t){return{type:al,meta:t}}(e)),c(t),s()}),o)}))}),(function(t){lk(i+".submit.fail",t),c(null,t)})))}))}}},PC=jC(qS,bp),FC=jC(US,vp,vp),WC=jC(GS,_p),NC=function(t,e,n){return t===bp?PC("livechat.prechat",e,n):t===vp?FC("livechat.postChat",e,n):WC("livechat.offlineMessage",e,n)},VC=3e4,DC=18e4,RC=function(t,e){return t===e||typeof t==typeof e&&(null==t||null==e?t==e:Object.keys(t).reduce((function(n,i){return n&&t[i]===e[i]}),!0)&&Object.keys(e).reduce((function(n,i){return n&&e[i]===t[i]}),!0))},EC=function(t,e){return Object.keys(t).reduce((function(n,i){if(t[i]===e[i])return n;var o=n;return o[i]=t[i],o}),{})};function zC(t,e,n){void 0===n&&(n=!0);var i=t.getState(),o=qv(i),a=Object.assign({},o,e);if(!RC(a,o)){n&&t.dispatch(_x({customVariableResult:a}));var r=EC(a,o);Object.keys(r).length>0&&t.dispatch(tC(r))}}var LC,HC,qC,UC=function(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n.forEach((function(e){t.dispatch(e.apply(void 0,i))}))}}},GC=function(t,e){T[t]=function(){return console.warn("$brandingNameAPI".replace("$brandingName",V.brandingName)+"."+t+" is deprecated. Please use new version of JavaScript API instead."),e.apply(void 0,arguments)}},KC=function(t){return function(){return ym(t.getState())}},YC=function(t){return function(){return Um(t.getState())}},JC=function(t){return function(){return"mobile"===t.getState().page.platform}},QC=function(t){return function(e){var n;return void 0===e&&(e=vm(t.getState())),!!(n=t.getState(),Vm(n).filter((function(t){return!t.isHidden}))).find((function(t){return t.id===e}))}},ZC=function(t){return function(e){return void 0===e&&(e=vm(t.getState())),xm(t.getState())[e]?"online":"offline"}},XC=function(t){return function(){return!!zm(t.getState())}},$C=function(t){return function(){return Xf(t.getState())}},tk=function(t,e){return function(n){var i=n;return void 0===i&&(i=Jr()[0]),xv(e.getState(),t,i).map((function(e){return Object.assign({},e,{id:e.id.slice(t.toString().length+1)})}))}},ek=function(t){return function(){return Lm(t.getState())}},nk=function(t){return function(){return tf(t.getState())}},ik=function(t){return function(){return km(t.getState())}},ok=function(t){return function(){return Th(t.getState())}},ak=function(t,e){return function(n,i){var o=i||Jr()[0];t.dispatch(Ox(e,n,o))}},rk=function(t,e){return function(){return e.dispatch(NC(t,0,xv(e.getState(),t,ef(e.getState()))))}},sk={},ck=function(){return sk},dk={},lk=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];dk[t]&&setTimeout((function(){dk[t].forEach((function(t){try{t.apply(void 0,n)}catch(t){}}))}),0)},uk=function(t,e){return dk[t]||(dk[t]=[]),dk[t].push(e),function(){dk[t]=dk[t].filter((function(t){return t!==e}))}},pk=function(t){return function(e){var n=t[e];if(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return n.apply(void 0,o)}}},hk="text",fk="htmlText",gk="image",mk="video",wk="button",bk="quickReply",vk="file",_k="complex",xk="loading",yk=((LC={})[qi]=function(t,e,n){var i=e.content.taskbot,o=i.isEnableChatInput;return i&&i.avatar&&-1!==i.avatar.indexOf("|")&&(i=Object.assign({},i,{avatar:Gr(i.avatar.split("|")[1],n)})),Object.assign({},t,{isTaskBot:!0,taskBot:Object.assign({},t.taskBot,i,{avatar:Gr(i.avatar,n)}),isVisibleInputAreaWhenTaskbot:o,enableChatInputWhenTaskbot:!0,chatStatus:mp,visitorStatus:nu,webView:null,quickReply:null})},LC),Sk="taskBot/startTaskBot",Ck="taskBot/locationCancelled",kk="taskBot/visitorSSOCancelled",Ik="taskBot/meetingCancelled",Mk="taskBot/meetingSubmitted",Ok="taskBot/updateMessageIfDisable",Ak="taskBot/updateMessageIsProcessed",Bk="taskBot/microsoftBooking",Tk="bot/botFeedback",jk=((HC={})[Sk]=function(t){return Object.assign({},t,{isTaskBot:!0,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,chatStatus:mp,visitorStatus:nu})},HC["taskBot/updateTaskBot"]=function(t,e){var n=e;return n&&n.avatar&&-1!==n.avatar.indexOf("|")&&(n=Object.assign({},n,{avatar:n.avatar.split("|")[1]})),Object.assign({},t,{taskBot:n})},HC[Ok]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},HC[Ak]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},HC),Pk=["avatar"],Fk=["avatar","apiHost"],Wk=[De,Re,xe,ye,"visitorSetEmail"],Nk=function(t){var e=t.length,n=e-1,i=t[n];if(i&&Wk.includes(i.type))for(var o=e-1;o>=0;o--)if(!Wk.includes(t[o].type)){n=o;break}return n},Vk=function(t,e){return t.concat(e)},Dk=function(t,e,n){for(var i=function(){var i=t[o];if(n(i))return{v:t.map((function(t){return t===i?Object.assign({},e,{displayedText:t.displayedText}):t}))}},o=0;o<t.length;o+=1){var a=i();if("object"==typeof a)return a.v}return Vk(t,e)},Rk=function(t){return t.type!==ri&&t.type!==ui&&t.type!==li&&t.type!==pi&&t.type!==di&&t.type!==hi&&t.type!==fi&&t.type!==gi&&t.type!==ci&&t.type!==Le&&t.type!==$n&&t.type!==ti&&t.type!==mi&&t.type!==wi&&t.type!==xi&&t.type!==vi&&t.type!==_i&&t.type!==bi&&t.type!==yi&&t.type!==ei&&t.type!==Di&&t.type!==Ri&&t.type!==Ei&&t.type!==zi},Ek=function(t){return t.type!==ui&&t.type!==li&&t.type!==pi&&t.type!==di},zk=function(t){return t.type!==Ri&&t.type!==Di&&t.type!==Ei&&t.type!==zi},Lk=[mi,wi,xi,vi,_i,bi,yi],Hk=function(t){return Lk.every((function(e){return t.type!==e}))},qk=function(t,e){return t.map((function(t){return(!e||t.sender.type!==up)&&e||t.type!==En&&t.type!==Qn&&t.type!==Un&&t.type!==Gn&&t.type!==zn&&t.type!==qn?t:Object.assign({},t,{ifDisable:!0,notShowLoading:!0})}))},Uk=function(t){return t.map((function(t){return t.sender.type===pp&&t.type===Ui?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},Gk=function(t){return t.map((function(t){return t.sender.type===up&&t.type===Yi?Object.assign({},t,{ifDisable:!0,isProcessed:!0}):t}))},Kk=function(t){return t.map((function(t){return t.type===En||t.type===qn?Object.assign({},t,{notShowLoading:!0}):t}))},Yk=function(t,e){return t.messages.filter((function(t){return t.type===e})).length>0},Jk=function(t){return function(e,n){var i=Kk(e.messages);return Object.assign({},e,{isUploading:!0,error:"",warning:"",messages:i.concat({type:t,time:new Date,content:{fileName:n.fileName,percent:0,onCancel:void 0},sender:{type:cp}}),quickReply:null})}},Qk=function(t,e){Wb()||Pb({mediaChatHash:Date.now().toString()});var n=t.involvedAgents||[];return n.filter((function(t){return t===e})).length>0?Object.assign({},t,{chatStatus:mp,visitorStatus:nu}):(n=(t.involvedAgents||[]).concat([e]),Object.assign({},t,{involvedAgents:n,chatStatus:mp,isChatBot:!1,webView:null,quickReply:null,visitorStatus:nu}))},Zk=function(t,e){var n=t.disPlayPriority+1;t.sideWindowItems.some((function(t){var i=t.id===e;return i&&(t.disPlayPriority=n),i}));var i=e===Fp||e===Wp;return{sideWindowSelectedTab:e,disPlayPriority:n,showChatWindowInSidewindow:i,isFocused:i}},Xk=function(t,e){var n=t.disPlayPriority;n?n+=1:n=0;var i=t.sideWindowItems,o=e.id,a=e.noFocus||!1,r=Ka()&&e.id===Tp&&a,s=e.id;return Ka()&&(s=t.tab===op?Wp:Fp,r&&(o=s)),i&&i.some((function(t){var i=t.id===e.id;return i&&(t.disPlayPriority=n),i}))?{sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n}:(e.disPlayPriority=n,i&&0!==i.length||(i=[],Ka()&&i.push({id:s,isSystem:!0,disPlayPriority:0})),i.push(e),{sideWindowItems:i,sideWindowSelectedTab:o,showChatWindowInSidewindow:r,isFocused:!1,disPlayPriority:n})},$k=function(t,e,n,i){return void 0===i&&(i=!1),e?Xk(t,{id:n,isSystem:!0,noFocus:i}):function(t,e){var n=t.sideWindowItems;if(n){var i=-1;n.some((function(t,n){var o=t.id===e;return o&&(i=n),o}));var o={};if(i>-1)return 1===n.length||2===n.length&&Ka()?(o.sideWindowSelectedTab=void 0,o.disPlayPriority=0,n=[]):t.sideWindowSelectedTab===e?(n.splice(i,1),o.sideWindowSelectedTab=n.reduce((function(t,e){return t.disPlayPriority>e.disPlayPriority?t:e})).id,o.sideWindowSelectedTab===Fp||o.sideWindowSelectedTab===Wp?(o.showChatWindowInSidewindow=!0,o.isFocused=!0,o.maxReadId=Math.max(t.maxReadId,t.maxId)):(o.showChatWindowInSidewindow=!1,o.isFocused=!1)):n.splice(i,1),o.sideWindowItems=n,o}return{}}(t,n)},tI=function(t,e){return Object.assign({},t,$k(t,e.status===wa||e.status===ga||e.status===ba,jp),$k(t,e.status===xa||e.status===va||e.status===_a,Pp),{vChatStatus:e.status,audioVideoChatStartTime:e.startTime||0,audio_video_disabled:e.status!==ma})},eI=function(t,e){return Object.assign({},t,$k(t,e.status===Sa||e.status===Ca||e.status===ka||e.status===Ia||e.status===Ma,Dp),{screenSharingStatus:e.status,screenSharing_disabled:e.status!==ya})},nI=function(t){return Object.assign({},tI(t,{status:ma,startTime:0}),{audioVideoAgentId:0,isRecording:!1})},iI=function(t){return Object.assign({},eI(t,{status:ya}),{screenSharingAgentId:0})},oI=function(t){return Object.assign({},(e=t,n={status:ya},Object.assign({},e,$k(e,n.status===Sa||n.status===Ca||n.status===ka||n.status===Ia||n.status===Ma,Dp),{screenSharingStatus:n.status})),{screenSharingAgentId:0});var e,n},aI=function(t){var e=sb();if(e.removeItem("pushpage_list"),e.removeItem("botConfidenceAnswerLoading_list"),!t)return t;var n=qk(t.messages.filter(Rk),!1);return n=Uk(n.filter((function(t){return t.type!==Gi}))),n=Gk(n),Object.assign({},t,$k(t,!1,Bp),$k(t,!1,Tp),{disPlayPriority:0,chatStatus:wp,error:"",warning:"",messages:n,webView:null,quickReply:null,visitorStatus:cu})},rI=function(t,e){return n=t.chatGuid,((i=Nb(n))?i===Wb():(Vb(n),1))?e():t;var n,i},sI=function(t){return function(e,n){if(e.cobrowsing===t)return e;var i=t===Ju,o=t===Qu?n.content.sessionCode:void 0,a=t===Qu?n.content.groupId:void 0,r=t!==Qu?void 0:e.cobrowseCallId,s=t===Ju?n.sender.id:0;return Object.assign({},e,$k(e,i,Np),{cobrowsing:t,cobrowseSessionCode:o,cobrowseGroupId:a,cobrowseAgent:s,cobrowseCallId:r})}},cI=function(t,e){return!!t.crossSiteChatTransfer&&(!!e.siteId&&t.crossSiteChatTransfer.siteId!==e.siteId)},dI=function(){return function(t,e){return t.webView?Object.assign({},t,{webView:null}):t}},lI=function(){return function(t,e){if(e.type===Jn){var n=dI()(t,e);if(e.content.options&&e.content.options.length>0)return Object.assign({},n,{quickReply:{items:e.content.options.map((function(t){return{type:Hh,name:t.label}})),botId:e.content.botId,agentId:e.content.agentId}})}if(e.type===Ln&&e.content.textChatWithAgent)return Object.assign({},t,{quickReply:{items:[{type:Lh,name:e.content.textChatWithAgent}],contactAgentText:e.content.textChatWithAgent}});if(e.type===Gn||e.type===Un||e.type===Qn){var i=dI()(t,e);return Object.assign({},i,{quickReply:null})}if(e.type===En||e.type===qn){var o=t;if(e.type===En&&(o=dI()(t,e)),e.content.intentAnswers&&e.content.intentAnswers.length>0){var a=null,r=e.content.intentAnswers.filter((function(t){return t.type===bk}));r.length>0&&(a=r[r.length-1]);var s=0;return e.content.intentAnswers.forEach((function(t,e){s+=t.delayTime})),a&&a.content&&a.content.quickReplyItems&&a.content.quickReplyItems.length>0?Object.assign({},o,{quickReply:{delayTime:s-a.delayTime,items:a.content.quickReplyItems,contactAgentText:e.content.ifAgentOnline?a.content.agentOnlineText:a.content.agentOfflineText,botId:e.content.botId,agentId:e.content.agentId}}):Object.assign({},o,{quickReply:null})}}return Object.assign({},t,{quickReply:null,webView:null})}},uI=function(t,e,n,i,o,a){var r,s=Object.assign({},yk,((r={})[Ki]=function(n){var i=Uk(n.messages.filter((function(t){return t.id<e.id&&t.type!==Gi})));return Object.assign({},t,{messages:i.concat(n.messages.filter((function(t){return t.id>=e.id}))),isTaskBot:!1,isVisibleInputAreaWhenTaskbot:!0,enableChatInputWhenTaskbot:!0})},r[Ne]=function(t){if(cI(t,e))return t;var n=e.content.agent.id||e.senderId;return Object.assign({},Qk(t,n),{involvedAgents:[n],isTaskBot:!1,webView:null})},r[Re]=function(t){return cI(t,e)?t:Qk(t,e.content.agent.id)},r[qe]=function(t){return cI(t,e)?t:t.involvedAgents?t.involvedAgents.indexOf(e.senderId)>=0?t:Object.assign({},t,{involvedAgents:t.involvedAgents.concat(e.senderId)}):t},r[De]=function(t){var n=t.involvedAgents||[];return n.length<=1?t:Object.assign({},t,{involvedAgents:n.filter((function(t){return t.toString()!==e.sender.id.toString()}))})},r[Ve]=function(t){return Object.assign({},t,$k(t,!1,Bp),{chatStatus:wp,visitorStatus:"refusedByOperator"})},r[Ce]=function(t){return Object.assign({},t,{quickReply:null,isVisibleInputAreaWhenBotChatting:!0})},r[ve]=function(t){if(!(a||n).postchat)return aI(t);var e=Uk(t.messages.filter((function(t){return t.type!==Gi}))).filter((function(t){return t.type!==Vn})).concat({type:Vn,sender:{type:dp}});return Object.assign({},t,{error:""},$k(t,!1,Bp),{chatStatus:wp,quickReply:null,webView:null,visitorStatus:cu,messages:e})},r[ke]=function(t){return Object.assign({},t,{chatStatus:fp,quickReply:null,webView:null,visitorStatus:eu})},r[Xn]=function(t){return Object.assign({},t,{chatStatus:fp,quickReply:null,webView:null,visitorStatus:eu})},r[Hn]=function(t,e){return function(t,e,n){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatBot:Object.assign({},t.chatBot,function(){var t=e.content.bot;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=Gr(t.avatar.split("|")[1],n),t;var i=t.avatar,o=F(t,Pk);return i=Gr(i,n),Object.assign({avatar:i},o)}()),chatStatus:mp,visitorStatus:nu})}(t,e,o)},r[en]=function(t){return rI(t,(function(){return tI(t,{status:wa})}))},r[on]=function(t,e){return rI(t,(function(){return tI(t,{status:ba,startTime:e.time-t.timeDelay})}))},r[Cn]=function(t){return rI(t,(function(){return tI(t,{status:xa})}))},r[In]=function(t,e){return rI(t,(function(){return tI(t,{status:_a,startTime:e.time-t.timeDelay})}))},r[Qe]=function(t,e){return t.vChatStatus!==ma?t:rI(t,(function(){return Object.assign({},tI(t,{status:ga}),{audioVideoAgentId:e.sender.id})}))},r[Xe]=function(t,e){return rI(t,(function(){return Object.assign({},tI(t,{status:ba,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[vn]=function(t,e){return t.vChatStatus!==ma?t:rI(t,(function(){return Object.assign({},tI(t,{status:va}),{audioVideoAgentId:e.sender.id})}))},r[xn]=function(t,e){return rI(t,(function(){return Object.assign({},tI(t,{status:_a,startTime:e.time-t.timeDelay}),{audioVideoAgentId:e.sender.id})}))},r[Ze]=nI,r[$e]=nI,r[tn]=nI,r[Sn]=nI,r[yn]=nI,r[_n]=nI,r[An]=nI,r[Bn]=nI,r[sn]=nI,r[cn]=nI,r[kn]=nI,r[Mn]=nI,r[On]=nI,r[nn]=nI,r[an]=nI,r[rn]=nI,r[Oi]=function(t){return rI(t,(function(){return eI(t,{status:Sa})}))},r[Bi]=function(t){return rI(t,(function(){return eI(t,{status:ka})}))},r[Si]=function(t,e){return t.screenSharingStatus!==ya?t:rI(t,(function(){return Object.assign({},eI(t,{status:Ca}),{screenSharingAgentId:e.sender.id})}))},r[ki]=function(t,e){return rI(t,(function(){return Object.assign({},eI(t,{status:Ia}),{screenSharingAgentId:e.sender.id})}))},r[Ni]=function(t,e){return rI(t,(function(){return Object.assign({},eI(t,{status:Ia}),{screenSharingAgentId:e.sender.id})}))},r[Pi]=function(t,e){return t.screenSharingStatus!==ya?t:rI(t,(function(){return Object.assign({},eI(t,{status:Ma}),{screenSharingAgentId:e.sender.id})}))},r[Ci]=iI,r[Ii]=iI,r[Mi]=iI,r[Vi]=iI,r[Li]=iI,r[Ai]=iI,r[Ti]=iI,r[Wi]=iI,r[ji]=iI,r[Fi]=iI,r[Le]=function(t){return t.limitClockerCount>0?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):t},r.systemAudioIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r.systemVideoIsBeingRecorded=function(t){return Object.assign({},t,{isRecording:!0})},r[dn]=sI(Ju),r[fn]=sI(Yu),r[gn]=sI(Yu),r[mn]=sI(Yu),r[bn]=sI(Yu),r[wn]=sI(Yu),r[hn]=sI(Yu),r[pn]=sI(Yu),r[ln]=sI(Qu),r[un]=function(){var n=e.content;return Object.assign({},t,{cobrowseCallId:n})},r[Yi]=lI(),r[En]=lI(),r[Jn]=lI(),r[Ln]=lI(),r[qn]=lI(),r[Yn]=function(t,e){return t.webView&&t.webView.content&&t.webView.content.GUID&&e.content.GUID===t.webView.content.GUID?Object.assign({},t,{webView:Object.assign({},t.webView,{success:!0})}):t},r[Qn]=lI(),r[Gn]=lI(),r[Un]=lI(),r[Kn]=lI(),r.cancelBotForm=lI(),r[We]=function(t){return Object.assign({},t,{visitorStatus:lu})},r)),c=s[e.type],d=t;return c&&(d=c(t,e,o)),d.isFocused&&(d=Object.assign({},d,{maxReadId:Math.max(t.maxReadId,t.maxId)})),d},pI=function(t){return Object.assign({fields:{name:"",email:"",phone:"",company:"",product:"",department:void 0,ticketId:void 0,custom:{}},forms:{prechat:"none",postchat:"none",offline:"none",rating:"none"},chatStatus:"none",messages:[],sourceMessages:[],maxId:-1,involvedAgents:[],draft:"",maxReadId:-1,isFocused:!1,isFrequencyLimited:!1,showPrelogin:!1,ssoUrl:"",queue:{},error:"",warning:"",fileUploadCount:0,disabled:!1,vChatStatus:ma,screenSharingStatus:ya,audioVideoChatStartTime:0,stopLimitClocker:!1,limitClockerCount:0,popupBubble:"none",cobrowsing:Yu,cobrowseAgent:0,bottom:0,right:0,pendingMessage:void 0,maxAgentReadId:"",maxVisitorReadId:"",showToolbox:!1,visitorStatus:du,chatVersion:"",isMessageScrollBottom:!0},t)},hI=t(1)((function(t,e){return t.find((function(t){return t.guid===e.guid}))}));function fI(t){return pI({id:t.id,tab:Zu,right:t.right,bottom:t.bottom})}var gI,mI,wI=function(t,e){var n=t;return 0===e.sourceMessages.length||t.find((function(t){return t.type===Ji}))&&t.forEach((function(t){if(t.type===Ji)if(t.sender.type===dp)n=n.filter((function(t){return t.type!==ve}));else{var i=function(t){for(var e=t.length-1;e>=0;e-=1)if(t[e].type===Ji&&t[e].extras&&"null"!==t[e].extras)return!0;return!1}(e.sourceMessages);i&&(n=n.filter((function(t){return t.type!==Ji})))}})),n},bI=Object.assign({},jk,((qC={})[hc]=function(t,e){return Object.assign({},t,{pendingMessage:e})},qC[As]=function(t,e,n){var i=e.campaignId,o=e.crossSiteChatTransfer,a=e.chatInfo,r=n.right,s=n.bottom;return pI({id:i,tab:ep,involvedAgents:[],chatStatus:mp,visitorStatus:nu,chatGuid:o.chatGuid,crossSiteChatTransfer:o,right:r,bottom:s,maxReadId:a.maxReadId,isFocused:a.windowStatus!==$l})},qC[_s]=function(t,e,n){var i=e.campaignId,o=n.right,a=n.bottom;return pI({id:i,tab:Zu,right:o,bottom:a})},qC[_d]=fI,qC[Os]=fI,qC[hs]=function(t,e,n){var i=n.campaignId,o=n.right,a=n.bottom,r=e.chat;return t?Object.assign({},t,{chatGuid:r&&r.guid}):e.type===fu||e.type===gu&&e.isManual?function(t,e,n,i){var o=e.isManual,a=o&&(e.type===gu||e.type===fu),r=e.chat,s=au;return o&&(s=a?lu:ou),pI({id:t,tab:ep,chatStatus:gp,chatGuid:r&&r.guid,right:n,bottom:i,messages:a?[]:[{id:-1,time:new Date,type:si,sender:{id:e.agent?e.agent.id:0,type:dp},content:e.text,guid:Y()}],sourceMessages:[],involvedAgents:e.agent?[e.agent.id]:[],visitorStatus:s})}(i,e,o,a):t},qC[Is]=function(t,e){return Object.assign({},t,{right:e.right,bottom:e.bottom})},qC[Us]=function(t,e){var n=e.buttonOffset;return t?Object.assign({},t,{right:n.right,bottom:n.bottom}):t},qC[Zs]=function(t,e){return Object.assign({},t,e)},qC[ac]=function(t,e){return Object.assign({},t,{chatBot:function(){var t=e;if(t&&t.avatar&&-1!==t.avatar.indexOf("|"))return t.avatar=Gr(t.avatar.split("|")[1],e.apiHost),t;var n=t.avatar,i=t.apiHost,o=F(t,Fk);return n=Gr(n,i),Object.assign({avatar:n},o)}()})},qC[rc]=function(t,e){return Object.assign({},t,{chatbotContext:e})},qC[_l]=function(t,e){return Object.assign({},t,{kbConfig:e})},qC[Xs]=function(t,e,n){var i=n.campaign,o=(n.fields,n.downloadUrl),a=n.apiHost,r=n.crossSiteTransferCampaign,s=e;t.isMessageScrollBottom||(s=e.map((function(t){return fr(t)||mr(t)||wr(t)||_r(t)||vr(t)?Object.assign({},t,{isSeenByVisitor:!1}):t})));var c=s.filter((function(e){return!hI(t.sourceMessages,e)})),d=t.isVisibleInputAreaWhenBotChatting,l=c[c.length-1];l&&([Rn].includes(l.type)||[pp,dp].includes(l.sender.type))&&(d=!0);var u=s.find((function(t){return t.type===Pe})),p=t.visitorTyping;u&&(p=!1);var h=s[s.length-1].guid,f=s.find((function(t){return t.type===ke}))&&t.messages.find((function(t){return t.type===ke})),g=s.find((function(t){return t.type===_e}))&&t.messages.find((function(t){return t.type===_e})),m=s.filter((function(e){var n=(void 0===e.id||hI(c,e))&&e.type!==Pe;return(!n||!f||e.type!==ke)&&((!n||!g||e.type!==_e)&&("botConfirmForm"!==e.type&&"visitorConfirmBotForm"!==e.type&&"agentAttachTicketFail"!==e.type&&((e.type!==ve||!s.find((function(t){return t.type===Ji&&t.extras})))&&(n&&e.type===Ji?function(t,e){if(e.sender.type===dp&&e.extras&&"null"!==e.extras)return!0;for(var n=!0,i=t.messages.length-1;i>=0;i-=1)if(t.messages[i].type===Ji&&t.messages[i].extras&&null!==t.messages[i].extras){n=!1;break}return n}(t,e):n))))})),w=function(t){var e=t.find((function(t){return t.type===qi})),n=t.find((function(t){return t.type===Ui}));if(e&&n){var i=t.reduce((function(t,e,n){return e.type.toLowerCase().startsWith("visitor")?t.concat(n):t}),[]);if(i.length>0){var o=i[i.length-1];return t.map((function(t,e){return e<o&&t.type===Ui?Object.assign({},t,{isProcessed:!0}):Object.assign({},t,{isProcessed:!1})}))}}return t}(m),b=w.reduce(function(t,e,n){return function(i,o){var a=o.type;if(a===Tn||"systemGotoOfflineMessage"===a)return i;var r=i;a!==Dn&&(r=r.filter((function(t){return t.type!==Dn}))),o.sender.type!==up&&o.sender.type!==dp||(r=Kk(i));var s=Object.assign({},o,{time:new Date(o.time-e),originalTime:o.time});if(a===ke){var c=qk(r,!0);return Vk(c,s)}if(s.sender.type===up&&a===Rn){var d=r.filter((function(t){return t.type!==Dn}));return d.forEach((function(t,e){t.type===Yi&&(d[e]=Object.assign({},t,{content:Object.assign({},t.content,{isIntentEnd:!0})}))})),d}if(s.sender.type===up&&s.type!==Dn&&s.type!==qn){var l=!1,u=r.map((function(t){return t.type!==Dn||t.timeout||t.content!==s.content.messageGuid?t.type===Dn&&t.content.messageGuid===s.content.messageGuid?(l=!0,t):t:(l=!0,s)}));return l?u:Vk(r,s)}if(s.type===Ne){var p=[].concat(r);return p=p.map((function(t){return t.sender&&t.sender.type===dp&&0===t.sender.id?Object.assign({},t,{sender:Object.assign({},t.sender,{id:s.content.agent.id})}):t})),p=qk(p,!0),p=Uk(p),p=Gk(p),Vk(p,s)}if(s.type===Ge){var h=function(t){return t.type===Ke&&t.content===s.content.guid},f=r.find((function(t){return h(t)}));return f&&(f=Object.assign({},s,{guid:f.guid})),Dk(r,f,h)}if(s.type===Ce){var g=r.map((function(t){return t.type===Gn?Object.assign({},t,{ifDisable:!0}):t}));return Dk(g,s,(function(t){return t.type===$n&&t.guid===s.guid}))}if(s.type===Me)return Dk(r,s,(function(t){return t.type===ti}));if(s.type===Ie)return Dk(r,s,(function(t){return t.type===ei}));if(s.type===Te)return Dk(r,s,(function(t){return t.type===ri}));if(s.type===Pe)return r;if(s.type===ve)return[].concat(r).map((function(t){return t.type!==Ye||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).concat([s,{id:s.id,type:ii,content:t.startChatAgain,sender:{type:lp},guid:Y()},t.downloadTranscript&&{id:s.id,type:oi,content:{text:t.downloadTranscript,url:n},sender:{type:lp},guid:Y()},{id:s.id,type:ai,content:t.buttonTranscript,sender:{type:lp},guid:Y()}].filter((function(t){return t})));if(s.type===Cn)return Dk(r,s,(function(t){return t.type===li}));if(s.type===Oi)return Dk(r,s,(function(t){return t.type===Di}));if(s.type===Hn)return Dk(r,s,(function(t){return t.type===li}));if(s.type===en)return Dk(r,s,(function(t){return t.type===di}));if(s.type===on||s.type===In)return Dk(r,s,(function(t){return t.type===ui}));if(s.type===Bi)return Dk(r,s,(function(t){return t.type===Ri}));if(s.type===Ni)return Dk(r,s,(function(t){return t.type===zi}));if(s.type===Ae)return Dk(r,s,(function(t){return t.type===hi}));if(s.type===Be)return Dk(r,s,(function(t){return t.type===fi}));if(s.type===je)return Dk(r,s,(function(t){return t.type===gi}));if(s.type===Mn||s.type===On||s.type===kn||s.type===an||s.type===rn||s.type===nn)return Vk(r.filter(Ek),s);if(s.type===Ti||s.type===Wi||s.type===ji||s.type===Ai)return Vk(r.filter(zk),s);if(s.type===ln||s.type===wn||s.type===fn||s.type===hn||s.type===gn||s.type===pn||s.type===dn||s.type===un)return Vk(r.filter(Hk),s);if(s.type===Le){var m=r.filter((function(t){return t.type!==Le}));return Vk(m,s)}if(s.type===Fe&&r.length>0){if(r[0].type===si&&!r.find((function(t){return t.type===Hn})))return r.map((function(t,e){return 0===e?Object.assign({},t,{type:Fe,id:s.id},s):t}));var w=r.filter((function(t){return t.type!==Le}));return Vk(w,s)}if(s.type===Zn){var b=r.map((function(t){return t.type===Yi&&t.content.GUID===s.content.guid?Object.assign({},t,{disableRate:!0,visitorRate:s.content.visitorRate}):t}));return Vk(b,s)}if(s.type===Yn){var v=r.map((function(t){var e=t.content.GUID||t.content.messageGuid;return t.type!==Gn&&t.type!==Yi||e!==s.content.GUID?t:Object.assign({},t,{ifDisable:!0})}));return Vk(v,s)}if(s.type===Fn)return[].concat(r).filter((function(t){return t.type!==Vn})).concat(s).concat({type:Vn,sender:{type:dp}});if(s.type===Ji)return[].concat(r).map((function(t){return t.type===jn?Object.assign({},t,{content:Object.assign({},t.content,{isDisable:!0})}):t.type!==Ye||t.isHidden?t:Object.assign({},t,{isHidden:!0})})).filter((function(t){return t.type!==Dn&&t.type!==Vn})).concat(s);if(s.type===Qi)return[].concat(r).map((function(e){return e.guid===s.recallTargetMessageGuid?Object.assign({},e,{content:(t&&t.eventAgentRecallsMessage||"Agent {agent} has recalled a message.").replace("{agent}",s.senderName),type:Qi,sender:{id:eo,type:lp}}):e}));if(s.type===Zi){var _=[].concat(r);return s.recalledMessage&&s.recalledMessage.type===Ge?Dk(_,s,(function(t){return t.type===Ke&&t.content===s.recalledMessage.content.guid})):Vk(r,s)}return Vk(r,s)}}(r.languages,t.timeDelay||0,o),t.messages);if((b=function(t){return t.map((function(e,n){return Object.assign({},e,{isProcessed:n<Nk(t)})}))}(b))!==t.messages){var v=!1;b.forEach((function(t,e){t.type===Ui&&(v=!!t.content.messages.some((function(t){return t.type===Rp||t.type===Ep||t.type===zp||t.type===Lp||t.type===Hp||t.type===Up||t.type===qp||t.type===Jp||t.type===Xp||t.type===$p||t.type===nh})))}));var _=b.filter((function(t){return t.type===ti||t.type===ei}));if(_.length>0){var x=b.filter((function(t){return t.type!==ti&&t.type!==ei})).concat(_);b=x}var y=m.reduce((function(t,e){return uI(t,e,i,0,a,r)}),Object.assign({},t,{messages:b,sourceMessages:t.sourceMessages.concat(wI(c,t)),visitorTyping:p,maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}));return y=function(t){var e=t.messages.map((function(e){return e.type!==En||t.chatStatus===mp&&t.isChatBot?e:Object.assign({},e,{disableRate:!0})}));return Object.assign({},t,{messages:e})}(y),y=function(t){var e=t.messages.reverse(),n=e.findIndex((function(t){return"visitorSubmitRatingForm"===t.type})),i=e.findIndex((function(t){return t.type===Vn}));return-1!==n&&n<i&&(e=e.filter((function(t){return t.type!==Vn}))),Object.assign({},t,{messages:e.reverse()})}(y),Object.assign({},y,{enableChatInputWhenTaskbot:!v,isVisibleInputAreaWhenBotChatting:d})}return p!==t.visitorTyping?Object.assign({},t,{visitorTyping:p,sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h}):Object.assign({},t,{sourceMessages:t.sourceMessages.concat(c),maxId:Math.max(t.maxId,s[s.length-1].id),chatVersion:h})},qC[tc]=function(t,e){var n=function(t){return function(e,n){var i=n.options,o=void 0===i?{}:i,a=e.messages.concat({type:t,time:new Date,guid:n.guid,content:n.message||"",sender:{type:cp},textType:o.textType,isPassword:o.textType===Oe,isCollect:o.isCollect,displayedText:o.displayedText,quickReplyNextActionId:o.quickReplyNextActionId});return n.ifCardMasking&&(a=a.concat({type:ri,time:new Date,guid:n.guid,content:"",sender:{type:cp}})),Object.assign({},e,{messages:a})}}($n)(t,e),i=Kk(n.messages);return i=function(t){var e=t.length,n=t[e-2];if(n&&(n.type===Ui&&n.content.messages.some((function(t){return t.type===Qp}))||n.type===Yi)){var i=[].concat(t);return i.splice(e-2,1,Object.assign({},n,{isProcessed:!0})),i}return t}(i),Object.assign({},n,{messages:i,error:"",visitorTyping:!1,draft:"",quickReply:null})},qC[Yl]=function(t,e){var n=function(t,e){return t.filter((function(t){return e.findIndex((function(e){return e.guid===t.guid}))<0}))}(t.messages,e);return Object.assign({},t,{messages:n})},qC[nc]=Jk(ti),qC[ec]=Jk(ei),qC[yd]=function(t,e){var n=Object.assign({},t);return t.chatStatus!==mp||(n.visitorTyping=!0,n.draft=e.message),n},qC[Ys]=function(t,e){var n=!1,i=t.messages.map((function(t){return t.type===ei||t.type===ti?(n=!0,Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,percent:e.percent,onCancel:e.onCancel})})):t}));return n?Object.assign({},t,{messages:i}):t},qC[Qs]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.filter((function(t){return t.type!==ei&&t.type!==ti})),i="";return"string"==typeof e?i=e:"object"==typeof e&&null!==e&&(i=e.message||""),t.chatStatus===wp&&(i=""),Object.assign({},t,{messages:n,error:i,isUploading:!1})},qC[Js]=function(t,e){if(!t||!t.messages)return t;var n=t.messages.map((function(t){return t.type===ei||t.type===ti?Object.assign({},t,{content:Object.assign({},t.content,{fileName:e.name,fileKey:e.key,isUseStandbyFileService:e.isUseStandbyFileService,percent:e.percent,onCancel:e.onCancel})}):t}));return Object.assign({},t,{error:"",isUploading:!1,fileUploadCount:t.fileUploadCount+1,messages:n})},qC[Xd]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]=rp,n)),error:"",warning:""})},qC[$d]=function(t,e,n){var i;return Object.assign({},t,{forms:Object.assign({},t.forms,(i={},i[e]=sp,i))})},qC[sc]=function(t,e){return Object.assign({},t,{messages:t.messages.concat([{type:ni,sender:{type:lp},content:e,guid:Y()}])})},qC[tl]=function(t,e){var n;return Object.assign({},t,{forms:Object.assign({},t.forms,(n={},n[e]="fail",n))})},qC[il]=function(t,e){var n;if(e.custom){var i=Object.assign({},t.fields.custom,e.custom);n=Object.assign({},t.fields,e,{custom:i})}else n=Object.assign({},t.fields,e);return Object.assign({},t,{fields:n})},qC[ol]=function(t,e){var n=t.fields.custom;e.custom&&(n=Object.assign({},t.fields.custom,e.custom),Object.keys(t.fields.custom).forEach((function(e){t.fields.custom[e]&&(n[e]=t.fields.custom[e])})));var i=Object.assign({},t.fields,e,{custom:n});return Object.keys(t.fields).forEach((function(e){"custom"!==e&&t.fields[e]&&(i[e]=t.fields[e])})),Object.assign({},t,{fields:i})},qC[Ss]=function(t,e,n){var i=t.visitorStatus;e===ip&&(i=ru);var o=Object.assign({},t,{tab:e,visitorStatus:i});if(e===ip&&n){var a=o.messages.filter((function(t){return t.type===Ce})).map((function(t){return t.content})).join(",");o=Object.assign({},o,{fields:Object.assign({},o.fields,{content:a})})}return o},qC[ic]=function(t){return Object.assign({},t,{chatStatus:fp,allowWaitingSendMessage:t.isChatBot||t.chatStatus===gp})},qC[Fc]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){return t.type!==Ye?t:t.content.url.indexOf("otk="+e)>0?Object.assign({},t,{isHidden:!0}):t}))})},qC[oc]=function(t){return function(t){return Object.assign({},t,{isChatBot:!0,isTaskBot:!1,chatStatus:mp,messages:t.messages.filter((function(t){return"system"===t.sender.type})),maxId:-1,visitorStatus:nu})}(t)},qC[Tc]=function(t,e){return t&&t.error!==e?Object.assign({},t,{error:e}):t},qC[jc]=function(t,e){return t&&t.warning!==e?Object.assign({},t,{warning:e,stopLimitClocker:""===e||t.stopLimitClocker,limitClockerCount:""===e?0:t.limitClockerCount}):t},qC[qc]=aI,qC[cc]=function(t,e){var n=0;return e.serverTime>0&&(n=J(e.serverTime)),Object.assign({},t,{chatGuid:e.chatGuid,requestTime:e.serverTime,timeDelay:n})},qC[Uc]=function(t,e){return null==t||t.isFocused===e?t:Object.assign({},t,{isFocused:e,maxReadId:e?Math.max(t.maxId,t.maxReadId):t.maxReadId})},qC[Ac]=function(t,e){return e===tu?null:e===$l?Object.assign({},t,{isFocused:!1,maxReadId:Math.max(t.maxId,t.maxReadId)}):(e===Xl&&Q&&lk("livechat.chatwindow.restore"),e===Zl||e===Xl?Object.assign({},t,{isFocused:!0,maxReadId:Math.max(t.maxId,t.maxReadId)}):t)},qC[Gc]=function(t,e){return Object.assign({},t,{ifHideBio:e})},qC[vd]=function(t,e){if(t.chatStatus===mp&&t.isChatBot){var n=t.messages.map((function(t){return t.type===En&&t.content.GUID===e.actionGuid?Object.assign({},t,{disableRate:!0}):t}));return Object.assign({},t,{messages:n})}return t},qC[ks]=function(t,e,n){var i=n.languages;return Object.assign({},t,{error:i.promptRemoveRestrictedWords})},qC[Cs]=function(t,e,n){var i,o=n.maxLength,a=n.languages,r=((i={})[Ip]=function(){return a.promptInputLimit.replace(to,o)},i[kp]=function(){return"File must not be empty."},i[Cp]=function(){return a.promptFileSizeExceed.replace("{fileSize}",e.params.fileSize)},i[Mp]=function(){return"You're sending messages too frequently. Please wait for "+e.params.seconds+" second(s) and try again."},i[Op]=function(){return a.promptSendFileCountLimit.replace("{fileCount}",e.params.fileCount)},i[Ap]=function(){return"This file type is not supported."},i);return e.type===Mp&&e.params.fromClocker&&t.stopLimitClocker?t:e.type===Mp&&t.limitClockerCount>=10?Object.assign({},t,{warning:"",limitClockerCount:0,stopLimitClocker:!0}):r[e.type]?Object.assign({},t,{warning:r[e.type](),stopLimitClocker:e.type!==Mp&&t.stopLimitClocker,limitClockerCount:e.type===Mp?t.limitClockerCount+1:t.limitClockerCount}):t},qC[wd]=function(t){var e=t.messages;return e[0].type===si&&(e=e.map((function(t,e){return 0===e?Object.assign({},t,{type:Fe}):t}))),Object.assign({},t,{isVisibleInputAreaWhenBotChatting:!0,chatWithAgentClicked:!0,messages:e,webView:null,quickReply:null})},qC[Kc]=function(t,e){return e===t.disabled?t:Object.assign({},t,{disabled:e})},qC[xs]=function(){return null},qC[xd]=function(t,e){return 0===e.position&&0===e.waitTime?t:Object.assign({},t,{queue:{position:e.position,waitTime:Math.ceil(e.waitTime/60)}})},qC[Cd]=tI,qC[Ds]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},qC[Vs]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,audio_video_disabled:!0,isFocused:t.showChatWindowInSidewindow&&!e})},qC[Rs]=function(t,e){return Object.assign({},t,{showChatWindowInSidewindow:t.showChatWindowInSidewindow&&!e,maxReadId:t.showChatWindowInSidewindow&&!e?Math.max(t.maxReadId,t.maxId):t.maxReadId,screenSharing_disabled:e,isFocused:t.showChatWindowInSidewindow&&!e})},qC[Ns]=function(t,e){var n=Object.assign({},t.fields,{rating:e.score,comment:e.comment});return Object.assign({},t,{fields:n})},qC[Sd]=function(t,e){var n=[];return e.forEach((function(e){(e.type!==ui||Yk(t,ui))&&(e.type!==Ri||Yk(t,Ri))&&(e.type!==zi||Yk(t,zi))&&(e.type!==pi||Yk(t,pi))&&(e.type!==Ei||Yk(t,Ei))&&(e.type!==gi||Yk(t,gi))&&(e.type!==wi||Yk(t,xi)||t.cobrowsing===Yu)?e.type!==pi&&e.type!==Ei&&e.type!==ui&&e.type!==Ri&&e.type!==zi&&e.type!==gi&&n.push(e):n.push(e)})),Object.assign({},t,{messages:t.messages.concat(n)})},qC[Fd]=function(t,e){var n={};return n.showChatWindowInSidewindow=e===Fp,n.isFocused=n.showChatWindowInSidewindow,n.maxReadId=n.showChatWindowInSidewindow?Math.max(t.maxReadId,t.maxId):t.maxReadId,Object.assign({},t,n,Zk(t,e))},qC[Wd]=function(t,e){return e?t.sideWindowSelectedTab?t:t.sideWindowItems&&0!==t.sideWindowItems.length?Object.assign({},t,Zk(t,t.sideWindowItems[0].id)):t:t.sideWindowSelectedTab?Object.assign({},t,{sideWindowSelectedTab:void 0}):t},qC[Id]=function(t){return nI(t)},qC[Md]=function(t){return oI(t)},qC[Vd]=function(t){return Object.assign({},t,$k(t,!1,Bp))},qC[Dd]=function(t){return Object.assign({},t,$k(t,!0,Bp))},qC[Rd]=function(t){return Object.assign({},t,$k(t,!1,Vp))},qC[Ed]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.sideWindowItems;i&&i.some((function(t){var i=t.id===e;return i&&(t.id=n),i}));var o=t.sideWindowSelectedTab;return{sideWindowItems:i,sideWindowSelectedTab:o===e?n:o}}(t,e.targetTab,e.newTab))},qC[dc]=function(t,e){return Object.assign({},t,{maxReadId:e})},qC[lc]=function(t,e){return Object.assign({},t,{id:e})},qC[uc]=function(t,e,n){return n?null:t},qC[pc]=function(t,e){return t?t.popupBubble===e?t:Object.assign({},t,{popupBubble:e,autoEjectTranscript:!1}):t},qC[Nd]=function(t,e){var n=t;e&&e.length>0&&[].concat(e).forEach((function(t){n=Xk(n,t)}));return Object.assign({},t,n)},qC[Hd]=function(t,e){return t?t.frequencyLimitState===e?t:Object.assign({},t,{frequencyLimitState:e}):t},qC[ed]=function(t,e){return Object.assign({},t,function(t,e,n){var i=t.fields||{};return i[e]=n,{fields:i}}(t,qo,e))},qC[cl]=function(t,e){return null==t||t.id===e?t:Object.assign({},t,{id:e})},qC[$s]=function(t){return t?Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==Le}))}):t},qC[ll]=function(t){return t},qC[ul]=function(t){var e=t.messages.length,n=t.messages.map((function(t,n){return Object.assign({},t,{id:n-e})}));return Object.assign({},t,{maxId:-1,maxReadId:-1,messages:n})},qC[ml]=function(t){return Object.assign({},t,{kbChatWithAgentClicked:!0})},qC[pl]=function(t){return Object.assign({},t,{kb:Object.assign({},t.kb,{isLoading:!0})})},qC[fl]=function(t,e){var n=e.map((function(t){return t.id}));return Object.assign({},t,{kb:Object.assign({},t.kb,{articles:n,isLoading:!1}),error:""})},qC[gl]=function(t,e){return Object.assign({},t,$k(t,!0,Bp),{kb:Object.assign({},t.kd,{activeArticle:e}),error:""})},qC[wl]=function(t,e){return Object.assign({},t,$k(t,!0,Bp),{kb:Object.assign({},t.kb,{activeArticle:e})})},qC[kl]=function(t,e){return Object.assign({},t,$k(t,!0,Vp),{pushPage:Object.assign({},t.pushPage,{url:e})})},qC[bl]=function(t){return Object.assign({},t,{error:"Network error",kb:{isLoading:!1}})},qC[vl]=function(t,e){return Object.assign({},t,{error:404===e?"Page not found":"Network error"})},qC[Il]=function(t,e){return Object.assign({},t,{webView:e})},qC[Ml]=function(t){return Object.assign({},t,{webView:null})},qC[Ol]=function(t){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!0})})},qC[Al]=function(t,e){return Object.assign({},t,{webView:Object.assign({},t.webView,{ifLoading:!1,visitorInfo:e})})},qC[xl]=function(t,e){return Object.assign({},t,$k(t,!0,Tp,e.noFocus),{botSideWindow:e})},qC[yl]=function(t){return Object.assign({},t,$k(t,!1,Tp),{botSideWindow:null})},qC[Sl]=function(t){for(var e=t.messages,n=e.length-1;n>=0&&e[n].type!==dn;n-=1);return Object.assign({},sI(Yu)(t),{messages:e.slice(0,n).concat(e.slice(n+1,e.length))})},qC[Kd]=function(t){return Object.assign({},t,{messages:t&&t.messages?t.messages.filter(Ek).filter(zk).filter(Hk):[]})},qC[fc]=function(t,e){return e!==t.maxAgentReadId?Object.assign({},t,{maxAgentReadId:e}):t},qC[gc]=function(t,e){return Object.assign({},t,{maxVisitorReadId:e})},qC[jl]=function(t,e){return Object.assign({},t,{messages:t.messages.map((function(t){if(t.type===Gn&&t.content.GUID===e.guid){var n=t.content.fields.map((function(t){var n=e.fieldsValue[t.id];return n?t.type===aa&&n.value.indexOf($i)>-1?Object.assign({},t,{value:n.value.split($i)}):Object.assign({},t,{value:n.value}):t}));return Object.assign({},t,{content:Object.assign({},t.content,{fields:n})})}return t}))})},qC[Nl]=function(t,e){return Object.assign({},t)},qC[Ms]=function(t,e){return t.showToolbox===e?t:Object.assign({},t,{showToolbox:e})},qC[mc]=function(t,e){return t.visitorStatus===e?t:Object.assign({},t,{visitorStatus:e})},qC[wc]=function(t,e){return t?t.chatVersion===e?t:Object.assign({},t,{chatVersion:e}):t},qC[bc]=function(t,e){return t.emailToSendTranscript===e?t:Object.assign({},t,{emailToSendTranscript:e})},qC[Pl]=function(t){return Object.assign({},t,{quickReply:null})},qC[Bd]=function(t,e){return t.isRecording===e?t:Object.assign({},t,{isRecording:e})},qC[Td]=function(t,e){var n=e.guid,i=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{isProcessed:!0}):t}));return Object.assign({},t,{messages:i})},qC[jd]=function(t,e){var n=e.guid,i=e.ifDisable,o=t.messages.map((function(t){return t.guid===n?Object.assign({},t,{ifDisable:i}):t}));return Object.assign({},t,{messages:o})},qC[xc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{campaignId:e});return Object.assign({},t,{crossSiteChatTransfer:n})},qC[kc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{visitorGuid:e});return Object.assign({},t,{crossSiteChatTransfer:n})},qC[yc]=function(t,e,n){var i=e.isTransferDone,o=e.chatGuid,a=Object.assign({},t.crossSiteChatTransfer,{isTransferDone:i,chatGuid:o});return Object.assign({},t,{crossSiteChatTransfer:a,sourceMessages:i?t.sourceMessages:t.sourceMessages.map((function(t){return Object.assign({},t,{siteId:n})}))})},qC[Sc]=function(t,e){return Object.assign({},t,{crossSiteChatTransfer:e})},qC[Cc]=function(t,e){var n=Object.assign({},t.crossSiteChatTransfer,{configuration:e});return Object.assign({},t,{crossSiteChatTransfer:n})},qC[Ic]=function(t,e){return Object.assign({},t,{fields:Object.assign({},t.fields,{rating:void 0,comment:void 0})})},qC[Yc]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},qC[Yc]=function(t,e){var n=t.crossSiteChatTransfer;return Object.assign({},t,{crossSiteChatTransfer:Object.assign({},n,{configuration:Object.assign({},n.configuration,{serverInstanceTag:e})})})},qC[Vl]=function(t,e){return Object.assign({},t,{isVisibleInputAreaWhenBotChatting:e})},qC[Gd]=function(t,e){var n=t.chatbotContext,i=n.variables||{},o=e.variableName,a=e.variableValue;return o&&a&&(i[o]=a),Object.assign({},t,{chatbotContext:Object.assign({},n,{variables:Object.assign({},i)})})},qC[Dl]=function(t,e){return null===t?t:Object.assign({},t,{isMessageScrollBottom:e})},qC[Rl]=function(t){return Object.assign({},t,{messages:t.messages.map((function(t){return!1===t.isSeenByVisitor?Object.assign({},t,{isSeenByVisitor:!0}):t}))})},qC[Mc]=function(t,e){return Object.assign({},t,{autoEjectTranscript:e})},qC[Oc]=function(t){return Object.assign({},t,{messages:t.messages.filter((function(t){return t.type!==Vn})),forms:Object.assign({},t.forms,{rating:ap})})},qC[Pc]=function(t,e){return Object.assign({},t,{width:e})},qC[El]=function(t,e){return null===t?t:Object.assign({},t,{isPostChatVisible:e})},qC[Ul]=function(t,e){return null===t?t:Object.assign({},t,$k(t,!e,Dp))},qC[Gl]=function(t,e){return null===t?t:Object.assign({},t,{previewImage:e})},qC)),vI=D(null,bI),_I=D({},((gI={})[ss]=function(t,e){return Object.assign({},t,e)},gI[cs]=function(t,e){return Object.assign({},t,{messageLengthLimit:e})},gI[ld]=function(t){var e=[].concat(t.heartbeat.online);return e=0===e[0].duration&&0===e[0].timespan?e.filter((function(t,e){return 0!==e})):[{duration:0,timespan:0}].concat(e),Object.assign({},t,{heartbeat:Object.assign({},t.heartbeat,{online:e})})},gI[ds]=function(t,e){return Object.assign({},t,{serverInstanceTag:e})},gI)),xI=function(t,e){return t.entities.campaigns.entities[e||t.window.id].languages},yI=function(t,e,n){return Object.assign({},e,{config:xI(t,n)})};function SI(t,e){var n=Cw(t,e),i=kw(t,e);if(!n)return i;var o={right:n.right||i.right,bottom:n.bottom||i.bottom},a=void 0!==n.top,r=void 0!==n.left;if((a||r)&&(o.right=n.right||0,o.bottom=n.bottom||0),a){var s=Hm(t);o.bottom=s-n.top-n.height}if(r){var c=qm(t);o.right=c-n.left-n.width}return o}var CI=((mI={})[_s]=function(t,e){var n=SI(t,e.payload.campaignId);return Object.assign({},e,{config:n})},mI[As]=function(t,e){var n=SI(t,e.payload.campaignId);return Object.assign({},e,{config:n})},mI[hs]=function(t,e){var n=l_(t),i=e.payload.campaignId,o=SI(t,i),a=o.right,r=o.bottom,s=function(t,e){return gw(t,e).type}(t,i);return Object.assign({},e,{config:{right:a,bottom:r,campaignId:i,ifHideAgentName:Ph(t),agentDefaultName:n&&n.operatorDefaultName||"Agent",buttonType:s,apiHost:b_(t)}})},mI[ks]=function(t,e){return Object.assign({},e,{config:{languages:xI(t)}})},mI[Cs]=function(t,e){return Object.assign({},e,{config:{languages:xI(t),maxLength:Th(t)}})},mI[ll]=function(t,e){return yI(t,e)},mI[Xs]=function(t,e){var n=af(t),i=of(t),o=t.entities.fields.entities,a=function(t){return Sm(t),_f(t),Im(t),h_(t)+"/download.ashx?siteId="+ym(t)+"&chatGuid="+_f(t)+"&visitorGuid="+km(t)+"&TranscriptPDF=1"}(t),r=Ph(t),s=n&&n.languages,c=s?s.operatorDefaultName:"Agent",d=b_(t);return Object.assign({},e,{config:{campaign:n,fields:o,downloadUrl:a,ifHideAgentName:r,agentDefaultName:c,apiHost:d,crossSiteTransferCampaign:i}})},mI[$d]=function(t,e){return yI(t,e,Bv(t))},mI[uc]=function(t,e){return Object.assign({},e,{config:r_(t)})},mI[Ld]=function(){return rx()},mI[Ss]=function(t,e){var n=Tm(t)===vu;return Object.assign({},e,{config:n})},mI[wl]=function(t,e){var n=function(t,e){return E(t,"entities.kbArticles.entities."+e)}(t,e.payload);return Object.assign({},e,{payload:n})},mI[Ps]=function(t,e){var n=Ph(t),i=function(t){return ch(t,bm(t))}(t),o=i&&i.languages,a=o?o.operatorDefaultName:"Agent",r=b_(t);return Object.assign({},e,{config:{ifHideAgentName:n,agentDefaultName:a,apiHost:r}})},mI[Ac]=function(t,e){if(e.payload!==tu)return e;if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},mI[xs]=function(t,e){if(t.window&&t.window.crossSiteChatTransfer){var n=t.window.crossSiteChatTransfer.campaignId;return n===t.page.campaignId?e:Object.assign({},e,{config:{transferCampaignId:n}})}return e},mI[yc]=function(t,e){return Object.assign({},e,{config:ym(t)})},mI),kI=o({app:Ql,page:Tu,entities:Ku,window:vI,configuration:_I}),II=function(t,e){return e.payload&&e.payload.window&&e.type===Fl?function(t,e){var n=Object.assign({},e.payload.window,{messages:e.payload.window.messages.map((function(t){return Object.assign({},t,{time:new Date(t.time)})}))}),i=G(),o=Object.assign({},e.payload.page,{height:i.height,width:i.width});return Object.assign({},t,{configuration:e.payload.configuration,entities:e.payload.entities,page:o,window:n})}(t,e):kI(t,function(t,e){return CI[e.type]?CI[e.type](t,e):e}(t,e))},MI="",OI=function(){var t=jb().popout;if(t){var e={};return t.ticketId&&(e.ticketId=t.ticketId),t.departmentId&&(e.department=t.departmentId),e}return{}},AI="granted",BI="denied",TI="notsupported",jI=function(){var t=[AI,"default",BI,TI],e=["auto","ltr","rtl"],n=-1,i=["click","scroll","focus"],o=function(t){var e=t.lastIndexOf(".");return(-1!==e?t.substr(0,e):t)+".ico"};function a(){var t=N.createElement("div");this.addEventListener=function(e,n){t.addEventListener(e,n.bind(this))},this.removeEventListener=function(e,n){t.removeEventListener(e,n.bind(this))},this.dispatchEvent=function(e){if("string"==typeof e)try{t.dispatchEvent(new Event(e))}catch(i){var n=N.createEvent("Event");n.initEvent(e,!1,!0),t.dispatchEvent(n)}}}function r(){}function s(){var t=this;a.call(this);var e=n;Object.defineProperties(this,{close:{value:function(){var t=this;e===n&&(window.external.msSiteModeClearIconOverlay(),i.forEach((function(e){V.removeEventListener(e,t.close)})),this.dispatchEvent("click"),this.dispatchEvent("close"),e=null)}.bind(this)}}),this.close(),this.icon&&window.external.msSiteModeSetIconOverlay(o(this.icon),this.description||this.title),window.external.msSiteModeActivate(),this.dispatchEvent("show"),i.forEach((function(e){V.addEventListener(e,t.close)})),e=n+=1}var c=window.Notification||window.webkitNotifications&&r||"external"in window&&"msIsSiteMode"in window.external&&void 0!==window.external.msIsSiteMode()&&s||a;function d(t,n){var i=t;if(!arguments.length)throw TypeError('Failed to construct "Notification": 1 argument required, but only 0 present.');if(""===i&&(i="\b"),arguments.length>1&&"object"!=typeof n)throw TypeError('Failed to construct "Notification": parameter 2 ("options") is not an object.');var o=Object(n),a=o.dir;if(void 0!==a&&-1===e.indexOf(a))throw TypeError('Failed to construct "Notification": The provided value "'+a+'" is not a valid enum value of type NotificationDirection.');var r=new c(i,o);return r.body||Object.defineProperty(r,"body",{value:String(o.body||"")}),r.data||Object.defineProperty(r,"data",{value:o.data||null}),r.dir||Object.defineProperty(r,"dir",{value:a||e[0]}),r.icon||Object.defineProperty(r,"icon",{value:String(o.icon||"")}),r.lang||Object.defineProperty(r,"lang",{value:String(o.lang||"")}),r.requireInteraction||Object.defineProperty(r,"requireInteraction",{value:Boolean(o.requireInteraction)}),r.silent||Object.defineProperty(r,"silent",{value:Boolean(o.silent)}),r.tag||Object.defineProperty(r,"tag",{value:String(o.tag||"")}),r.title||Object.defineProperty(r,"title",{value:String(i)}),r.timestamp||Object.defineProperty(r,"timestamp",{value:(new Date).getTime()}),r}return Object.defineProperty(a,"permission",{enumerable:!0,get:function(){return TI}}),Object.defineProperty(a,"requestPermission",{enumerable:!0,writable:!0,value:function(t){t(this.permission)}}),Object.defineProperty(s,"permission",{enumerable:!0,get:function(){return window.external.msIsSiteMode()?AI:BI}}),Object.defineProperty(s,"requestPermission",{enumerable:!0,writable:!0,value:function(){var t=this;return new Promise((function(e){e(t.permission)}))}}),Object.defineProperty(s,"PERMISSION_REQUEST_MESSAGE",{writable:!0,value:"IE supports notifications in pinned mode only. Pin this page on your taskbar to receive notifications."}),Object.defineProperty(r,"permission",{enumerable:!0,get:function(){return t[window.webkitNotifications.checkPermission()]}}),Object.defineProperty(r,"requestPermission",{enumerable:!0,writable:!0,value:function(){return new Promise((function(t){window.webkitNotifications.requestPermission((function(e){t(e)}))}))}}),c.permission||Object.defineProperty(c,"permission",{enumerable:!0,get:function(){return c.permissionLevel&&c.permissionLevel()}}),Object.defineProperty(d,"permission",{enumerable:!0,get:function(){return c.permission}}),Object.defineProperty(d,"requestPermission",{enumerable:!0,value:function(){return new Promise((function(t,e){var n=c.requestPermission((function(e){t(e)}));n&&("function"==typeof n.then&&"function"==typeof n.catch?t(n):e(n))}))}}),d}(),PI=jI.requestPermission,FI="video-request",WI="video-end",NI="screensharing-request",VI=function(){var t={},e=function(e){if(null==e)return Promise.reject("sound url is null");if(t[e])return Promise.resolve(t[e]);var n=new Promise((function(t,n){var i=new Audio(e);i.oncanplay=function(){i.oncanplay=null,t(i)},i.onerror=n}));return t[e]=n,n};return{play:function(t,n){return e(t).then((function(t){return t.loop=n?"loop":"",t.play()}))},stop:function(t){return e(t).then((function(t){t.loop=""}))}}}(),DI=X(VI.play,500),RI=$((function(t,e){if(jI.permission===AI){var n=new jI(z.host,{body:t,icon:e,tag:"livechat_notify"}),i=null;n.onclick=function(){V.focus(),n.close()},n.onshow=function(){i=setTimeout((function(){n.close(),i=null}),5e3)},n.onclose=function(){i&&clearTimeout(i)}}}),50);function EI(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var zI,LI=function(){return{type:Ck,payload:{type:"locationCancelled"}}},HI=function(){return{type:kk,payload:{type:"visitorSSOCancelled"}}},qI=function(){return{type:Ik,payload:{type:"meetingCancelled"}}},UI=function(){return{type:Bk,payload:{type:"microsoftBooking"}}},GI=function(t){var e=t.eventUri,n=t.inviteeUri;return{type:Mk,payload:{bookMeetingEventUri:e,bookMeetingEventInviteeUri:n,type:"meetingSubmitted"}}},KI=function(t){return{payload:t,type:Ok}},YI=function(t){return{type:Ak,payload:{guid:t}}},JI="chat",QI="chatbot",ZI="taskbot",XI="offline",$I="systemProcessing",tM=((zI={}).prechat=function(t){t(Px(tp)),t(oS(iu)),t(mx(iu))},zI[JI]=function(t,e){qf(e)||(t(Lx()),t(Px(ep)),t(oS(eu)),t(mx(eu)))},zI[QI]=function(t,e,n){var i=b_(e);t(Wx(n.url,Object.assign({apiHost:i},n.bot))),t(Hx()),t(Px(ep)),t(oS(nu)),t(mx(nu))},zI[ZI]=function(t,e,n){t({type:Sk}),t(Px(ep)),t(oS(nu)),t(mx(nu))},zI[XI]=function(t){t(Px(ip)),t(oS(ru)),t(mx(ru))},zI.sso=function(t,e,n){t(Fx(Sh(e,n.url),n.showPrelogin,n.ifOpenSignInPageEmbeddedWindow));var i=tt(V.location.href,"ssoInfo");if(i){t(KS(i));var o=V.location.href.substring(0,V.location.href.indexOf("&ssoInfo="));V.history.replaceState(V.history.state,document.title,o)}else n.showPrelogin?t(Px(Xu)):t(Px($u)),n.showPrelogin||n.ifOpenSignInPageEmbeddedWindow||(ph(e)?t(lS()):t(cS()));t(oS(du)),t(mx(du))},zI.kb=function(t){t(Px(op)),t(oS(pu)),t(mx(pu))},zI),eM=function(t,e,n){if(n.next===JI||n.next===QI||n.next===ZI){var i=n.chatGuid,o=n.serverTime;t(sy(i,o)),setTimeout((function(){return t(wC(),0)}))}if("kb"===n.next){var a=n.ifOnline,r=n.id,s=n.greetingMessage,c=n.maxCount;t(H_(ef(e),a)),t(Vx({id:r,greetingMessage:s,maxCount:c}))}else t(H_(ef(e),n.next!==XI));(tM[n.next]||function(){})(t,e,n)},nM=1004,iM=1036,oM=314,aM=1050,rM=4342338,sM="GET";function cM(t){return/\bjson\b/gi.test(function(t){return t.contentType?t.contentType:t.getResponseHeader?t.getResponseHeader("content-type"):null}(t))?JSON.parse(t.responseText):t.responseText}function dM(t,e,n,i,o){return new Promise((function(a,r){var s=function(){if("withCredentials"in new XMLHttpRequest)return new XMLHttpRequest;if(window.XDomainRequest)return new window.XDomainRequest;throw new Error("No CORS support.")}(),c=K((function(t,i){return r({url:e,input:n,error:{code:t,message:i,statusCode:s.status}})}),rM);!function(t,e,n){if(window.XDomainRequest&&t instanceof window.XDomainRequest&&/^https?:/.test(n)){var i=z.href.toString().match(/^(https?):/)[1];t.open(e,i+n.substr(n.indexOf(":")),!0)}else t.open(e,n,!0)}(s,t,e),s.withCredentials=!(n instanceof window.FormData)&&t!==sM,o&&o.forEach((function(t){return s.setRequestHeader(t.prop,t.value)})),function(t,e){if(e){var n=function(){t.abort()};t.upload&&t.upload.addEventListener("progress",(function(t){var i=t.lengthComputable?Math.round(100*t.loaded/t.total):void 0;e(i,n)}),!1),e(void 0,n)}}(s,i),s.onload=function(){if(null==s.status||s.status>=200&&s.status<300)a({url:e,input:n,output:cM(s)});else{var t="http error "+s.status;if(s.responseText)try{t=JSON.parse(s.responseText).message}catch(t){}c(t)}},s.onabort=function(){return c("")},s.ontimeout=function(){return c("request timeout")},s.onerror=function(){return c("network error")},s.onprogress=function(){},null!=window.FormData&&n instanceof window.FormData?(s.timeout=DC,s.send(n)):(s.timeout=VC,s.send(JSON.stringify(n)))}))}var lM,uM,pM=K(dM,sM),hM=K(dM,"POST"),fM=pM,gM=hM,mM=function(t,e,n,i,o){var a=new FormData;return a.append("file",e,o),gM(t,a,i,[{prop:"Authorization",value:"Bearer "+n.token}])},wM=function(t,e,n,i){var o=n.replace(/\/campaign\.ashx.*$/i,""),a=function(t){return t&&o+(/^\//.test(t)?t:"/"+t)};return t(Sx({id:e,entity:null,fetchStatus:ju})),fM(n).then((function(n){var o=function(t){return R(t.mainColor)?t:Object.assign({},t,{mainColor:io})}(function(t){return Object.assign({},t,{sounds:t.sounds&&Object.keys(t.sounds).reduce((function(e,n){var i;return Object.assign({},e,((i={})[n]=a(t.sounds[n]),i))}),{}),chatBot:t.chatBot&&Object.assign({},t.chatBot,{avatar:a(t.chatBot.avatar)}),chat:t.chat&&Object.assign({},t.chat,{texture:t.chat.texture?_h(i,"/visitorside/"+t.chat.texture):t.chat.texture}),header:t.header&&Object.assign({},t.header,{banner:t.header.banner&&a(t.header.banner),logo:t.header.logo&&a(t.header.logo)})})}(n.output));return t(Sx({id:e,entity:o,error:null,fetchStatus:Pu})),o})).catch((function(n){throw t(Sx({id:e,entity:null,error:n.error.message,fetchStatus:Fu})),n}))},bM=((lM={})[Ui]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(e){var i=[{type:"complex",content:{text:t.content}}];return Object.assign({},t,{content:i})}},lM[Yi]=function(t,e,n){try{var i=JSON.parse(t.context),o=i&&i.ChatbotContext||{},a=o.Variables||{},r=o.CustomData||{};n(Nx({variables:a,visitorInfo:r}))}catch(t){n(Nx({}))}try{var s=JSON.parse(t.content);return Object.assign({},t,{content:s})}catch(e){var c=[{content:{text:t.content}}];return Object.assign({},t,{content:c})}},lM[qn]=function(t,e){try{var n=JSON.parse(t.content);return Object.assign({},t,{content:n})}catch(n){var i=[{type:_k,content:{text:t.content}}],o=Yh(e),a={ifAgentOnline:!0,ifRate:!1,intentAnswers:i,botId:o&&o.id||0};return Object.assign({},t,{content:a})}},lM[Xn]=function(t,e,n){return n(W_(!1)),t},lM[jn]=function(t,e,n){var i=t.content.info.split($i);if(4===i.length){var o=Sh(e,i[2]),a="true"===i[3].split("=")[1].toLowerCase();n(Fx(o,!1,a))}return t},lM[ve]=function(t,e,n){return n(dS()),t},lM),vM=function(t,e,n){return t.map((function(t){var i=bM[t.type];return i?i(t,e,n):t}))},_M=function(t,e,n){return t.forEach((function(t){if(t.type===Ji&&t.extras){var i=JSON.parse(t.extras);if(i){if(Mv(e)){var o=Mv(e);if(o.siteId===i.siteId&&o.fromSiteId===i.fromSiteId)return}n(gS(Object.assign({},i,{visitorGuid:gb(i.siteId)}))),n(fS(!1)),n(aC()).then((function(t){var o=t.output.payload.crossSiteTransferDefaultCampaignId;sh(e,o)||wM(n,o,o_(i).replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+i.siteId+"&campaignId="+o))})),n(rC(i.siteId)),n(bS())}}}))},xM="{email}",yM=oo,SM=function(t,e,n){var i=K(bh,e),o=Sm(e),a=gw(e,n).lastUpdateTime,r=sh(e,n);if(r)return Promise.resolve(r);var s=i("/campaign.ashx?siteId="+o+"&campaignId="+n+"&lastUpdateTime="+a);return wM(t,n,s,e)},CM=function(t,e,n){var i=K(bh,e);return fM(i(n.customizedAdaptiveButtonIcon)).then((function(e){t(Cx({id:n.id,entity:Object.assign({},n,{customizeIcon:e.output,fetchStatus:Pu})}))})).catch((function(e){throw t(Cx({id:n.id,entity:Object.assign({},n,{fetchStatus:Fu})})),e}))};function kM(t,e,n){var i,o=t.dispatch,a=t.getState,r=e.input,s=e.output,c=a(),d=((i={})[yM.getConfig]=function(t){t.features&&(ub(!!t.features.useSessionCookie),t.features.disableCookie&&zw()),Iv(a())?(o(hS(t.crossSiteTransferDefaultCampaignId)),o(mS(t))):o(_x(t.customVaraibles?t:Object.assign({},t,{kbAPIUrl:Gr(t.kbAPIUrl,b_(c)),customVariableResult:ph(c)?qv(c):Pa(t.customVariables)}))),o(QS())},i[yM.getChatWindowConfig]=function(t){var e=t.messageLengthLimit||to;r.siteId&&r.siteId===Ov(a())?o(mS(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},Mv(a()).configuration.features,t.features)}))):o(_x(Object.assign({},t,{messageLengthLimit:e,features:Object.assign({},c.configuration.features,t.features)})))},i[yM.getCustomVariables]=function(t){var e="product service",n=et(t,["name","email","phone","company",e]),i=n[0],a=n[1];i[e]&&(i.product=i[e],delete i[e]);var r=Cv(c).map((function(t){return t.label})),s=et(a,r)[0];o(AC(Object.assign({},i,{custom:s})))},i[yM.getChatButton]=function(t){var e=Um(c);if(e)o(fx(t.id));else{var n=vm(c);n===t.id||isNaN(parseInt(n,10))||o(gx(t.id,n))}var i=0;r.campaignId===t.id||isNaN(parseInt(r.campaignId,10))||(i=parseInt(r.campaignId,10)),o(Cx({id:t.id,entity:Object.assign({},t,{intId:i,divId:Qr(t.id,i)}),fetchStatus:t.isCustomizedAdaptiveButtonUsed?ju:Pu})),e&&lk("livechat.dynamicCampaign.change",t.id),t.isCustomizedAdaptiveButtonUsed&&CM(o,a(),t),SM(o,a(),t.id).then((function(t){return Iv(a())||o(P_()),new Promise((function(e){setTimeout(e,0,t)}))})).then((function(t){var n=a(),i=ph(n),s=N.getElementsByTagName("iframe"),d="$brandingName-iframe".replace("$brandingName",V.brandingNameLowerCase);if(s.length>0&&s[d]&&s[d].setAttribute("lang",t.languageCode),i){var l=N.getElementsByTagName("html");l.length>0&&l[0].setAttribute("lang",t.languageCode)}if(ew(n,t.id)){var u=tv();o(L_(u))}else ev(),o(L_(!1));i&&Cm(n)!==Zl&&(Zr===xs?o(z_()):$b(ym(c),_m(c))||(o(ex(vm(a()))),o(ox()))),(e||r.alreadyCampaignId)&&o(Py(t.id));var p=N.getElementById("windowLoading");p&&p.parentNode.removeChild(p)}))},i[yM.checkManualInvitation]=function(t){var e=r.campaignId===eo,n=/^-?\d+$/.test(r.campaignId)?mw(c,parseInt(r.campaignId,10)):r.campaignId,i=e?vm(c):n;if(t&&t.agent&&!pv(c)&&Cm(c)===tu){var a=function(){var e=t.type!==gu&&t.type!==hu||!R(t.textBackgroundColor)?io:t.textBackgroundColor,n=Object.assign({},t,{isManual:!0,campaignId:i,textBackgroundColor:e});o(q_(n)),lk("livechat.invitation.display",n)};t.type===fu||t.type===gu?o(rC()).then(a):a()}},i[yM.confirmAutoInvitation]=function(t){var e=r.campaignId===eo?vm(c):r.campaignId,n=Number(e);if(isNaN(n)||(e=mw(c,n)),t&&!pv(c)&&!hv(c)&&Cm(c)===tu){var i=function(){var n=t.type!==gu&&t.type!==hu||!R(t.textBackgroundColor)?io:t.textBackgroundColor,i=Object.assign({},t,{isManual:!1,campaignId:e,textBackgroundColor:n});o(q_(i)),o(U_(!1)),lk("livechat.invitation.display",i)};o(U_(!0)),t.type===fu?o(rC()).then(i):i()}},i[yM.checkAutoInvitation]=function(t){if(null!=t){var e={};t.forEach((function(t){var n=t.id,i=t.delay;Object.keys(e).indexOf(i.toString())>-1?e[i]=e[i].concat(n):e[i]=[n]})),Object.keys(e).forEach((function(t){setTimeout((function(){Cm(a())===tu&&o(DS.apply(xC,[To()].concat(e[t].map((function(t){return ho(r.campaignId,t)})))))}),1e3*t)}))}},i[yM.showInvitation]=function(t){var e=vm(c);if(t&&!pv(c)&&Cm(c)===tu){var n=function(){var n=Object.assign({},t,{isManual:!1,campaignId:e});o(q_(n)),lk("livechat.invitation.display",n)};t.type===fu?o(rC()).then(n):n()}},i[yM.getIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(H_(e,n))},i[yM.checkIfOnline]=function(t){var e=t.campaignId,n=t.ifOnline;o(H_(e,n))},i[yM.batchAction]=function(t){for(var e=0;e<t.length;e+=1)kM({dispatch:o,getState:a},{input:r.actions[e],output:t[e]})},i[yM.newVisitor]=function(t){var e=t.visitorGuid,n=t.ifNewVisitor,i=t.sessionId,r=t.ifMigrated,s=t.migrationInfo,d={guid:e,sessionId:i};d.ifNewVisitor=n,r&&(d.migrationInfo=s),Iv(a())&&o(wS(e)),Iv(c)?Sm(c):ym(c),o(G_(d)),o(Y_())},i[yM.getDynamicCampaign]=function(t){t!==vm(c)&&o(oC(t))},i[yM.pageVisit]=function(t){var e=t.page,n=t.time,i=vm(a());Object.keys(a().page.buttons).forEach((function(t){var e="number"==typeof t?+t:t;0!==e&&e!==eo&&e!==i&&o(oC(e))})),o(K_({page:e,time:n}))},i[yM.requestChat]=function(t){eM(o,a(),t),o(G_({persistentVisitor:!0})),t.campaignId&&t.campaignId!==eo&&o(oC(t.campaignId,!0))},i[yM.requestChatFromChatbot]=function(t){eM(o,a(),t),t.campaignId&&o(oC(t.campaignId,!0))},i[yM.getChatMessages]=function(t){qh(a())&&0!==t.length&&(o(Dx(vM(t,a(),o))),_M(t,c,o))},i[yM.submitRating]=function(){o(MC(yp)),setTimeout((function(){o(CS())}),1500)},i[yM.emailTranscript]=function(t){if(t){var e=p_(c,Pw,Bv(c)).replace(xM,r.email);o(Rx(e))}o(rS(r.email))},i[yM.getAgents]=function(t){return t&&t.forEach((function(t,e){return o(Ix({id:t.id,entity:Object.assign({},t,{index:e}),fetchStatus:Pu}))}))},i[yM.getDepartments]=function(t){return t&&t.forEach((function(t){return o(Mx({id:t.id,entity:t,fetchStatus:Pu}))}))},i[yM.submitPostChat]=function(){return o(Px(ep))},i[yM.endChat]=function(){o(Xx());var t=B_(c);t===eu&&o(mx(du)),t===nu&&o(mx(cu)),Zb(ym(c),_m(c))},i[yM.checkManuallyInvited]=function(t){t||(o(rx()),o(mx(du)))},i[yM.getChatQueue]=function(t){t&&o(by({position:t.position,waitTime:t.est}))},i[yM.getVisitorInfo]=function(t){o(qy(t))},i[yM.restoreChat]=function(t){if(t&&bw(a(),vm(a()))){o(ex(vm(a()),!0)),o(sy(t.guid));var e=Cb(t.guid);e&&((e.windowStatus===$l||Wm(c))&&o(ax()),e.maxReadId&&o(My(+e.maxReadId)))}},i[yM.visitorGetLatestMsgSeen]=function(t){Br(t,Tg(a()),gf(a()))&&o(Oy(t))},i[yM.agentMsgSeenByVisitor]=function(t){o(Ay(t))},i[yM.submitSSOInfo]=function(t){if(o(bx(!1)),t&&"object"==typeof t){var e=vw(c),n=Sv(c),i={};Object.keys(t).forEach((function(o){if("fields"===o)i.custom={},t[o].forEach((function(t){n.filter((function(e){return e.label===t.name&&e.type===aa})).length>0?i.custom[t.name]=t.value.split($i):i.custom[t.name]=t.value}));else if("department"===o){var a=Object.keys(e).filter((function(n){return e[n].name===t.department}));a.length>0?i[o]=Number(a[0]):i[o]=""}else"ssoId"===o&&"userId"===o&&"variables"===o&&"ssoSessionToken"===o||(i[o]=t[o])}));var a=t.ssoSessionToken,r=t.ssoInfo;Lb(a),r?(qb(r),Kb()):Jb(),o(AC(i,xp))}},i[yM.refuseAutoInvitation]=function(){o(mx(su))},i[yM.refuseManualInvitation]=function(){o(mx(su))},i[yM.recoverVisitor]=function(t){o(aS(t.baseVersion)),o(N_()),Iv(c)?o(vS(t.serverInstanceTag)):o(yx(t.serverInstanceTag))},i[yM.closeWindow]=function(){var t=B_(c);t!==eu&&t!==iu&&t!==pu||o(mx(du)),t===nu&&o(mx(cu))},i[yM.getSSORecoverInfo]=function(t){t&&t!==Ub()&&(qb(t),Yb())},i[yM.requestChatFromAnotherSite]=function(t){if("offline"===t.next){var e=vm(c),n=u_(c,e),i=U[n].transferToOffline;o(Rx(i)),o(Xx())}else{eM(o,a(),t),o(fS(!0,t.chatGuid)),o(aS(""));var r=Mv(c);Xb(ym(c),_m(c),Object.assign({},r,{isTransferDone:!0,chatGuid:t.chatGuid,agents:Object.assign({},r.agents||{},hw(c))}))}},i);null!=r&&null!=d[r.type]&&d[r.type](s.payload)}var IM,MM,OM,AM=function(t){return{chatGuid:_f(t),siteId:ym(t),sessionId:yb(),visitorGuid:km(t)}},BM=function(t){return ko(_f(t),Sf(t))},TM=function(t,e){return jo([Object.assign({},AM(e),t),BM(e)])},jM=((uM={})[Ik]=TM,uM[Mk]=TM,uM[Ck]=TM,uM[kk]=TM,uM[Bk]=TM,uM[Tk]=function(t,e){var n=mv(e);return jo([Object.assign({taskbotId:n},AM(e),t),BM(e)])},uM),PM="chatbot/locationCancelled",FM="chatbot/visitorSSOCancelled",WM="chatbot/meetingCancelled",NM="chatbot/meetingSubmitted",VM="chatbot/chatbotFormCancelled",DM="chatbot/microsoftBooking",RM="chatbot/canvasAuthorization",EM=function(t){return{chatGuid:_f(t),siteId:ym(t),sessionId:yb(),visitorGuid:km(t)}},zM=function(t){return ko(_f(t),Sf(t))},LM=function(t,e){return jo([Object.assign({},EM(e),t),zM(e)])},HM=((IM={})[WM]=LM,IM[NM]=LM,IM[PM]=LM,IM[FM]=LM,IM[VM]=LM,IM[DM]=LM,IM[RM]=LM,IM),qM=oo,UM=0,GM=[],KM={},YM={},JM=null,QM=function(t,e,n,i,o){try{var a=JSON.parse(i.output);if(i.code)return void e({input:Object.assign({},t.action,{isUseStandbyFileService:o}),error:a})}catch(e){t.action.fileServiceUrl?n({input:t.action,output:{name:t.action.fileName,key:i.output,isUseStandbyFileService:o}}):n({input:t.action,output:i.output[0]})}},ZM=[qM.getChatMessages,qM.agentMsgSeenByVisitor,qM.visitorGetLatestMsgSeen],XM=function(t,e,n,i){var o=e;if(null==o.type)throw new Error("action.type is required");return o.ssoSessionToken=Lw(zb),o.type===qM.uploadFileAction?new Promise((function(t,e){var i=o.action.fileServiceUrl+"/files",a=o.action.standbyFileServiceUrl+"/files",r=mM;r(i,o.file,o.action,n,o.action.fileName).then((function(n){return QM(o,e,t,n,!1)})).catch((function(i){if(i instanceof Error)throw i;var s=i.error;s&&(!s.statusCode||s.statusCode>=500||404===s.statusCode)?r(a,o.file,o.action,n).then((function(n){return QM(o,e,t,n,!0)})).catch((function(t){if(t instanceof Error)throw t;e({input:o.action,error:i.error})})):e({input:o.action,error:i.error})}))})):(o.type===qM.newVisitor&&Jb(),new Promise((function(e,n){null==JM&&(JM=function(){var t=0;return function(){return t+=1}}());var a=JM();(function(t,e){var n=!0,i=!1;return t.forEach((function(t){Fo(t,qM.submitSSOInfo)&&(i=!0)})),i&&Po((function(t){ZM.indexOf(t.type)>-1&&(n=!1)}),e),n})(GM,o)&&GM.push(Object.assign({},o,{id:a})),KM[a]=e,YM[a]=n,clearTimeout(UM),UM=setTimeout((function(){gM(t,GM.splice(0,GM.length)).then((function(t){var e=t.input,n=t.output;e.forEach((function(t,e){n[e].error?YM[t.id]({input:t,error:n[e].error,serverInstanceTag:i}):KM[t.id]({input:t,output:n[e],serverInstanceTag:i}),delete KM[t.id],delete YM[t.id]}))})).catch((function(t){if(t instanceof Error)throw t;var e=t.input,n=t.error;e.forEach((function(t){YM[t.id]({input:t,error:n}),delete KM[t.id],delete YM[t.id]}))}))}),0)})))},$M=function(t,e,n,i){return XM(t,e,n,i).then((function(t){return t}))},tO=oo,eO=null,nO=function(t){var e=t.getState,n=t.resolve;return $M(a_(e()),{type:oo.systemProcessingHeartbeat}).then((function(t){if(!t.output.payload){clearInterval(eO),eO=null;var i=e(),o=null;if(Av(i)){var a=Om(i,Um(i)?eo:vm(i)),r=Gh(i),s=Eb();o=r===gp?jo([Object.assign({},a,{isPrechatDone:!0,isProcessingDone:!0,lastChattedAgents:s})].concat(function(t){var e=Sf(t),n=gf(t),i=Cr(n),o=[].concat(i);if(xf(t)){var a=yf(t);o.push({type:Pe,content:a,sender:{type:cp},id:n.length+e+1})}return[0===o.length?null:Ao(null,o),ko(null,-1)]}(i))):Object.assign({},a,{isProcessingDone:!0,lastChattedAgents:s})}else o=Object.assign({},jv(i),{isProcessingDone:!0});$M(a_(i),o).then((function(t){t.output.payload&&(clearInterval(eO),eO=null,n(t))}))}}))},iO=function(t){var e=t.getState,n=t.dispatch,i=function(t){return new Promise((function(t,n){null===eO?(nO({getState:e,resolve:t}),eO=setInterval(nO,2e3,{getState:e,resolve:t})):n("Already checking system processing")})).then((function(e){var n=e.output;return function(t,e){return Object.assign({},t,{output:Wo((function(t){if(t.type===tO.requestChat){if(e.type===tO.batchAction){var n=e.payload.filter((function(t){return t.type===tO.requestChat}));if(n.length>0)return Object.assign({},t,n[0])}return Object.assign({},t,e)}if(t.type===tO.requestChatFromAnotherSite){if(e.type===tO.batchAction){var i=e.payload.filter((function(t){return t.type===tO.requestChatFromAnotherSite}));if(i.length>0)return Object.assign({},t,i[0])}return Object.assign({},t,e)}if(t.type===tO.getChatMessages&&e.type===tO.batchAction){var o=e.payload.filter((function(t){return t.type===tO.getChatMessages}));if(o.length>0)return Object.assign({},t,o[0])}return t}),t.output)})}(t,n)}))};return function(t){var e=Fo(t.output,tO.requestChatFromAnotherSite);if(e&&e.payload.next===$I)return i(t);var o=Fo(t.output,tO.requestChat);return o&&o.payload.next===$I?(n(Px(Zu)),n(oS(uu)),n(mx(uu)),i(t)):t}},oO=[oo.checkBan,oo.checkBBSCode,oo.closeWindow,oo.emailTranscript,oo.getAgents,oo.getChatButton,oo.getConfig,oo.getDepartments,oo.submitPostChat,oo.recoverVisitor],aO=function(t){return[No({visitorGuid:km(t),visitorId:hb()}),ro(Bv(t),hb(),km(t),N.referrer,Mm(t),Fa(),Wa(),v,_b(Sm(t)||ym(t)))]},rO=function(t,e){var n=B_(t),i=n===pu;n=i?iu:n;var o=function(t){var e=bb(wb(t));return e.navigation?e.navigation.filter((function(t){return t})):[]}(),a=Ub(),r=fv(t),s=mv(t);return[No({visitorGuid:km(t)}),so(vm(t),km(t),N.referrer,Fa(),Wa(),v,_b(),Mm(t),n,i,o,e,a,r,s)]},sO=function(t,e,n,i){var o,a=Om(t,Um(t)?eo:e),r=a.source;return o=r.type===_u||r.type!==bu&&a.invitationtype===fu,Object.assign({},a,{lastChattedAgents:n,isPrechatDone:o,artifact:i})},cO=function(t){var e=[];return function(t){return pw(t).length}(t)<3&&e.push(To()),function(t){return t.configuration.features.department}(t)&&e.push(Bo()),e},dO=function(t){var e=B_(t),n=Fh(t),i=e===ru?[]:Ta(mf(t),n),o=Mm(t),a=vm(t),r=xv(t,bp,a),s=lf(t),c=Yh(t),d=fv(t),l=gv(t),u=jb().popout,p=_b(),h=p.name,f=p.email,g=p.form,m=or(Sr(r));g&&g.custom&&Object.keys(g.custom).forEach((function(t){var e=r.filter((function(e){return e.label===t}));if(e.length>0){var n=yr(e[0].id);m.custom[n]=m.custom[n]||g.custom[t].join&&g.custom[t].join($i)}}));var w=Object.assign({},m,{name:h,email:f,phone:m.phone||g?g.phone:"",company:m.company||g?g.company:""});return u&&u.ticketId&&!Number.isNaN(+u.ticketId)&&(w.ticketId=+u.ticketId),u&&u.departmentId&&!Number.isNaN(+u.departmentId)&&(w.department=+u.departmentId),Object.assign({chatGuid:_f(t),messages:i,source:Am(t),requestingPageUrl:o.url,requestingPageTitle:o.title,botId:s&&c?c.id:eo,isChattingWithTaskbot:d,taskbotId:d&&l&&l.id?l.id:eo},w,{maxAgentReadGuid:Tg(t),maxVisitorReadGuid:jg(t),emailToSendTranscript:Ug(t)})},lO=oo,uO=function(t){return Fo(t,lO.pageVisit)||Fo(t,lO.requestChat)||Fo(t,lO.requestChatFromChatbot)||Fo(t,lO.submitOfflineMessage)||Fo(t,lO.requestChatFromAnotherSite)||Fo(t,lO.showInvitation)},pO=function(t,e){var n=t.split("-"),i=n[0],o=n[1],a=e.split("-"),r=a[0],s=a[1];return i===r&&o!==s},hO=function(t,e){var n=Tv(t),i=e.serverInstanceTag,o=e.error.serverInstanceTag;return mh(t)||n&&o&&pO(i,o)&&n===o},fO=function(t,e){var n=function(t){return t.app.lastSuccessTime}(t),i=Date.now()-n<12e4,o=Tv(t),a=e.error.serverInstanceTag;return i&&(!o||o&&a&&pO(o,a))},gO=function(t){var e=vm(t),n=qv(t),i=Mm(t);return[n&&lo(n,e),co(e,i)]},mO=function(t,e){if(Iv(t))return wO(t,e);if(Fo(e,oo.recoverVisitor))return e;var n=e.type===lO.batchAction?e.actions:e,i=dO(t),o=rO(t,i);if(Fo(e,lO.requestChat)){var a=gO(t);return jo(o.concat(a).concat(n))}return jo(o.concat(n))},wO=function(t,e){if(Fo(e,oo.recoverVisitor))return e;e.type===lO.batchAction&&e.actions;var n=function(t,e){var n=fv(t),i=mv(t);return[No({visitorGuid:Im(t)}),so(Bv(t),Im(t),N.referrer,Fa(),Wa(),v,_b(Sm(t)||ym(t)),Mm(t),T_(t)?"transferring":nu,!1,[],e,null,n,i)]}(t,dO(t));return jo(n)},bO=function(t,e,n,i){var o=t.getState;return t.dispatch,function(t){var a=t.input,r=t.error.code,s=o(),c=Fo(a,lO.newVisitor);if(r===nM){if(hO(s,t)&&!uO(a))return t;if(c)throw t;if(fO(s,t)){var d=mO(s,a);return e(d,n,i)}if(uO(a)){var l=function(t,e){var n=e.type===lO.batchAction?e.actions:e,i=aO(t);if(Fo(e,lO.requestChat)){var o=gO(t);return jo(i.concat(o).concat(n))}return jo(i.concat(n))}(s,a);return e(l,n,i)}}else if(r===aM){if(hO(s,t)&&!uO(a))return t;if(fO(s,t)||uO(a)){var u=mO(s,a);return e(u,n,i)}}throw t}},vO=function(t,e,n){var i=ym(n),o=function(t){return E(t,"window.kbConfig.id")}(n),a=[jh(n),"/"+i+"/"+o+"/articles?keyword="+encodeURIComponent(e)].join("");fM(a).then((function(e){t(Ax(fl,e.output))})).catch((function(){t(Ey())}))},_O=["content"],xO=function(t){return ko(_f(t),Sf(t))},yO=function(t){var e=Sf(t),n=_f(t),i=gf(t),o=Cr(i);nm(t)&&(o=o.filter((function(t){return t.type!==Oi})));var a=kr(n,i),r=[].concat(o),s=xf(t),c=Bg(t,Bv(t)),d=Nf(t),l=qf(t),u=Vf(t),p=Tg(t),h=qg(t);if(s){var f=yf(t);r.push({type:Pe,content:f,sender:{type:cp},id:i.length+e+1,guid:Y()})}return a.concat([0===r.length?null:Ao(n,r),(l||u)&&ko(n,e),Kf(t)&&Eo(),c&&d&&!Br(p,h,gf(t))&&Oo(n)])},SO=Object.assign({},jM,HM,((MM={})[_s]=function(t,e){var n,i=t.campaignId,o=zm(e),a=Lm(e);if(o){var r=xv(e,bp,i),s=r.some((function(t){return""!==t.error}));if(!s){var c=jb().popout;n=or(Sr(r)),c&&c.ticketId&&!Number.isNaN(+c.ticketId)&&(n.ticketId=+c.ticketId),c&&c.departmentId&&!Number.isNaN(+c.departmentId)&&(n.department=+c.departmentId)}}var d=Eb();return jo([c_(e)?{type:oo.checkBBSCode}:null,zo(),n&&sO(e,i,d,a),n&&bo(n,i),Object.assign({},sO(e,i,d,a),n?{isPrechatDone:!0}:{}),Um(e)?Ro():null,Hv(e)?{type:oo.getCustomVariables}:null].concat(cO(e),[Io(null),ko(null,-1)]))},MM[zs]=function(t,e){var n=vm(e),i=pv(e);return go(n,i.isManual,i.id)},MM[Xc]=function(t,e){return gh(e)?null:{type:oo.prechatHeartbeat}},MM[$c]=function(t,e){return gh(e)?null:{type:oo.offlineMessageHeartbeat}},MM[Zc]=function(t,e){if(gh(e))return null;if(!qh(e))return null;if(mh(e))return null;if(Nf(e)&&Iv(e)&&!Av(e))return null;var n=Gh(e);if(n===gp){var i=Tm(e);if(i===vu)return Eo();if(i===_u)return jo([vo(_f(e)),xO(e)])}var o=[];return n===fp&&o.push(Io(_f(e))),jo(o.concat(yO(e)))},MM[Ac]=function(t,e){if(t!==tu)return null;if(gh(e))return null;var n=$h(e),i=Gh(e),o=ef(e);if(n===tp||n===ip||n===op)return{type:oo.closeWindow};if(n===ep){if(i===gp){var a=Om(e,o).source,r=a.type,s=a.invitationId;return lk("livechat.invitation.refuse",s),go(o,r===_u,s)}if(i===fp)return jo([Co(_f(e)),xO(e)])}return null},MM[el]=function(t,e){return jo([yo(t),Object.assign({},Om(e,ef(e)),{lastChattedAgents:Eb(),isPrechatDone:!0,skipSSO:!0})])},MM[rd]=function(t,e){var n=Om(e,ef(e)),i=Eb(),o=Nf(e);return jo([wo(t,ef(e)),!o&&Object.assign({},n,{isFromKB:!0,lastChattedAgents:i})])},MM[sd]=function(t,e){return wo(t,ef(e))},MM[Bl]=function(t,e){return function(t,e){return{type:oo.setLocation,chatGuid:e,location:t}}(t,_f(e))},MM[Tl]=function(){return{type:oo.getVisitorInfo}},MM[hs]=function(t,e){return jo([t.isManual?(n=t.id,{type:oo.manualInvitationShowed,invitationId:n}):null].concat(cO(e)));var n},MM[cd]=function(t,e){var n=Om(e,ef(e)),i=Eb();return Object.assign({},n,{skipSSO:!0,lastChattedAgents:i})},MM[_d]=function(t,e){var n=So(Um(e)?eo:ef(e),{type:bu,page:Mm(e)}),i=Eb();return jo([zo(ym(e)),Object.assign({},n,{lastChattedAgents:i})])},MM[wd]=function(t,e){if(Gf(e)){var n=function(t){var e=Am(t),n=(t.page.requestChatAction||{}).departmentId;return{type:oo.requestChatFromChatbot,departmentId:n,source:e}}(e,ef(e)),i=_f(e);return jo([n,Io(i),Mo(i)])}return null},MM[td]=function(t,e){var n=_f(e);return jo([xo(n,t),xO(e)])},MM[ed]=function(t,e){return function(t,e){return{type:oo.emailTranscript,chatGuid:t,email:e}}(_f(e),t)},MM[Jc]=function(t){return t},MM[nd]=function(t,e){return jo([Co(_f(e)),xO(e)])},MM[vd]=function(t,e){return Gf(e)?function(t,e){return Object.assign({type:oo.chatBotAnswerHelpful,chatGuid:t},e)}(_f(e),t):null},MM[bd]=function(t,e){return Nf(e)?t.agentId<=0&&!Gf(e)||t.agentId>0&&!function(t,e){var n=bf(t);return 0!==n.length&&!!n.find((function(t){return t===e}))}(e,t.agentId)?null:function(t,e){return{type:oo.chatBotSelectQuestion,chatGuid:t,question:{questionId:e.id,questionName:e.name},clickType:e.clickType,agentId:e.agentId,botId:e.botId||eo,senderType:e.agentId>0?1:3,senderId:e.agentId}}(_f(e),t):null},MM[qd]=function(t,e){return function(t,e){return Object.assign({type:oo.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(_f(e),t)},MM[Ud]=function(t,e){return function(t,e){return Object.assign({type:oo.visitorHandleBotForm,chatGuid:t},e,{senderType:e.agentId>0?1:3,senderId:e.agentId})}(_f(e),t)},MM[Gd]=function(t,e){return function(t,e){return Object.assign({type:oo.setBotVariable},e)}(_f(e),t)},MM[Ss]=function(t){return t===ip?{type:oo.enterOfflineMessage}:null},MM[ud]=function(t,e){var n=Um(e)?eo:vm(e);return jo([lo(t,n),Um(e)?Ro():null,uo(n),po(n)])},MM[uc]=function(t,e){return r_(e)?(lk("livechat.invitation.refuse"),go(ef(e),!0)):null},MM[pd]=function(t){var e=t.campaignId,n=t.alreadyCampaignId;return jo([mo(e,n),uo(e)])},MM[dd]=function(t,e){return e.window&&e.window.crossSiteChatTransfer?function(t){return jo([jv(t)])}(e):function(t){var e=vm(t),n=km(t),i=!!$b(ym(t),_m(t)),o=!ph(t)&&!Ab(km(t)).isEmbeddedPoppedOut&&!i,a=qv(t),r=Fv(t),s=Wv(t);return jo([].concat(n?[]:aO(t),[a&&lo(a,e),e!==eo||a?null:Do(),co(e,Mm(t)),mo(e),uo(e),o?Vo():null,r&&!i&&fo(e),s&&!i&&po(e),Lo()]))}(e)},MM[ld]=function(t,e){return function(t){var e=Um(t),n=vm(t),i=qh(t),o=co(n,Mm(t));if(!i){var a=Wv(t);return jo([o,e?Do():null,e?Ro():null,uo(n),a&&po(n)])}return o}(e)},MM[hd]=function(){return{type:oo.getConfig}},MM[fd]=function(t){return zo(t)},MM[ml]=function(t,e){var n=Eb(),i=Om(e,ef(e)),o=Lm(e);return Object.assign({},i,{lastChattedAgents:n,isFromKB:!0,artifact:o})},MM[gd]=function(t,e){var n=Gh(e)===mp||Gh(e)===gp||Gh(e)===fp,i=jg(e),o=mf(e),a=qg(e),r=t||a,s=_f(e);if(s){if(!Tr(o,a)){var c=jr(o,i);return c&&c!==r&&c!==i&&n?Mo(s,c):null}if(r&&n&&r!==i&&!Br(i,a,o))return Mo(s,r)}return null},MM[md]=function(){return Lo()},MM[Ls]=function(t){return{type:oo.showInvitation,invitationId:t}},MM)),CO=((OM={})[tc]=function(t,e){if(Gh(e)===gp){r_(e)?lk("livechat.invitation.accept"):lk("livechat.invitation.accept",jm(e));var n=Om(e,ef(e)),i=Eb();return jo([Object.assign({},n,{isPrechatDone:!0,lastChattedAgents:i})].concat(yO(e)))}return jo(yO(e))},OM),kO=function(t){return function(e){if(e instanceof Error)throw e;return t(e)}},IO=function(t,e){if(!t)return t;var n=Eg(e).chatVersion;return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{chatVersion:n})})),t):Object.assign(t,{chatVersion:n})},MO=function(t){var e=t.isNewWindow,n=function(t){return/^(https?:)?\/\//.test(t)?t:t&&"http://"+t}(t.url);e?V.open(n):z.href=n},OO=function(t){if(/^file:\/\//i.test(t))return"*";var e=t.match(/^[^:]+:\/\/[^/]+/);return e?e[0]:"*"};function AO(t,e,n){var i=OO(e);return{dispatch:function(e){t.postMessage(JSON.stringify(e),i)},subscribe:function(t){var e=function(e){e.origin===i&&t(e)};return(n?V:window).addEventListener("message",e),function(){return(n?V:window).removeEventListener("message",e)}}}}var BO,TO,jO,PO,FO,WO="removeOpener",NO="popin",VO="cobrowese-end",DO="restoreState",RO="getRestoreState",EO=((BO={})[Zu]=Bw,BO[Xu]=jw,BO[tp]=jw,BO[ip]=Tw,BO[ep]=Bw,BO[np]=Bw,BO[$u]=jw,BO),zO=function(t){null!=t&&(N.title=t)},LO=function(t){return t.window.messages&&t.window.messages.filter((function(t){return t.type!==ei}))},HO=function(t,e){var n=Cw(t,e);return n?function(){try{var t=N.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}},qO=function(t,e,n){var i=ym(t),o=_m(t),a=Mm(t),r=a.title,s=a.url,c=km(t),d=jm(t),l=Tm(t)||bu,u=["chatwindow.aspx","?siteId="+i,o?"&chatGroup="+o:null,T.version?"&version="+T.version:null,"&planId="+e,"#","&chatSource="+l,d?"&invitationId="+d:null,c?"&visitorGuid="+c:null,uh(t)?null:"&isStandbyServer=1",r?"&title="+encodeURIComponent(r):null,s?"&url="+encodeURIComponent(s):null,"&openType="+n].join(""),p=_h(t,u),h=HO(t,e),f=h.width,g=h.height,m=Math.max(f,380);return{win:V.open(p,""+"$brandingNameChatWindow".replace("$brandingName",V.brandingName)+i,"width="+m+",height="+g+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no"),url:p}},UO=!1,GO=function(){V.opener&&(V.opener=null),UO=!0,V.close()},KO=function(t,e){return{type:t,time:new Date,content:e,guid:Y(),sender:{type:cp}}};function YO(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function JO(t,e){YO(t,e)||(t.className=t.className+" "+e)}function QO(t,e){if(YO(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var ZO=function(t){var e=kh(t,"/webrtcSignalingService/signaling.ashx");PO&&e&&PO.start(e)},XO=function(t){var e=kh(t,"/webrtcSignalingService/signaling.ashx");FO&&e&&FO.start(e)},$O=function(){PO&&(PO.stop(),PO=null)},tA=function(){FO&&(FO.stopScreenSharing(),FO=null)},eA=((TO={})[Xe]=ZO,TO[xn]=ZO,TO[Ze]=$O,TO[$e]=$O,TO[tn]=$O,TO[Sn]=$O,TO[yn]=$O,TO[_n]=$O,TO[An]=$O,TO[Bn]=$O,TO[sn]=$O,TO[cn]=$O,TO[kn]=$O,TO[Mn]=$O,TO[On]=$O,TO[nn]=$O,TO[an]=$O,TO[rn]=$O,TO[In]=ZO,TO[on]=ZO,TO[ki]=XO,TO[Ii]=tA,TO[Ci]=tA,TO[Mi]=tA,TO[Vi]=tA,TO[Li]=tA,TO[Bi]=XO,TO[Ti]=tA,TO[Ai]=tA,TO[ji]=tA,TO),nA=((jO={})[Xe]="livechat.chat.video.start",jO[xn]="livechat.chat.audio.start",jO[tn]="livechat.chat.video.stop",jO[Sn]="livechat.chat.audio.stop",jO[cn]="livechat.chat.video.stop",jO[Bn]="livechat.chat.audio.stop",jO[On]="livechat.chat.audio.stop",jO[rn]="livechat.chat.video.stop",jO[In]="livechat.chat.audio.start",jO[on]="livechat.chat.video.start",jO[vn]="livechat.chat.audio.request",jO[Qe]="livechat.chat.video.request",jO[Cn]="livechat.chat.audio.request",jO[en]="livechat.chat.video.request",jO[$e]="livechat.chat.video.refuse",jO[yn]="livechat.chat.audio.refuse",jO[an]="livechat.chat.video.refuse",jO[Mn]="livechat.chat.audio.refuse",jO[Ze]="livechat.chat.video.cancel",jO[nn]="livechat.chat.video.cancel",jO[_n]="livechat.chat.audio.cancel",jO[kn]="livechat.chat.audio.cancel",jO[An]="livechat.chat.audio.noanswer",jO[sn]="livechat.chat.video.noanswer",jO),iA=function(t,e){return ff(t).filter((function(t){return t.type===e})).length>0},oA=null,aA=Math.pow(2,31),rA=aA-6,sA=aA-5,cA=aA-4,dA=aA-7,lA=aA-5,uA=dA+1,pA=aA-1,hA=!ot,fA=0===V.location.href.indexOf("https://")||!1,gA="glance_ssn_info";var mA=function(t,e){var n=M(t),i=S(t);return"#glance_cobrowse_btn>:not(#glance_scrim):not(#glance_confirm):not(#glance_msg_box){display:none !important}#glance_cobrowse_btn{z-index:"+pA+' !important}#glance_confirm{width:240px;padding:30px;color:#000 !important;border-radius:4px;background:#fff;font-size:14px;box-shadow:0px 0px 10px rgba(0,0,0,0.2);}#glance_confirm_msg{padding-bottom:20px;}#glance_confirm_msg::before{content:"'+e+'";}#glance_yes,#glance_no{padding:5px 10px;border-radius:3px;text-decoration:none !important;display:inline-block;margin:0 10px !important;font-weight:normal !important;}#glance_yes{background-color:'+n+";color:#"+(i?"#3c3c3c":"#fff")+" !important;border:none !important;}#glance_no,#glance_no:hover{border:1px solid #ccc !important;color:#000 !important;}"},wA="#f1d00f",bA=N.createElement("div");function vA(t){if(!function(t){var e="livechat-test-cookie-key",n="value";N.cookie=e+"="+n+";domain="+t;var i=N.cookie.indexOf(e+"="+n)>=0;return N.cookie=e+"=;domain="+t+";expires=Thu, 01 Jan 1970 00:00:00 GMT;",i}(t))return null;var e=t.split(".");if(e.length<=1)return t;e.shift();var n=vA(e.join("."));return n||t}bA.id="branding-cobrowse-border",Object.assign(bA.style,{position:"fixed",pointerEvents:"none",top:0,bottom:0,right:0,left:0,margin:"auto",borderStyle:"solid",borderWidth:"3px",borderColor:wA}),bA.style.position="fixed";var _A,xA=V.location.search.indexOf("cobrowseDebug")>=0,yA=function(t,e){return _A?(_A.textContent=mA(t,e),Promise.resolve()):at("style",{textContent:mA(t,e)},N.head,(function(){return!0})).then((function(t){_A=t}))},SA=rt((function(t,e){var n={src:t,id:"cobrowsescript","data-groupid":e,"data-site":"production",charset:"UTF-8"},i=vA(V.location.host);return i?n["data-cookiedomain"]=i:n["data-cookietype"]="ls",at("script",n,N.head,(function(){return V.GLANCE}))}));var CA=[],kA=!1,IA=function(t,e){return t.output.payload.find((function(t){return t.type===e})).payload},MA=function(t,e,n,i,o,a){return $M(t,jo([Vo(),To(),Bo()])).then((function(r){if((IA(r,oo.restoreChat)||{}).guid!==o.chatGuid)throw new Error("try to restore cross site chat but chat guid not match.");return wM(e,o.campaignId,t.replace(/\/visitor.ashx.*$/i,"/campaign.ashx?siteId="+o.siteId+"&campaignId="+o.campaignId),a).then((function(){var t=function(t,e){var n=Object.assign({},e.agents||{});return(IA(t,oo.getAgents)||[]).forEach((function(t){n[t.id]||(n[t.id]=t)})),Object.values(n)}(r,o);t.forEach((function(t,n){return e(Ix({id:t.id,entity:Object.assign({},t,{index:n}),fetchStatus:Pu}))}));var a=IA(r,oo.getDepartments);a&&a.forEach((function(t){return e(Mx({id:t.id,entity:t,fetchStatus:Pu}))})),e(nx(n,o,i))}))}))},OA=function(t,e){var n=Cw(t,e);return n?function(){try{var t=document.getElementById("chat_window_container");if(!t)return null;var e=t.contentWindow.document.querySelector(".whole-window").getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){return null}}()||n:{width:360,height:600}};var AA="sso-login",BA="setLocation",TA="closeLocation",jA="customVariableLogin",PA="webViewLinkDone",FA="popoutScreenSharingClose";function WA(t,e){if(!e||0===e.length)return!1;var n=function(t){var e=t.map(a).join("|");return new RegExp("\\b"+e+"\\b","i")}(e);return n.test(t)}var NA;NA=r(s,(function(t){t.dispatch;var e=t.getState;return function(t){var n,i=((n={})[tc]=function(e,n){var i=function(t){return function(t){var e=!1;return{data:t,cancel:function(){e=!0},isCancelled:function(){return e}}}({text:t})}(e.payload.message);!function(t,e){dk[t]&&dk[t].forEach((function(t){try{t(e)}catch(t){}}))}("livechat.chat.visitor.sendText",i),i.isCancelled()||t(e)},n[Kl]=function(e,n){t(Ex(e.payload))},n);return function(n){var o=i[n.type];if(!o)return t(n);o(n,e())}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i,o=((i={})[tc]=function(n,i){if(WA(n.payload.message,function(t){return t.configuration.restrictedWords}(i)))throw setTimeout((function(){return e(FS())}),0),new Error(p_(i,"promptRemoveRestrictedWords"));t(n)},i);return function(e){var i=o[e.type];if(!i)return t(e);i(e,n())}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o=n();if(i.type===_s&&!i.payload.isRestoreChat&&!Fm(o,i.payload.campaignId)){var a=ww(o,i.payload.campaignId);if(a)return MO(a),null}if(i.type===Ss&&i.payload===ip){var r=ef(o),s=ww(o,r);if(s)return MO(s),s.isNewWindow&&e(jy()),e(RS()),null}return t(i)}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i=null,o=function(t){return function(e){return t(JSON.parse(e.data))}},a=function(e){var a=e.win,r=e.url;if(!i)var s=(i=AO(a,r,!0)).subscribe(o((function(e){if(e.type===NO)s(),i=null,V.focus(),t(E_(e.payload)),Bb({isEmbeddedPoppedOut:!1},km(n()));else if(e.type===VO)try{V.GLANCE.Cobrowse.Visitor.stopSession()}catch(t){}else if(e.type===RO){var o=V.restoreState;i&&i.dispatch({type:DO,payload:o})}})))},r=function(t){i&&i.dispatch({type:NO,payload:t})};return V.addEventListener("beforeunload",(function(t){var e=n();if(ph(e)&&bw(e,vm(e))&&!UO&&!Gg(e)){if(dg(e)){var i=p_(e,"audioVideoChangeWindowType"),o=t||V.event;return o.stopPropagation(),o.preventDefault(),o.returnValue=i,i}r(e)}})),V.addEventListener("unload",(function(){dg(n())&&(e(nC()),r(n()))})),function(s){var c=n();if(!c)return t(s);if(s.type===Wc&&null==i&&d_(c))var d=Mm(c).url||N.referrer,l=(i=AO(V.opener,d,!0)).subscribe(o((function(e){e.type===WO?(l(),V.opener=null,t(F_())):e.type===DO&&t(E_(e.payload))})));if(s.type===Ss&&ph(c)&&(zO(p_(c,EO[s.payload])),tt(V.location.href,"ssoInfo"))){var u,p=tt(V.location.href,"ssoInfo");if(s.payload===Xu||s.payload===$u||s.payload===ep){u=KS(p),e(u);var h=V.location.href.substring(0,V.location.href.indexOf("&ssoInfo="));V.history.replaceState(V.history.state,N.title,h)}}if(s.type===dl&&ph(c)){var f=$h(c);zO(p_(c,EO[f]))}if(s.type===_s){var g=s.payload.campaignId,m=(Ab(km(c))||{}).isEmbeddedPoppedOut,w=bw(c,g);if(!ph(c)&&(m||!w)){var b=qO(c,g,_s);return m&&a(b),null}}if(s.type===xs){var v=ef(c);if(!ph(c)){a(qO(c,v,xs)),Bb({isEmbeddedPoppedOut:!0},km(c));var _=_f(c);_&&(Rb(_),Wf(c)&&(c.window.messages=LO(c))),i&&V.addEventListener("beforeunload",(function(){i.dispatch({type:WO})})),V.restoreState=c}}if(s.type===ys&&ph(c)){var x=_f(c);return x&&(Rb(x),Wf(c)&&(c.window.messages=LO(c))),r(c),GO(),null}if(s.type===Cl)return i&&i.dispatch({type:VO}),null;if((s.type===Ld||s.type===Ac&&s.payload===tu)&&ph(c)){var y=t(s);return y&&y.catch?(Promise.race([y.catch((function(){})),nt(3e3)]).then(GO),null):(GO(),null)}return s.type===Wl&&i&&i.dispatch({type:RO}),t(s)}}}),(function(t){var e=t.getState,n=t.dispatch;return function(t){return function(){var i=B(P().mark((function i(o){var a,r,s,c,d,l,u,p,h,f,g,m;return P().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=function(){var t=B(P().mark((function t(i){var o,a,r;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(oA){t.next=7;break}return t.next=3,it((function(){return import("./p2pChat.2e3a6f22.js")}),(function(){n($x("Error loading modules. Please refresh the page and try again."))}));case 3:if(o=t.sent,oA=o&&o.default){t.next=7;break}return t.abrupt("return",null);case 7:return a=W(kh(e(),"/webrtcSignalingService/Statistics")),(r=new oA(Object.assign({},i,{visitorId:km(e()),siteId:ym(e()),url:a}))).onevent((function(t,e){if("error"===t)n(nC()),n(iC());else if("start"===t){if(!PO&&!FO)return;if(PO){var i=PO.getRemoteVideo();i&&JO(i,"mediaChatWindow__remoteVideo--loading")}if(FO){var o=FO.getRemoteScreenSharingVideo(),a=FO.getLocalScreenSharingVideoItem();o&&!a&&JO(o,"mediaChatWindow__remoteVideo--loading")}}else if("remoteStreamReceived"===t){if(!PO&&!FO)return;if(PO){var r=PO.getRemoteVideo();r&&QO(r,"mediaChatWindow__remoteVideo--loading")}if(FO){var s=FO.getRemoteScreenSharingVideo();s&&QO(s,"mediaChatWindow__remoteVideo--loading")}}})),t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=e(),s=function(){n(iC())},o.type!==Vs){i.next=13;break}if(PO){i.next=8;break}return i.next=7,a({chat:_f(r),actionType:"audioVideo"});case 7:PO=i.sent;case 8:return Vb(_f(r)),PO.requirePermission(!1).then((function(){var e=KO(li,"");n(eC([e])),t(o)})),i.abrupt("return",null);case 13:if(o.type!==Ds){i.next=23;break}if(PO){i.next=18;break}return i.next=17,a({chat:_f(r),actionType:"audioVideo"});case 17:PO=i.sent;case 18:return Vb(_f(r)),PO.requirePermission(!0).then((function(){var e=KO(di,"");n(eC([e])),t(o)})),i.abrupt("return",null);case 23:if(o.type!==Rs){i.next=34;break}if(t(o),FO){i.next=29;break}return i.next=28,a({chat:_f(r),actionType:"screenSharing"});case 28:FO=i.sent;case 29:return Vb(_f(r)),FO.requireScreenSharingPermission(s).then((function(){if(nm(e()))tA();else{var t=KO(Di,"");n(eC([t]))}})).catch((function(){t(BS())})),i.abrupt("return",null);case 34:if(o.type!==ql){i.next=41;break}return i.next=37,a({chat:_f(r),actionType:"screenSharing"});case 37:(FO=i.sent)&&(FO.setScreenSharingVideoContainers(o.payload),FO.requireScreenSharingPermission(s).then((function(){XO(r);var e=KO(zi,"");n(eC([e])),t(o)}))),i.next=42;break;case 41:o.type===xs?($O(),tA(),Db(_f(r))):o.type===ys&&($O(),tA());case 42:if(c=t(o),d=e(),l=sg(d),u=sg(r),p=em(r),h=em(d),o.type!==Pd){i.next=52;break}PO&&PO.hideVideos(),i.next=98;break;case 52:if(o.type!==zl){i.next=56;break}FO&&FO.hideScreenSharingVideos(),i.next=98;break;case 56:if(o.type!==kd){i.next=61;break}Vb(_f(d)),PO&&PO.setVideoContainers(o.payload.localVideoContainer,o.payload.remoteVideoContainer,o.payload.unmuteRemoteContainer),i.next=98;break;case 61:if(o.type!==Ll){i.next=65;break}FO&&FO.setScreenSharingVideoContainers(o.payload.localVideoContainer,o.payload.remoteVideoContainer),i.next=98;break;case 65:if(o.type!==Xs){i.next=81;break}if(o.payload.forEach((function(t){f=nA[t.type]})),f&&lk(f),(PO||FO)&&o.payload.forEach((function(t){var e=eA[t.type];e&&e(d)})),PO||l!==ba&&l!==_a){i.next=74;break}return i.next=72,a({chat:_f(d),actionType:"audioVideo"});case 72:(PO=i.sent)&&PO.requirePermission(l===ba).then((function(){return ZO(d)}));case 74:if(FO||h!==ka&&h!==Ia){i.next=79;break}return i.next=77,a({chat:_f(d),actionType:"screenSharing"});case 77:(FO=i.sent)&&(h===ka?Promise.resolve().then((function(){return XO(d)})):FO.requireScreenSharingPermission(s).then((function(){return XO(d)})));case 79:i.next=98;break;case 81:if(o.type!==Od){i.next=89;break}if(PO){i.next=86;break}return i.next=85,a({chat:_f(d),localVideoContainer:o.payload.localVideoContainer,remoteVideoContainer:o.payload.remoteVideoContainer,unmuteRemoteContainer:o.payload.unmuteRemoteContainer,actionType:"audioVideo"});case 85:PO=i.sent;case 86:PO&&PO.requirePermission(l===ga).then((function(){var t=KO(ui,l);n(eC([t]))})),i.next=98;break;case 89:if(o.type!==Hl){i.next=97;break}if(FO){i.next=94;break}return i.next=93,a({chat:_f(d),remoteScreenSharingVideoContainer:o.payload.remoteVideoContainer,actionType:"screenSharing"});case 93:FO=i.sent;case 94:FO&&Promise.resolve().then((function(){var t=KO(Ri,h);n(eC([t]))})),i.next=98;break;case 97:o.type===Id?($O(),iA(d,pi)||(g=KO(pi,u),n(eC([g])))):o.type===Md?(tA(),iA(d,Ei)||(m=KO(Ei,p),n(eC([m])))):o.type===Ad?(PO&&PO.unmuteRemote(),FO&&FO.unmuteRemote()):o.type===Ul&&(o.payload?FO&&FO.stopScreenSharing():XO(d));case 98:return i.abrupt("return",c);case 99:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()}}),(function(t){var n=t.getState;return function(i){var o=function i(o,a,r){void 0===r&&(r=function(t){return Promise.resolve(t)});var s=Fh(n()),c=Fo(o,oo.sendChatMessages);s&&c&&(c.messages=function(t,n){return t.map((function(t){var i=t.content,o=F(t,_O);return Object.assign({content:o.encoding?i:e.Base64.encode(i),encoding:n},o)}))}(c.messages,s)),function(t,e){Fo(e,oo.recoverVisitor)&&(t.dispatch(W_(!0)),t.dispatch(D_(!0)))}(t,o);var d=Tv(n());return n().page.isSubmitSSO?null:(function(t,e){Fo(e,oo.submitSSOInfo)&&t.dispatch(bx(!0))}(t,o),$M(a_(n()),function(t){if(!t)return t;var e=yb();return t.actions?(t.actions.forEach((function(t){return Object.assign(t,{sessionId:e})})),t):Object.assign({},t,{sessionId:e})}(o),a,d).then((function(t){return t})).then(iO(t)).then(r).then((function(e){return kM(t,e),function(t,e){Po((function(e){oO.indexOf(e.type)<0&&t.dispatch(R_()),e.type===oo.recoverVisitor&&t.dispatch(D_(!1))}),e.input)}(t,e),e})).catch(kO((function(t){var e=t.error.code;throw-1!==[nM,aM].indexOf(e)&&t.error.serverInstanceTag,t}))).catch(kO(bO(t,i,a,r))).catch(kO(function(t){var e=t.getState,n=t.dispatch;return function(t){if(t.input.type===oo.getVisitorInfo)n(qy(null));else if(Fo(t.input,oo.submitSSOInfo))n($x(t.error.message));else{var i=t.error.code;if(-1!==[oM,nM,iM,aM].indexOf(i)){var o=e();qh(o)&&(qf(o)||Gh(o)===gp)&&n($x(p_(e(),Fw))),n(W_(!1))}else if(1024===i||1032===i)n(j_());else if(7601===i)t.error.message&&n($x(t.error.message));else if(4342339===i)n($x("Oops.We're getting problems to the chatbot. Please refresh this page to chat with a live agent.")),n(W_(!1));else if(1037===i)n($x(t.error.message)),n(W_(!1));else if(9002===i){n($x(t.error.message));var a=Fo(t.input,oo.sendChatMessages);a&&n(VS(a.messages))}else{if(Fo(t.input,oo.recoverVisitor))throw t;if(i!==rM){var r=p_(e(),"promptServerException");r&&n($x(r.replace("{errorCode}",i)))}else{var s=t.input;s.type===oo.requestChat&&s.isFromKB&&n($x(t.error.message))}}}throw t}}(t))).catch(kO(function(t){var e=t.getState,n=t.dispatch;return function(t){var i=t.input;if(!Fo(i,oo.recoverVisitor)||!t.error)throw t;20===e().app.recoverFailTimes&&(n(W_(!1)),n($x(p_(e(),Fw)))),n(V_()),n(D_(!1))}}(t))).catch(kO(function(t){var e=t.dispatch,n=t.getState;return function(t){throw t.error.code===nM&&$M(a_(n()),No({visitorGuid:km(n()),visitorId:hb()})).catch((function(t){var n=t.error.code;throw 1024!==n&&1032!==n||e(j_()),t})),t}}(t))).catch(kO(function(t){var e=t.dispatch,n=t.getState;return function(t){if(2003===t.error.code){var i=t.error,o=i.ssoServiceUrl,a=i.artifactServiceUrl,r=i.issuer,s=n(),c=ym(s),d=Lm(s)||"",l=Sh(s,(d?a:o)+"?siteId="+c+"&issuer="+r+"&artifact="+d+"&cookieId="+km(s)),u=Kg(s);e(uy()),e(Fx(l,"showPrelogin"===u)),e(Px($u))}throw t}}(t))).catch(kO((function(e){throw 1===e.error.code&&t.dispatch(Jy()),e}))))},a=function(t,e,n,a,r){return o(e,null,n).catch((function(e){var n=e.message;if(e.error&&318===e.error.code){var o=u_(r,vm(r));n=U[o].recaptchaFailure}throw i(OC(t)),i($x(n)),a&&a(n),e}))};return function(t){t.type===pl?vO(i,t.payload,n()):t.type===hl?function(t,e,n){var i=e.link;t(Ax(gl,{url:i}))}(i,t.payload,n()):t.type===_d&&i(t);var e=SO[t.type];if(e){var r=e(t.payload,n());if(r){IO(r,n());var s=o(r);if(t.type===hd||t.type===dd||t.type===Xc||t.type===pd||t.type===fd)return s;if(t.type===Ac&&t.payload===tu&&ph(n()))return s;if(t.type===_d)return s}return i(t)}if(t.type===Qc)return gh(n())||(o(fo(vm(n()))),function(t){return Object.keys(t.page.buttons)}(n()).forEach((function(t){return o(function(t){return{type:oo.getIfOnline,campaignId:t}}(t))}))),null;if(t.type===ec){var c=t.payload.file;if(!c)return null;if(Wf(n()))return null;var d=Ah(n()),l=Jf(n()),u=function(t){return t.configuration.attachmentMaxCount}(n()),p=f_(n()),h=w_(n());return l>=u?(i(cy(Op,{fileCount:u})),Promise.resolve()):c.size>d*Math.pow(2,20)?(setTimeout((function(){i(cy(Cp,{fileSize:d}))}),1e3),Promise.resolve()):0===c.size?(i(cy(kp)),Promise.resolve()):(i(t),o(_o(!0,_f(n()))).then((function(e){var a=e.output.payload,r=g_(n()),s=function(e){return o(function(t,e,n,i,o,a,r,s){return ao({type:oo.sendFile,chatGuid:e,visitorGuid:i,siteId:n,fileServiceUrl:o,standbyFileServiceUrl:a,token:r,fileName:s},t)}(e,t.meta,ym(n()),km(n()),p,h,a,t.payload.fileName),(function(e,n){return i(Bx(t.payload.fileName,e,n))})).then((function(t){var e=t.output;return i(Tx(e))})).catch(kO((function(t){var e=t.error;return i(jx(e))}))).catch((function(t){return i(jx({message:t.message}))}))};return r&&Wr(c)?Lr(c).then((function(t){return s(t)})):s(c)})).catch(kO((function(t){var e=t.error;return i(jx(e))}))).catch((function(t){return i(jx({message:t.message}))})))}if(t.type===ad){var f=t.payload,g=f.form,m=f.onSuccess,w=f.onError,b=Om(n(),ef(n())),v=Object.assign({},b,{lastChattedAgents:Eb(),ticketId:g.ticketId||b.ticketId,departmentId:null==g.department?b.departmentId:void 0,isPrechatDone:!0,skipSSO:!0});a(bp,jo([bo(g,ef(n())),v]),m,w,n())}else if(t.type===id){var _=n(),x=Mv(_),y=x&&x.campaignId?x.campaignId:ef(_),S=t.payload,C=S.form,k=S.onSuccess,I=S.onError,M=_f(_),O=Object.assign({},Bm(_));M&&(O.chatGuid=M);var A=function(t){var e=t&&{name:t.name,fileKey:t.key};a(_p,function(t,e,n){return{type:oo.submitOfflineMessage,campaignId:t,form:e,source:n}}(y,Object.assign({},C,{attachment:e}),O),k,I)};if(C.attachment){var B=function(t,e,n,i){var o=xv(t,_p,n);if(o&&o.length>0){var a=o.filter((function(t){return t.type===i}));if(a.length>0)return a[0]}return""}(n(),0,y,ta),T=C.attachment,j=function(t){return o(_o(!1)).then((function(e){var a=e.output.payload;o(function(t,e,n,i,o,a){return ao({siteId:e,fileServiceUrl:n,standbyFileServiceUrl:i,token:a,fileName:o.name},o)}(0,ym(n()),f_(n()),w_(n()),t,a)).then((function(t){var e=t.output;return A(Object.assign({},e))})).catch((function(t){t.input;var e=t.error;i(OC(_p)),i(SC(_p,B.id,e.message))}))})).catch((function(t){t.input;var e=t.error;i(OC(_p)),i(SC(_p,B.id,e.message))}))};g_(n())&&Wr(T)?Lr(T).then((function(t){return j(t)})):j(T)}else A()}else if(t.type===od){var P=_f(n()),F=t.payload,W=F.form,N=F.onSuccess,V=F.onError;a(vp,function(t,e,n){return{type:oo.submitPostChat,chatGuid:t,form:e,campaignId:n}}(P,W,nf(n())),N,V).then((function(){return i(Px(ep))}))}var D=i(t),R=CO[t.type];if(R){var E=R(t.payload,n());IO(E,n()),E&&o(E)}return D}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){if(!n())return t(i);var o,a=Sm(n());if(i.type===us){var r=i.payload,s=r.guid,c=r.ifNewVisitor,d=r.sessionId,l=r.migrationInfo,u=r.persistentVisitor;if(s&&(mb(s,a),Hw(pb())),d&&xb({sessionId:d},a),c){var p=_b(a),h=p.firstVisitTime,f=p.visitTimes;xb({firstVisitTime:h||(new Date).getTime(),visitTimes:(f||0)+1},a)}u&&xb({persistentVisitor:u},a),l&&xb(Object.assign({},l),a)}if(i.type===gs&&i.payload&&function(t,e){var n=bb(wb(e)).navigation||[];cb.setItem(wb(e),JSON.stringify(Object.assign({},_b(e),{navigation:n.concat(t)})))}(i.payload,a),i.type===ms&&(o=a,cb.setItem(wb(o),JSON.stringify(Object.assign({},_b(o),{navigation:[]})))),i.type===ed){var g=_b(a),m=g&&g.form&&void 0!==g.form.email?Object.assign({},g.form,{email:i.payload}):{};void 0!==m.email?xb({email:i.payload,form:m},a):xb({email:i.payload},a)}if(i.type===Ss&&i.payload===tp){var w,b=gw(n(),ef(n())).routeDepartment;b&&(w={department:b});var v=_b(a),_=af(n());w=Object.assign({},!_.isForgetPrechat&&v?v.form:{},w,ph(n())?OI():{}),Object.keys(w).length>0&&t(BC(w))}if(i.type===Ss&&i.payload===ip){var x,y=gw(n(),ef(n())).routeDepartment;y&&(x={department:y});var S=_b(a);(x=Object.assign({name:S.name?S.name:"",email:S.email?S.email:""},S?S.form:{},x,ph(n())?OI():{}))&&t(BC(x))}if(i.type===hs){var C=i.payload;if(C.isManual&&C.chat){var k=C.chat.guid,I=Cb(k,a),M=I.windowStatus,O=I.maxReadId;if(M){var A=t(Object.assign({},i,{payload:Object.assign({},i.payload,{windowStatus:M})}));return null!=O&&e(My(O)),A}}}var B=n(),T=qf(B),j=t(i),P=n();if(a=ym(P),i.type===el||i.type===il){var F=_b(),W=F||{},N=W.name,V=W.email,D=Object.assign({},i.payload);F&&F.form?xb({name:D.name&&D.name!==N?D.name:N||"",email:D.email&&D.email!==V?D.email:V||"",form:Object.assign({},F.form,{name:F.form.name&&D.name?D.name:N||"",email:F.form.email&&D.email?D.email:V||""})},a):xb({name:D.name&&D.name!==N?D.name:N||"",email:D.email&&D.email!==V?D.email:V||""},a)}if(i.type===il&&bp===i.meta&&!af(P).isForgetPrechat){var R=Object.assign({},i.payload);delete R.department,delete R.ticketId,delete R.captcha,xb({form:R},a)}var E=qf(P),z=_f(P);if(!T&&E){var L=Cm(P);L!==Zl&&L!==$l&&L!==Xl||Mb(z,{windowStatus:L},Sm(P))}if(i.type===Ac){var H=i.payload===$l||i.payload===Zl||i.payload===Xl,q=r_(P);(E||q)&&H&&Mb(z,{windowStatus:i.payload},Sm(P))}if(i.type===Uc||i.type===Ac||i.type===Xs||i.type===ul){var U=If(B),G=If(P);U!==G&&Mb(z,{maxReadId:G},Sm(P))}return i.type===Xs&&i.payload.forEach((function(t){var e=t.content,n=t.type;if(n!==Ne&&n!==Hn||function(t,e){var n=_b(e)||{},i=n.chatTimes;n.lastChatGuid!==t&&xb({chatTimes:(i||0)+1,lastChatGuid:t},e)}(_f(P),a),n===Re||n===Ne||n===qe){if(e.agent){var i=_f(P);MI!==i&&(MI=i,xb({lastChattedAgents:[]},void 0)),function(t,e){var n=(_b(e)||{}).lastChattedAgents||[];if(-1===n.indexOf(t)&&Number.isNaN(Number(t))){var i=n.concat([t]);xb({lastChattedAgents:i},e)}}(e.agent.id)}}else n===De&&e.agent&&function(t,e){var n=(_b(e)||{}).lastChattedAgents||[];if(-1!==n.indexOf(t)){var i=n.filter((function(e){return e!==t}));xb({lastChattedAgents:i},e)}}(e.agent.id);n===ve||n===Ve?Jb():n===Pn&&Ub()!==e.ssoInfo&&(qb(e.ssoInfo),Yb())})),i.type===qc&&Jb(),i.type===Hc&&(i.payload?cb.setItem(ib,!0):cb.removeItem(ib)),j}}}),(function(t){t.dispatch;var e=t.getState;return function(t){return function(n){var i=e();if(n.type===Wc){var o=ym(i),a=_m(i),r=$b(o,a);if(r){var s=Cb(r.chatGuid,r.siteId),c=vm(i);o_(r),function(t,e,n,i,o){var a=o_(i);return MA(a,t,e,n,i,o).catch((function(a){var r=a&&a.error&&a.error.code;if(r===rM||r===oM){var s=o_(i);return MA(s,t,e,n,i,o)}throw a}))}(t,c,s,r,i).then((function(){t(n)})).catch((function(e){Zb(o,a),t(n)}))}else t(n)}else n.type===Fl?(n.payload.window.crossSiteChatTransfer&&Xb(ym(n.payload),_m(n.payload),Mv(n.payload)),t(n)):t(n)}}}),(function(t){var e=t.getState;return function(t){var n=function(t,e){var n=$((function(){return e(Fy())}),1e4,!1);return function(e){var i=e.type,o=e.sender,a=e.content,r=t();if(i===Le)n();else if(i===Re||i===Ne||i===qe){var s=a.agent;lk("livechat.chat.agent.join",s)}else if(i===Ee||i===He){var c=uw(r,o.id);lk("livechat.chat.agent.transfer",c)}else if(i===De){var d=uw(r,o.id);lk("livechat.chat.agent.leave",d)}}}(e,t);return function(e){var i=t(e);return e.type===Xs&&e.payload.forEach(n),i}}}),(function(t){return function(e){return function(n){var i=t.getState(),o=wh(t.getState());n.type===Hc&&n.payload&&VI.stop(i_(i,FI)),n.type!==xs&&n.type!==ys||VI.stop(i_(i,FI));var a=e(n),r=t.getState();if(!lh(r))return null;var s=function(t){var e=af(t);return e&&e.notification}(r),c=If(i);if(n.type===qc&&lk("livechat.chat.end"),n.type===Xs){var d=Gh(i),l=Gh(r);d!==l&&(l===mp?lk("livechat.chat.start",_f(r)):l===wp&&lk("livechat.chat.end"));var u=0,p=0,h=0,f=0;n.payload.forEach((function(t){if(dr(t)&&t.id&&!(t.id<=c)&&(pr(t.type)&&(p+=1),hr(t.type)&&(f+=1),!v||t.type!==Cn&&t.type!==vn&&t.type!==en&&t.type!==Qe||(u+=1),!v||t.type!==Oi&&t.type!==Si&&t.type!==Pi?pr(t.type)&&t.type!==In&&t.type!==on&&t.type!==xn&&t.type!==Xe?o||DI(i_(r,WI)):hr(t.type)&&t.type!==Bi&&t.type!==ki?o||DI(i_(r,"screensharing-end")):t.type!==ln&&t.type!==pn&&t.type!==fn&&t.type!==hn&&t.type!==dn&&t.type!==wn&&(o||DI(i_(r,"new-response"))):h+=1,t.type!==Ne)){if(t.sender.type===dp){var e=null;switch(t.type){case En:e=Z(function(t){var e=t.content.intentAnswers[0];return e.type===hk?EI(e.content):e.type===gk||e.type===vk?e.content.name:e.type===mk?"[Video]":e.type===_k?EI(e.content.text):e.content.text}(t),0,48);break;case Un:e=t.content.message+" "+t.content.signInText;break;case Gn:case Qn:case Jn:e=t.content.message}if(null!=e){var n=_h(r,"/visitorside/images/logo60.png");return Wh(r)&&(n=""),void RI(e,n)}}if(s){var i="string"==typeof t.content?t.content:t.content.text,a=_h(r,"/visitorside/images/logo60.png");Wh(r)&&(a=""),RI(i,a)}}})),(u>0||p>0)&&(u>p?o||VI.play(i_(r,FI),!0):VI.stop(i_(r,FI))),(h>0||f>0)&&(h>f?o||VI.play(i_(r,NI),!0):VI.stop(i_(r,NI)))}var g=Mg(i),m=Mg(r),w=Ig(i),b=Ig(r)||m;if(g||!m||o?g&&!m&&VI.stop(i_(r,FI)):VI.play(i_(r,FI),!0),(w||g)&&!b&&r.window&&(o||DI(i_(r,WI))),s&&Nf(r)&&!Nf(i)&&PI(),n.type===ls){var _=n.payload.campaignId;if(Fm(i,_)!==Fm(r,_)){var x=gw(r,n.payload.campaignId),y=Fm(r,_);lk(y?"livechat.button.online":"livechat.button.offline",x)}}if(n.type===xd){var S=wf(i),C=wf(r);C.position===S.position&&C.waitTime===S.waitTime||lk("livechat.chat.waitingQueue.update",C)}return a}}}),(function(t){var e=t.getState,n=t.dispatch,i=function(){var t=Lw(gA),e="";try{e=JSON.parse(decodeURIComponent(t)).ssnid.split(".")[2]}catch(t){}n(uC(e))},o=function(){n(gC())},a=function(t){var e=t&&t.enabled;bA.style.borderColor=e?"#cd0808":wA},r=function t(r){var s=V.GLANCE.Cobrowse.Visitor;try{s.removeEventListener("sessionend",t),s.removeEventListener("sessionstart",i),s.removeEventListener("rc",a),s.removeEventListener("error",o),N.body.removeChild(bA)}catch(t){}e().window&&n(gC())},s=function(t,e,n,s,c){var d=function(){var t=Lw(gA);if(!t)return null;try{return JSON.parse(decodeURIComponent(t))}catch(t){return null}}(),l=!c;if(l&&!d){var u={ssnid:e+"."+n+"."+s,R:1,yb:!0,Od:!1,Fa:[vA(V.location.host)],boxstate:3,expanded:!1};qw(gA,encodeURIComponent(JSON.stringify(u)))}return SA(t,e).then((function(){var t=V.GLANCE.Cobrowse,e=t.VisitorUI,s=t.Visitor;try{e.showButton(!0),l||s.startSession(n),s.addEventListener("sessionend",r),s.addEventListener("sessionstart",i),s.addEventListener("rc",a),s.addEventListener("error",o),CA.forEach((function(e){try{var n,i=e[0],o=e[1],a=e.slice(2);(n=t[i])[o].apply(n,a)}catch(t){}})),N.body.appendChild(bA)}catch(t){}CA=[]}))};return function(t){return function(i){var o=e(),a=Ig(o),r=Mg(o),c=t(i),d=e(),l=Ig(d),u=Mg(d),p=function(t){return!ph(t)}(d),h=p&&hA&&fA;if(kA&&Yv(d)){var f=rf(d),g=__(d);yA(f,g),kA=!1}if(!r&&u&&(h||(t(Ky()),hA?p?fA||n(mC()):n(hC()):n(fC()))),!a&&l){var m=function(t){return t.window.cobrowseSessionCode}(d),w=function(t){return t.window.cobrowseGroupId}(d),b=function(t){return t.window.cobrowseCallId||""}(d),v=xA?bh(e(),"cobrowse/GlanceCobrowseLoader_3.3.0M.js"):"https://www.glancecdn.net/cobrowse/CobrowseJS.ashx?group="+w+"&site=production";if(h){if(Yv(d)){var _=rf(d),x=__(d);yA(_,x)}else kA=!0;s(v,w,m,b,r)}}if(a&&!l&&d.window)if(V.GLANCE){var y=V.GLANCE.Cobrowse.Visitor;try{y.stopSession()}catch(t){}}else ph(d)&&d_(o)?n(Yy()):CA.push(["Visitor","stopSession"]);return c}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){var o,a=n();if(i.type!==vc||Yg(a)){if(i.type===_c){var r=cf(a),s=tt(r,"returnUrl"),c=V.location.href.replace("#",""),d=decodeURIComponent(s)+(s.indexOf("?")>0?"&":"?")+"return="+encodeURIComponent(c),l=Ym(a),u=l?"&jwt="+l:"";z.href=r.substring(0,r.indexOf("returnUrl="))+"returnUrl="+encodeURIComponent(d)+u}}else{var p=ym(a),h=cf(a),f=window.location.href.match(/^[^:]+:\/\/[^/]+/)[0],g=h+encodeURIComponent("?target="+f),m=Ym(a),w=g+"&color=ffffff"+(m?"&jwt="+m:""),b="",v=tt(h,"returnUrl");v&&(b=v.match(/^[^:]+:\/\/[^/]+/)[0]);var _=vm(a),x=OA(a,_),y=x.width,S=x.height,C=Math.max(y,380);V.open(w,""+p_(a,jw)+p,"width="+C+",height="+S+",left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=no,titlebar=no");var k=(o=b,{subscribe:function(t){var e=function(e){var n=o.match(/^[^:]+:\/\/[^/]+/)[0];e.origin===n&&t(e)};return V.addEventListener("message",e),function(){return V.removeEventListener("message",e)}}}),I=k.subscribe((function(t){if(t.data){var n=JSON.parse(t.data);"sso-login"===n.type&&(e(KS(n.payload)),I(),k=null)}}))}return t(i)}}}),(function(t){var e=t.dispatch,n=t.getState;return function(t){var i=null;return function(o){var a=n(),r=_f(a),s=km(a);if(o.type===Ul){if(o.payload){var c=function(t){var e=ym(t),n=_f(t),i="html/screensharing.18e80663e3d726905cdab542ad34bc072d43e5e3.html?siteId="+e+"&visitorId="+km(t)+"&chatId="+n+"&target="+encodeURIComponent(window.location.href),o=_h(t,"/visitorside/"+i);return{win:V.open(o,""+p_(t,"screensharing")+e,"left=200,top=100,status=no,toolbar=no,menubar=no,resizable=yes,location=0,titlebar=no"),url:o}}(a),d=c.win,l=c.url,u=(i=AO(d,l,!0)).subscribe((function(t){if(t.data){var n=JSON.parse(t.data);if("popoutScreenSharingLoaded"===n.type){var o=sh(a),c=l_(a,o);i&&i.dispatch({type:"popoutScreenSharingInit",payload:{title:c.viewAgentSharedScreen.replace("{agent}",am(a)),popInLabel:c.embeddedWindowPopin,refuseLabel:c.visitorLeavesScreenSharing,webrtcUrl:kh(a,"/webrtcSignalingService/signaling.ashx")},meta:{chatId:r,visitorId:s}})}"popoutScreenSharingEnd"===n.type?(e(iC()),u(),i=null):"popinScreenSharing"===n.type&&(e(PS(!1)),u(),i=null)}}));V.addEventListener("beforeunload",(function(){i&&i.dispatch({type:FA,meta:{chatId:r,visitorId:s}})}))}}else o.type===Xs?o.payload.forEach((function(t){t.type!==Mi&&t.type!==Li&&t.type!==ve||i&&i.dispatch({type:FA,meta:{chatId:r,visitorId:s}})})):o.type===Nc&&sm(a)&&(e(iC()),i&&i.dispatch({type:FA,meta:{chatId:r,visitorId:s}}));return t(o)}}}));var VA="$brandingName Live Chat".replace("$brandingName",V.brandingName);function DA(t){var e=V.GoogleAnalyticsObject;if(e){var n=V[e];try{for(var i=n.getAll(),o=0;o<i.length;o+=1)n(i[o].model.data.ea[":name"]+".send","event",VA,t,t,0)}catch(t){}}else V._gaq&&V._gaq.push(["_trackEvent",VA,t,t]);V.gtag&&V.gtag("event",t,{event_category:VA,event_label:t})}var RA=K(DA,"Chat"),EA=K(DA,"Pre-chat"),zA=K(DA,"Offline-Message"),LA=K(DA,"Invitation"),HA=K(DA,"Post-Chat"),qA=K(DA,"Online Button Click"),UA=K(DA,"Offline Button Click"),GA=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(){return u(this.props.children)[0]},e}(p),KA=function(t,e){return{unmount:function(){for(var t=0;t<e.children.length;t+=1)e.removeChild(e.children[t])},render:function(n,o){var a;a=Array.isArray(n)?1===n.length?n[0]:i("div",null,n):n;var r=i(GA,{context:t.context},a);l(r,e),"function"==typeof o&&o()}}},YA=function(t,e){return"string"==typeof e?t[e]:e.reduce((function(t,e){return void 0===t?t:t[e]}),t)},JA=function(t,e,n,i){return void 0===i&&(i={}),n.some((function(n){var o=!1,a=YA(t[e],n),r=YA(i,n);return r instanceof Date&&a instanceof Date?o=JSON.stringify(r)!==JSON.stringify(a):r!==a&&(o=!0),o}))},QA=function(t){var e=t.split(".");return 1===e.length?t:e},ZA=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=e.map(QA),o=n.map(QA);return function(e,n){return JA(t,"props",i,e)||JA(t,"state",o,n)}},XA=function t(e){return e.parentNode?t(e.parentNode):e};function $A(t){return t}var tB=function(t){function e(e){var n;return n=t.call(this,e)||this,e.enableGa?n.update=n.update.bind(ct(n)):n.update=function(){},n.componentDidMount=n.update,n.componentDidUpdate=n.update,n.shouldComponentUpdate=ZA(ct(n),["invitation","windowTab","chatStatus"]),n}st(e,t);var n=e.prototype;return n.update=function(){var t=this.props;if(t.invitation||t.chatStatus===gp)LA();else{var e=this.props.windowTab;if(e===ep){var n=this.props.guid;(Cb(n)||{}).gaChat||(Mb(n,{gaChat:!0}),RA())}e===tp&&EA(),e===ip&&zA(),e===np&&HA()}},n.render=function(){return i("div",null)},e}(p),eB=["name","children"],nB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.name;t.children;var n=F(t,eB),i=N.createElement(e);Object.keys(n).forEach((function(t){i[t]=n[t]})),N.head.appendChild(i)},n.shouldComponentUpdate=function(){return!1},n.render=function(){return i("div",null)},e}(p),iB="render",oB=function(t,e){return function(n){return function(o){function a(e,n){var i;i=o.call(this,e,n)||this;var a=n&&n[iB]?n[iB]():{};return i.replacer=a[t],i}st(a,o);var r=a.prototype;return r.componentDidMount=function(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer(e?this.props[e]:void 0);t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return this.replacer?i("div",{ref:function(e){t.element=e}},i(n,this.props)):i(n,this.props)},a}(p)}},aB=function(t,e){return function(n){var o;function a(){if(this.useOrigin=!this.replacer,!this.useOrigin){var t=this.replacer();t?(this.element.innerHTML="",this.element.appendChild(t)):this.useOrigin=!0}}var r=((o={})[tp]="livechat.prechat."+t,o[ep]="livechat.chat."+t,o[np]="livechat.postChat."+t,o[ip]="livechat.offlineMessage."+t,o),s=["livechat.postChat.greeting","livechat.postChat.form","livechat.postChat.submit"];function c(t,e,n){var i=r[e];if(!n||!s.includes(i))return i?t[i]:void 0}return function(t){function o(e,n){var i;(i=t.call(this,e,n)||this).apis=n&&n[iB]?n[iB]():{},i.replacer=c(i.apis,e.tab,e.ifCrossSiteTransfer),i.useOrigin=!0;var o=a.bind(ct(i));return i.componentDidMount=o,i.componentDidUpdate=function(t){t.tab!==i.props.tab&&o()},i}st(o,t);var r=o.prototype;return r.componentWillReceiveProps=function(t){t.tab!==this.props.tab&&(this.useOrigin||(this.element.innerHTML="",this.useOrigin=!0),this.replacer=c(this.apis,t.tab,t.ifCrossSiteTransfer))},r.shouldComponentUpdate=function(){return this.useOrigin},r.render=function(){var t=this;return i("div",{ref:function(e){t.element=e},className:e},i(n,this.props))},o}(p)}},rB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.getChildContext=function(){var t;return(t={})[iB]=this.props.getRender,t},n.render=function(){return u(this.props.children)[0]},e}(p),sB="*,.innerIcon,::after,::before{box-sizing:border-box}html{margin:0;font-size:15px}body{margin:0;font-family:\"SourceSans Pro\",'微软雅黑',Arial;line-height:1.42857143;overflow:hidden}.chatButtonMask{position:fixed;right:25px;bottom:0;width:60px;height:100px;z-index:9}.chatButtonContainer--mobile.chatButtonMask{right:0;bottom:0;width:100px;height:100px}.chatButton,.chatButton::after,.chatButtonContainer{width:60px;height:60px;border-radius:100%}.chatButtonContainer{position:fixed;bottom:25px;right:25px;z-index:2147483636}.chatButton{position:absolute;right:0;bottom:0;box-shadow:0 3px 25px rgba(0,0,0,.3)}.chatButtonMask.chatButtonContainer--mobile .chatButton{right:25px;bottom:25px}.chatButtonMask .chatButton{bottom:25px}.chatButton::after,.chatButton::before{display:block;top:0;bottom:0;position:absolute;right:0;left:0}.chatButton:hover{box-shadow:0 3px 10px rgba(0,0,0,.3);transition:box-shadow .4s cubic-bezier(.785,.135,.15,.86);cursor:pointer;will-change:transform}.chatButton:focus{outline:#000001 auto 5px}.chatButton::after{content:''}.chatButton::before{content:'';border-radius:50%}.chatButton--ripple::before{animation:at-ripple 16.417s linear 3.625s infinite}.chatButton__svg-chat{position:absolute;left:13px;top:14px;z-index:9}.chatButton__svg-chat-path{stroke-width:0;fill:#00000b}.chatButton__svg-container{position:absolute;left:12px;top:12px;z-index:9;width:36px;height:36px}.chatButton__svg-container svg{fill:#00000b;width:100%;height:100%}.offline .chatButton__svg-chat-path{fill:#fff}.chatButton--scaleAnimation .chatButton__svg-chat-path{animation-timing-function:ease-in-out;animation-fill-mode:both;animation-name:dash,fillIn;animation-duration:417ms,167ms;animation-delay:625ms,1.042s}@keyframes dash{from{stroke-dashoffset:120}to{stroke-dashoffset:0}}@keyframes fillIn{from{fill-opacity:0}to{fill-opacity:1}}.dot__element{display:inline-block;width:3px;height:3px;margin-left:3px;border-radius:100%;position:relative}.dot__element:first-child{margin-left:0}@keyframes dot--animation{0%{opacity:0;transform:translateY(-35px)}100%{opacity:1;transform:translateY(0)}}.dot--animation{animation-name:dot--animation;animation-delay:1.209s}@keyframes xAxis{100%{transform:translateX(-170px)}}@keyframes yAxis{78%{transform:translateY(-185px) translateZ(0) scale(8.97,8.97);background-color:transparent}89%{transform:translateY(-185px) translateZ(0) scale(10.235,10.235);background-color:transparent}100%{transform:translateY(-185px) translateZ(0) scale(11.5,11.5);background-color:transparent}}.chatButton--avatar .chatButton{box-shadow:none;z-index:1}.chatButton--avatar::after{content:'';display:block;width:60px;height:60px;border-radius:100%;background-repeat:no-repeat;background-size:cover;box-shadow:0 1px 6px rgba(0,0,0,.3)}.chatButton--avatar .chatButton::after{background:0 0!important}.chatButton--avatar .chatButton .chatButton__svg-chat,.chatButton--avatar .chatButton__svg-container{display:none}.chatButton--newMessage{position:absolute;right:0;top:4px;z-index:9;width:16px;height:16px;line-height:16px;background:rgba(222,57,57,.9);border-radius:100%;color:#fff;text-align:center;font-size:.8rem;animation:newincoming .4s cubic-bezier(.785,.135,.15,.86) both}@keyframes newincoming{0%{transform:scale(0)}75%{transform:scale(1.2)}100%{transform:scale(1)}}@keyframes at-ripple{0%{box-shadow:0 0 0 0 #dadada}100%,8.631%{box-shadow:0 0 0 25px rgba(218,218,218,0)}}.at-ripple{animation-name:at-ripple}.svg-container{width:60px;height:60px;position:absolute;z-index:9;left:0;top:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.chatButton--avatar .svg-container{display:none}.innerDotContainer,.outIcon{-ms-transform:scale(1);transform:scale(1);position:absolute;top:16px;left:14px;width:32px;height:32px}.innerIcon{-ms-transform:scale(1) translate(0,0);transform:scale(1) translate(0,0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveIn .outIcon{-ms-transform:scale(1.15);transform:scale(1.15);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerDotContainer{-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:opacity 150ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveOut .outIcon{-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%;transition:transform 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon,.moveOut .innerIcon{transition:all 160ms cubic-bezier(.16,.87,.3,1.3) 25ms}.moveIn .innerIcon{opacity:0;-ms-transform:scale(0);transform:scale(0);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.moveOut .innerIcon{opacity:1;-ms-transform:scale(1);transform:scale(1);-ms-transform-origin:50% 50%;transform-origin:50% 50%}.innerDot{-ms-transform:scale(0);transform:scale(0);animation-name:bounce;-webkit-animation-name:bounce;animation-duration:.8s;-ms-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box;animation-timing-function:cubic-bezier(0,0,1,1);animation-fill-mode:both;animation-iteration-count:1;position:absolute}.innerDot:nth-child(1){animation-delay:60ms;left:5px}.innerDot:nth-child(2){animation-delay:120ms}.innerDot:nth-child(3){animation-delay:180ms}@keyframes bounce{0%,100%,66.67%{transform:translate(0,0)}6.67%{transform:translate(0,-4px)}13.33%,20%{translate:translate(0,-6px)}26.67%{transform:translate(0,-3px)}33.33%{transform:translate(0,-1px)}40%{transform:translate(0,2px)}46.67%{transform:translate(0,1px)}53.33%{transform:translate(0,-1px)}}.chatButtonHighContrast .chatButton{border:1px solid}.chatButtonHighContrast .chatButton__svg-chat-path{fill:currentColor}@media (forced-colors:active){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}@media (prefers-contrast:more){.chatButton{border:1px solid}.chatButton__svg-chat-path{fill:currentColor}}",cB=function(t){function e(e){var n;(n=t.call(this,e)||this).title=N.title,n.flag=!0,n.flashTitle=n.flashTitle.bind(ct(n)),n.resetTitle=n.resetTitle.bind(ct(n));var i=n.updateTitle.bind(ct(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.shouldComponentUpdate=ZA(ct(n),["message"]),n}st(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.timer&&this.resetTitle()},n.flashTitle=function(){var t=this;this.timer=setTimeout((function(){t.flag&&N.title!==t.title&&(t.title=N.title),N.title=t.flag?t.message+" - "+t.title:t.title,t.flag=!t.flag,t.flashTitle()}),1e3)},n.updateTitle=function(){var t=this.props.message;-1===N.title.indexOf(this.message)&&this.title!==N.title&&(this.title=N.title),t?(this.timer||(this.flag=!0,this.flashTitle()),this.message=t):this.resetTitle()},n.resetTitle=function(){clearTimeout(this.timer),this.timer=null,N.title=this.title},n.render=function(){return i("div",null)},e}(p),dB=function(t,e,n){var i=[].concat(e),o=n?[].concat(n):[];i.forEach((function(e,n){e!==o[n]&&function(t,e,n){var i=t.head;if(i){var o=i.querySelector("style#"+e);o||((o=t.createElement("style")).id=e,i.appendChild(o)),o.innerHTML=n}}(t,"id-"+n,i[n])}))},lB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props.css;this.doc=XA(this.div),dB(this.doc,t)},n.componentDidUpdate=function(t){var e=this.props.css,n=t.css;e!==n&&dB(this.doc,e,n)},n.componentWillUnmount=function(){var t=this.props.css;!function(t,e){var n=[].concat(e),i=t.head;i&&n.forEach((function(t,e){var n=i.querySelector("style#id-"+e);n&&i.removeChild(n)}))}(this.doc,t)},n.render=function(){var t=this;return i("div",{ref:function(e){t.div=e}})},e}(p),uB=["children","innerCss","noIframe","languageTag","title","extraJs"],pB=function(t){var e=[];return t.forEach((function(t){return e.push('<script src="'+t+'" async type="text/javascript" charset="utf-8"><\/script>')})),e.join("")},hB=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t,e,n=this,i=this.props,o=i.noIframe,a=i.languageTag,r=i.extraJs,s=i.baseTarget,c=i.title;if(o)this.container=this.div,t=V,e=XA(this.div);else{var d=function(t,e,n){return["<!doctype html>",t?'<html lang="'+t+'" translate="no">':"<html>","<head><title>"+n+"</title></head>",'<meta charset="utf-8" />','<meta name="viewport" content="width=device-width, initial-scale=1.0" />',e?pB(e):"","</head>","<body>",'<div id="container"></div>',"</body>","</html>"].join("")}(a,r,c);this.container=function(t,e){var n=t.contentDocument;return n.open(),n.write(e),n.close(),n.getElementById("container")}(this.iframe,d),t=this.iframe.contentWindow,e=this.iframe.contentDocument,s&&function(t,e){var n=document.createElement("BASE");n.target=e,t.head.appendChild(n)}(e,s)}var l,u=KA(this,this.container),p=u.render,h=u.unmount,f=ZA(this,["style","innerCss","className"]);this.shouldComponentUpdate=function(n){var i=f(n);return i||(o?n.callback&&n.callback(t,e):p(n.children,(function(){return n.callback&&n.callback(t,e)}))),i},this.componentDidUpdate=function(){o?n.props.callback&&n.props.callback(t,e):p(n.props.children,(function(){return n.props.callback&&n.props.callback(t,e)}))},this.componentWillUnmount=o?function(){}:h,o||p(this.props.children),this.props.onMounted&&this.props.onMounted(t,e),this.props.callback&&this.props.callback(t,e),l=e,ot&&l.addEventListener("selectionchange",(function(){var t=l.activeElement;if(t&&("TEXTAREA"===t.tagName||"INPUT"===t.tagName&&"text"===t.type)){var e=l.createEvent("CustomEvent");e.initCustomEvent("input",!0,!0,{}),t.dispatchEvent(e)}})),function(t,e){var n="global-showFocus",i=new RegExp("\\b"+n+"\\b"),o=function(){e.documentElement.className=e.documentElement.className.replace(i,"").trim()};t.addEventListener("keydown",(function(){i.test(e.documentElement.className)||(e.documentElement.className+=" "+n+" ")}),!0),t.addEventListener("touchstart",o,!0),t.addEventListener("mousedown",o,!0)}(t,e)},n.render=function(){var t=this,e=this.props,n=e.children;e.innerCss;var o=e.noIframe,a=e.languageTag,r=e.title;e.extraJs;var s=F(e,uB);return o?i("div",dt({},s,{ref:function(e){t.div=e}}),n):i("iframe",dt({allowFullScreen:"1",allow:"microphone;camera;midi;encrypted-media",title:r},s,{lang:a||"en",ref:function(e){t.iframe=e}}))},e}(p),fB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={isMouseDown:!1},n.doDrag=n.doDrag.bind(ct(n)),n.stopDrag=n.stopDrag.bind(ct(n)),n.startDrag=n.startDrag.bind(ct(n)),n.mouseStart={x:0,y:0},n.divStart={x:0,y:0},n.benchmarkTopAndLeft=void 0!==e.left&&void 0!==e.top,n}st(e,t);var n=e.prototype;return n.startDrag=function(t){var e=t;lt(e),this.mouseStart.x=e.clientX,this.mouseStart.y=e.clientY,this.setState({isMouseDown:!0});var n=this.props,i=n.left,o=n.top;this.benchmarkTopAndLeft?(this.divStart.x=i,this.divStart.y=o):(this.divStart.x=this.props.width-Math.min(this.props.right,this.props.width-this.props.ifrWidth)-this.props.ifrWidth,this.divStart.y=this.props.height-Math.min(this.props.bottom,this.props.height-this.props.ifrHeight)-this.props.ifrHeight),N.addEventListener("mousemove",this.doDrag),N.addEventListener("mouseup",this.stopDrag)},n.doDrag=function(t){var e=t;if(e||e.button){var n=e.clientX-this.mouseStart.x+this.divStart.x,i=e.clientY-this.mouseStart.y+this.divStart.y,o=this.props.width-this.props.ifrWidth,a=this.props.height-this.props.ifrHeight;n=(n=n<0?0:n)>o?o:n,i=(i=i<0?0:i)>a?a:i;var r=this.props.width-n-this.props.ifrWidth,s=this.props.height-i-this.props.ifrHeight,c=n,d=i;this.benchmarkTopAndLeft?this.props.ifrLeftAndTopPositionChanged(c,this.props.ifCanOnlyHorizontalDrag?this.props.top:d):this.props.ifrPositionChanged(r,s)}else this.stopDrag()},n.stopDrag=function(){this.setState({isMouseDown:!1}),N.removeEventListener("mousemove",this.doDrag),N.removeEventListener("mouseup",this.stopDrag)},n.render=function(){var t,e,n=this.props,o=n.id,a=n.left,r=n.top,s=n.width,c=n.height,d=n.barHeight,l=n.barWidth,u=n.ifrHeight,p=n.ifrWidth,h=n.ifrOffsetTop,f=n.ifrOffsetLeft;return t=this.state.isMouseDown?this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom,c-u):this.benchmarkTopAndLeft?c-r-d:Math.min(this.props.bottom+u,c)-(d+h),e=this.state.isMouseDown?this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right,s-p):this.benchmarkTopAndLeft?s-a-l-f:Math.min(this.props.right+p,s)-(l+f),i("div",{id:o,className:"movediv",onMouseDown:this.startDrag,style:{height:this.state.isMouseDown?u:d,width:this.state.isMouseDown?p:l,bottom:t,right:e,position:"fixed",cursor:"move",zIndex:pA}})},e}(p);fB.defaultProps={ifrOffsetLeft:30,ifrOffsetTop:30,barHeight:24,barWidth:315};var gB="circular",mB="square",wB=function(t){function e(e){var n;return(n=t.call(this,e)||this).maxHandledMsgId=-1,n.bodyDisableScroll=e.onMount,n.bodyEnableScroll=e.onUnmount,n.onReadNewMsg=n.onReadNewMsg.bind(ct(n)),n.escMinimize=n.escMinimize.bind(ct(n)),n.resize=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.show?this.bodyDisableScroll():this.bodyEnableScroll(),ut(this.element.firstChild,this.props.onAnimated),pt(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.addEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==cw&&window.ResizeObserver&&(this.resize=new window.ResizeObserver($((function(e){t.props.updateMainWindowWidth(e[0].contentRect.width)}),200)).observe(this.element))},n.componentDidUpdate=function(t){var e=this.props.show;!t.show&&e&&this.onReadNewMsg(),t.show!==e&&(e?this.bodyDisableScroll():this.bodyEnableScroll())},n.componentWillUnmount=function(){this.bodyEnableScroll(),ut(this.element.firstChild,this.props.onAnimated),ht(this.element.firstChild,this.onReadNewMsg,this.props.isMobile),this.element.ownerDocument.removeEventListener("keydown",this.escMinimize),this.props.isPoppedOut&&this.props.windowStyle!==cw&&this.resize&&this.resize.disconnect()},n.onReadNewMsg=function(){this.props.chatStatus!==mp&&this.props.chatStatus!==gp||!this.props.isMessageScrollBottom||(!this.props.maxVisitorReadId||this.props.maxVisitorReadId&&!Br(this.props.maxVisitorReadId,this.props.maxGuid,this.props.messages))&&this.props.maxGuid!==this.maxHandledMsgId&&(this.props.onReadNewMsg(this.props.maxGuid),this.maxHandledMsgId=this.props.maxGuid)},n.escMinimize=function(t){this.props.show&&27===t.keyCode&&this.props.minimize&&this.props.minimize()},n.render=function(){var t=this,e=this.props,n=e.isMobile,o=e.isRightToLeft,a=e.isPoppedOut,r=e.windowStyle,s=e.children,c=e.windowTab,d=e.chatStatus,l=e.env,u=e.isIPad,p=e.show,f=e.showAvatar,g=e.ifShowSideWindow,m=e.cornerStyle,w=e.isCurrentAdaptiveButton,b=e.width;ft(this.context);var v,_=h(c===ep&&h(d===fp&&"animation--waiting",d===mp&&"animation--chatting",d===wp&&"animation-chatted")),x=h("embedded-window",n&&"window--mobile",g&&"withSideWin",u&&"window--ipad",n&&2===l&&"window--mobileVertical",n&&1===l&&"window--mobileHorizontal",Q&&"window--ie",gt&&"window--edge",!mt&&wt&&"window--chrome");m===gB?v="window--circular":m===mB&&(v="window--square");var y=null;return n&&!u&&(y=b),i("div",{className:h(x,!p&&"window--minimized"),ref:function(e){t.element=e}},i("div",{id:"whole-window",className:h(f&&"window--bio","whole-window","window--animated",o?"window--rtl":"",a?"":"window--embedded",v,dw(r),r===sw&&g&&!u&&!n&&"window--circle--sidewindow",r===rw&&g&&!u&&!n&&"window--classic--sidewindow",w&&"window--adaptive",_,ot?"window--ie9":"",bt&&"window--ie10","window--"+c+(d!==hp?"--"+d:"")),style:{maxWidth:y},tabIndex:"0"},i("main",{id:"main",className:"main-container",style:g&&n&&(c===ep||c===tp||c===ip||c===Xu||c===$u)&&(r!==cw?{height:"calc(100% - 45px)"}:{"margin-bottom":"45px"})},s)))},e}(p),bB=function(t){return{position:t?"absolute":"fixed",width:"100%",height:"100%",overflow:"hidden",top:0,bottom:0,right:0,left:0,margin:0,touchAction:"none"}},vB={display:"none"},_B=25,xB=17.5,yB=function(t){var e=t.showAdaptiveMinimizeIcon,n=105;return t.windowStyle===cw||(n-=xB),e?n:0},SB=function(t){return t.showAdaptiveMinimizeIcon?12.5:0},CB=function(){},kB=null,IB=null,MB={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};Object.keys(MB).forEach((function(t){t in N&&(kB=MB[t],IB=t)}));var OB=function(t){function e(e){var n;(n=t.call(this,e)||this).state={showMessage:!0,cobrowsingStopShowingLeft:"undefined",cobrowsingStopShowingTop:0,windowBaseChildrenDidMount:!1,minimized:e.windowStatus===$l,sideWindowAnimationEnd:!1,isBubbleMinimizing:!1,isBubbleRestoring:!1},n.setWinSize=function(){},n.getWinStyle=function(){},n.getSideWinStyle=function(){},n.getInnerCss=n.getInnerCss.bind(ct(n)),n.updateIframe=function(){return CB},n.shouldComponentUpdate=ZA(ct(n),["windowStatus","windowTab","children","windowStyle","unread","title","seed","sideWindow","right","bottom","width","height","cornerStyle","showToolbox","isPoppedOut","showChatWindowInSidewindow"],["showMessage","windowBaseChildrenDidMount","cobrowsingStopShowingLeft","cobrowsingStopShowingTop","minimized"]);var i=e.onFocusToggle;return n.onFocus=function(){var t=n.props.windowStatus;t!==Zl&&t!==Xl||i(!0)},n.onFocusToggle=function(){var t=n.props.windowStatus;i(!N[IB]&&(t===Zl||t===Xl))},n.getChildren=n.getChildren.bind(ct(n)),n.getSideWin=n.getSideWin.bind(ct(n)),n.getDragBar=n.getDragBar.bind(ct(n)),n.onAnimated=n.onAnimated.bind(ct(n)),n.onMount=n.onMount.bind(ct(n)),n.bodyEnableScroll=n.bodyEnableScroll.bind(ct(n)),n.bodyDisableScroll=n.bodyDisableScroll.bind(ct(n)),n.sideWindowOnAnimated=n.sideWindowOnAnimated.bind(ct(n)),n.updateSideWindowNoScroll=n.updateSideWindowNoScroll.bind(ct(n)),n.bubbleIframeHeight=0,n.onWindowVisibleChange=n.onWindowVisibleChange.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isPoppedOut&&!this.props.showChatWindowInSidewindow){var t=jb().popout;t&&t.SideWinWidth&&t.SideWinWidth>0&&V.resizeTo(V.outerWidth-t.SideWinWidth,V.outerHeight),Pb({popout:Object.assign({},t,{SideWinWidth:-1,isLarged:!1})})}var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&vt(this.onWindowVisibleChange)},n.componentWillReceiveProps=function(t){var e=this.props;t.width!==e.width||(t.height,e.height),t.unread>e.unread&&this.setState({showMessage:!0}),t.windowStatus!==this.props.windowStatus&&this.setState({minimized:!1}),(t.windowStatus===Zl||t.windowStatus===Xl)&&t.windowStatus!==this.props.windowStatus&&this.props.onReadNewMsg(),this.setState({isBubbleMinimizing:t.windowStatus!==this.props.windowStatus&&t.windowStatus===$l}),this.setState({isBubbleRestoring:t.windowStatus!==this.props.windowStatus&&t.windowStatus===Xl})},n.componentWillUnmount=function(){var t=this.contentWindow;t&&t.removeEventListener&&(t.removeEventListener("focus",this.onFocus),t.removeEventListener("blur",this.onBlur)),N.removeEventListener(kB,this.onFocusToggle),this.timer&&(clearTimeout(this.timer),this.timer=null),this.bodyEnableScroll();var e=this.props,n=e.isMobile,i=e.isIPad,o=e.isPoppedOut;(n&&!i||o)&&_t(this.onWindowVisibleChange)},n.onAnimated=function(){this.props.windowStatus===$l&&!this.state.minimized&&this.setState({minimized:!0})},n.onMount=function(t){this.contentWindow=t,t.addEventListener("focus",this.onFocus),t.addEventListener("blur",this.onBlur),this.props.onMounted&&(this.props.onMounted(),N.addEventListener(kB,this.onFocusToggle))},n.onWindowVisibleChange=function(){var t=this.props,e=t.windowStatus,n=t.chatStatus;!vt()||e!==Zl&&e!==Xl||n!==mp&&n!==gp||this.props.onReadNewMsg()},n.getInnerCss=function(){var t,e=this.props,n=e.isMobile,i=e.windowStyle===cw;t=e.background?"background-image:"+e.background:"background-color:#f5f5f5";var o="#fff";n||(o=i?"#f8f8f8":"#fafafa");var a=!(n||i);a&&(o="rgba(250,250,250,.9)");var r=n||!i,s=n?"#glance_gesture{position: fixed;}":"";return[[e.fontCSS,tr(ge,e.mainColor),tr(sB,e.mainColor),".online .chatButton:after{","background-color:"+e.mainColor,"}",".offline .chatButton:after{","background-color:#bbb","}",".main-container{"+t+"}",".chatInputContainer{","background:"+o+";",r?"border-top:1px solid rgba(0,0,0,.1);":"","}",".chat-input__toolbox-more{","background:rgba(250,250,250,1);","}",".chatInputContainer+div>.footer{","background:"+o+";",a?"opacity:0.9;":"","}",".window--bubble .window__operation{background:"+A(e.mainColor)+"}",""].join(""),"",e.amyCustomCSS,e.customCss,s,""]},n.getChildren=function(t){var e=this.props,n=e.windowStatus,o=e.isMobile,a=e.title,r=e.isRightToLeft,s=e.isPoppedOut,c=e.windowStyle,d=e.children,l=e.windowTab,u=e.chatStatus,p=e.isIPad,h=e.showAvatar,f=e.ifShowSideWindow,g=e.cornerStyle,m=e.isCurrentAdaptiveButton,w=e.width,b=e.ifEnableVisitorSeeMsgSentSeen,v=e.maxVisitorReadId,_=e.maxMsgId,x=e.onReadNewMsg,y=e.maxGuid,S=e.messages,C=e.minimize,k=e.isMessageScrollBottom;return i(wB,{show:n===Zl||n===Xl,isMobile:o,title:a,isRightToLeft:r,isPoppedOut:s,windowStyle:c,windowTab:l,chatStatus:u,isIPad:p,env:t,onUnmount:this.bodyEnableScroll,onMount:this.bodyDisableScroll,onAnimated:this.onAnimated,showAvatar:h,ifShowSideWindow:f,cornerStyle:g,isCurrentAdaptiveButton:m,width:w,ifEnableVisitorSeeMsgSentSeen:b,maxVisitorReadId:v,maxMsgId:_,maxGuid:y,onReadNewMsg:x,messages:S,minimize:C,isMessageScrollBottom:k,updateMainWindowWidth:this.props.updateMainWindowWidth},d)},n.getSideWin=function(t,e,n,o){var a=this.props,r=a.sideWindow;a.fontCSS;var s,c=a.onFocusToggle,d=a.isMobile,l=a.extraJs,u=this.props,p=vB;if(r){if(n)p={display:"none"};else{p=this.getSideWinStyle(t,e,n),d&&!e?(p.bottom=0,p.right=0):(p.bottom+=yB(u)+function(t){var e=t.windowStyle,n=t.isMobile,i=t.isIPad,o=t.isPoppedOut,a=e===cw;return i?a||o?0:xB:!a||n||o?0:-17.5}(u),p.right+=SB(this.props));var h=0;p&&p.bottom&&(h=p.bottom),p.maxHeight="calc(100% - "+h+"px)"}s=i(r,{ToogleChatWinFocused:c,sideWindowOnAnimated:this.sideWindowOnAnimated,updateSideWindowNoScroll:this.updateSideWindowNoScroll})}u.isMobile||u.isPoppedOut||u.windowStyle===cw||(p.zIndex=lA,p.right+=12);var f=ft(this.context);return i(hB,{key:"sideWin",id:"side_window_container",style:p,languageTag:o,scrolling:this.state.sideWindowAnimationEnd?"auto":"no",title:f.sideWindow,extraJs:l},s)},n.getCobrowsingStopShowingButton=function(){var t=this,e=this.props,n="";e.isMobile&&(n="@media screen and (max-width: 767px) {.glance_cobrowse_btn button{width:100%;}.glance_cobrowse_btn__drag{display: none;}}");var o=ft(this.context);return i(hB,{key:"cobrowsingStopShowing",id:"cobrowsing_stopshowing_container",style:e.ifCobrowsingShowing&&!e.isPoppedOut?{border:"none",width:e.isMobile?"135px":"172px",height:"30px",position:"fixed",top:0,left:"undefined"===t.state.cobrowsingStopShowingLeft?(e.width-(e.isMobile?135:172))/2:t.state.cobrowsingStopShowingLeft,zIndex:uA}:{display:"none"},title:o.cobrowsingBtn,languageTag:this.props.languageTag},i(lB,{css:'body{margin: 0;font-family: "Lucida Grande", "Lucida Sans Unicode", Arial, sans-serif;overflow: hidden}.glance_cobrowse_btn{position: absolute;width: 100%;background-color: #1c2124;height: 30px;box-sizing: border-box;border-bottom-right-radius: 4px;border-bottom-left-radius: 4px;overflow: hidden;}.glance_cobrowse_btn button{display:block;width: 135px;height: 30px;line-height: 30px;padding-left: 20px;padding-right: 20px;box-sizing: border-box;font-size: 15px;color: #fff;text-decoration: none;border: none;appearance:none;-moz-appearance:none; -webkit-appearance:none;outline: none;background: none;cursor: pointer;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}.glance_cobrowse_btn__drag{position: absolute;right: 8px;top: 5px;width: 20px;height: 20px;border-left: 1px solid rgba(255,255,255,0.2);padding-left: 8px;}.svgPath {fill: #000;width: 16px;height: 16px;}.glance_cobrowse_btn__drag .drag{fill: #fff}'+n}),i("div",{className:"glance_cobrowse_btn"},e.ifCobrowsingShowing&&i("button",{onClick:function(){return V.GLANCE.Cobrowse.Visitor.stopSession()}},e.languageCobrowseStop),i("div",{className:"glance_cobrowse_btn__drag"},i(xt,{type:yt,className:"",viewBox:"0 0 19 28"}))))},n.getDragBar=function(){var t=this,e=this.props,n=e.windowStyle,o=e.windowStatus,a=e.isPoppedOut,r=e.width,s=e.height,c=e.showAvatar;if(!((o===Zl||o===Xl)&&!a&&!(n===cw)))return null;var d=this.winWidth,l=Math.min(this.winHeight,s-yB(this.props)),u=7.5;return n===sw&&c&&(u=32.5),i(fB,{key:"dragBar",barWidth:d-_B-112,ifrOffsetTop:u,ifrOffsetLeft:12.5,width:r,height:s,right:this.props.right,bottom:this.props.bottom+yB(this.props),ifrWidth:d,ifrHeight:l,ifrPositionChanged:function(e,n){var i=n-yB(t.props);t.props.onPositionChange(e,Math.max(0,i))}})},n.getCobrowsingStopShowingDragBar=function(){var t=this,e=this.props,n=e.ifCobrowsingShowing,o=e.width,a=e.height,r=e.isPoppedOut,s=e.isMobile;if(!n||r||s)return null;var c="cobrowsingStopShowingDrag";return i(fB,{key:c,id:c,ifCanOnlyHorizontalDrag:!0,barWidth:37,barHeight:30,ifrOffsetTop:0,ifrOffsetLeft:135,width:o,height:a,left:"undefined"===this.state.cobrowsingStopShowingLeft?(o-172)/2:this.state.cobrowsingStopShowingLeft,top:this.state.cobrowsingStopShowingTop,ifrWidth:172,ifrHeight:30,ifrLeftAndTopPositionChanged:function(e,n){t.setState({cobrowsingStopShowingLeft:e,cobrowsingStopShowingTop:n})}})},n.sideWindowOnAnimated=function(){this.setState({sideWindowAnimationEnd:!0})},n.updateSideWindowNoScroll=function(){this.setState({sideWindowAnimationEnd:!1})},n.bodyDisableScroll=function(){if(this.props.isMobile){var t=N.body.style,e=!this.props.isIPad;this.style=Object.keys(bB(e)).reduce((function(n,i){var o=n;return o[i]=t[i],t[i]=bB(e)[i],o}),{}),this.props.isPoppedOut||N.addEventListener("touchmove",lt),this.setState({windowBaseChildrenDidMount:!0})}},n.bodyEnableScroll=function(){var t=this;this.props.isMobile&&(Object.keys(this.style||{}).forEach((function(e){N.body.style[e]=t.style[e]})),this.props.isPoppedOut||N.removeEventListener("touchmove",lt),this.setState({windowBaseChildrenDidMount:!1}))},n.render=function(){var t=this,e=this.props,n=e.windowStatus,o=e.isMobile,a=e.width,r=e.height,s=e.orientation,c=e.isIPad,d=e.title,l=e.isPoppedOut,u=e.languageTag,p=e.windowStyle;e.brandConfig;var h=e.isSideWindowSelectedTabKb,f=V.brandingNameLowerCase,g=3;o&&(s===xu&&(!c||a<760)?g=1:s===yu&&(!c||r<760)&&(g=2)),this.setWinSize(g,c);var m=n===$l,w=3!==g&&!m,b=this.getWinStyle(g,c),v=m&&(this.state.minimized||!St||Q||p===cw);if(p===cw&&this.state.isBubbleRestoring&&this.bubbleIframeHeight&&(b=Object.assign({},b,{height:this.bubbleIframeHeight})),v&&((b=Object.assign({},b,{width:0,height:0,display:"none"})).left="",b.top=""),!v&&l&&p===sw&&(b.backgroundColor="#d5d5d5"),"100%"===b.height||p===cw&&l)b.bottom=0,b.right=0;else{var _=Math.min(r-yB(this.props),b.height);b.bottom=Math.min(b.bottom+yB(this.props),r-_),b.right=Math.min(b.right,a-b.width)+SB(this.props)}var x=0,y=0;if(!o||c?(b&&b.right&&(x=b.right),b&&b.bottom&&(y=b.bottom),b.maxWidth="calc(100% - "+x+"px)",b.maxHeight="calc(100% - "+y+"px)"):(b.right=0,b.bottom=0),p===cw&&!l&&(!o||c)){this.props.showAdaptiveMinimizeIcon&&(b.bottom=105,b.maxHeight="calc(100% - 105px)")}h&&o&&!c&&(b.display="none");var S,C=this.getInnerCss();w&&(S=function(t,e){return{position:t?"absolute":"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(0,0,0,0.15)",zIndex:e?1:dA}}(o&&!c,l));var k=o&&!l&&!c&&!m&&"html{width:100%!important;position:static!important}body>*:not(#"+f+"-container):not(#branding-cobrowse-border){display:none!important}body{text-indent:-9999px!important}#"+f+"-container,#"+f+"-container>div{position:static!important}",I=ft(this.context);return i("div",{style:S,onTouchMove:!l&&lt},this.state.windowBaseChildrenDidMount&&k&&i(lB,{css:k}),this.getSideWin(g,c,m,u),this.getDragBar(g),i(hB,{key:"win"+(l?1:0),id:"chat_window_container",ref:function(e){t.container=e},onMounted:this.onMount,style:b,callback:this.updateIframe(g,c),noIframe:l,languageTag:u,tabIndex:v?-1:void 0,title:I.chatWindow,baseTarget:"_top"},i(lB,{css:C}),!l&&i(cB,{message:d}),this.getChildren(g)),this.getCobrowsingStopShowingButton(),this.getCobrowsingStopShowingDragBar())},e}(p),AB=function(t,e){if(!t)return 0;var n=t.querySelector("#main");if(!n)return 0;var i=n.getBoundingClientRect().height;if(e){i+=45}return i},BB=function(e){function n(n){var i;(i=e.call(this,n)||this).state=Object.assign({},i.state,{innerHeight:0}),i.updateIframe=t(1)((function(t,e){return function(n,o){var a=i.props,r=a.windowStatus,s=a.sideWindow;if(r===Zl||r===Xl){var c=3===t&&e&&s;i.setState({innerHeight:AB(o,c)}),i.timer&&clearTimeout(i.timer),i.timer=setTimeout((function(){i.setState({innerHeight:AB(o,c)}),i.timer=null}),460)}r===$l&&i.setState({innerHeight:0})}}));i.setWinSize=function(t){3===t&&(i.winWidth=i.props.isPoppedOut?380:360,i.props.windowStatus!==$l||i.state.minimized?i.winHeight=Math.max(Math.min(i.props.height,i.state.innerHeight),500):("100%"!==i.winHeight&&(i.bubbleIframeHeight=i.winHeight),i.winHeight="100%")),1===t&&(i.props.width>500?i.winWidth=500:i.winWidth="100%",i.winHeight="100%"),2===t&&(i.winWidth="100%",i.winHeight="100%")},i.getWinStyle=function(t,e){var n,o,a=0,r=0;return 3===t&&(a=i.props.bottom,r=i.props.right,n=i.state.left,o=i.state.top),{position:3===t||e||i.props.isMinimized?"fixed":"absolute",border:0,zIndex:i.props.isPoppedOut?2:rA,top:o,left:n,bottom:a,right:r,width:i.winWidth,height:i.winHeight}},i.getSideWinStyle=function(t,e){var n=i.props,o=n.isPoppedOut,a=n.width,r=n.windowStyle;if(3===t&&!e){var s=i.props.right+i.winWidth<a?a-(i.props.right+i.winWidth):0,c=i.props.right+i.winWidth+505>=a?a-i.winWidth-s-505:i.props.right+i.winWidth,d=o?i.winWidth:c,l=o?480:505,u=i.props.height-i.winHeight>87.5?i.props.height-i.winHeight-87.5:0,p=i.winHeight+i.props.bottom>=i.props.height?u:i.props.bottom;r!==cw||o||(p=0);var h=Math.max(0,Math.min(a-d,l));return{zIndex:o?1:dA,width:l,height:o?555:580,bottom:p,right:d,background:"transparent",position:"fixed",border:0,maxWidth:h}}var f=i.props.showChatWindowInSidewindow,g=o&&e,m=g?"100%":i.winWidth,w=g?"100%":i.winHeight;return{zIndex:lA,width:m,height:f?45:w,right:i.props.right>=a-i.winWidth?a-i.winWidth:i.props.right,bottom:0,background:"transparent",position:"fixed",border:0}};var o=i.shouldComponentUpdate;return i.shouldComponentUpdate=function(t,e){return!!o(t,e)||e.innerHeight!==i.state.innerHeight},i}return st(n,e),n}(OB),TB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.sideWindowWidth=i,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=n.props.isMinimized;return{position:3===t||e||i?"fixed":"absolute",border:0,zIndex:rA,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){var i=n.props.showChatWindowInSidewindow,o=25;if(3===t){var a=n.props.showAvatar,r=n.winHeight;a&&(r-=25),e&&(i?r=45:(r-=o,a&&(r+=32.5)));var s=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,c=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-s-505:n.winWidth+n.props.right-o,d=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-s+12.5:n.props.right+12.5,l=e?d:c,u=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,p=n.winHeight+n.props.bottom>n.props.height?u:n.props.bottom,h=Math.max(n.props.width-l,0);return{zIndex:e?lA:dA,width:e?n.winWidth-o:505,height:r,bottom:p,right:l,background:"transparent",position:"fixed",border:0,maxWidth:h}}return{zIndex:lA,width:n.winWidth,height:i?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return st(e,t),e}(OB),jB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t){var e=n.props.iframeStyle,i=e&&e.width,o=e&&e.height,a=i;3===t&&(n.winWidth=a,n.winHeight=o),1===t&&(n.props.width>500?n.winWidth=500:n.winWidth="100%",n.winHeight="100%"),2===t&&(n.winWidth="100%",n.winHeight="100%")},n.getWinStyle=function(t,e){var i=3!==t||e?rA:dA;return{position:3===t||e||n.props.isMinimized?"fixed":"absolute",border:0,zIndex:i,top:n.state.top,left:n.state.left,bottom:n.props.bottom,right:n.props.right,width:n.winWidth,height:n.winHeight}},n.getSideWinStyle=function(t,e){if(3===t){var i=n.winHeight;e&&(i=n.props.showChatWindowInSidewindow?45:n.winHeight-25);var o=n.props.right+n.winWidth<n.props.width?n.props.width-(n.props.right+n.winWidth):0,a=n.winWidth+n.props.right+505>=n.props.width&&n.props.right>=505?n.props.width-n.winWidth-o-505:n.winWidth+n.props.right-25,r=n.winWidth+n.props.right>=n.props.width?n.props.width-n.winWidth-o+12.5:n.props.right+12.5,s=e?r:a,c=n.props.height-n.winHeight>87.5?n.props.height-n.winHeight-87.5:0,d=n.winHeight+n.props.bottom>n.props.height?c:n.props.bottom,l=Math.max(0,n.props.width-s);return{zIndex:3===t&&!e?dA:lA,width:e?n.winWidth-25:505,height:i,bottom:d,right:s,background:"transparent",position:"fixed",border:0,maxWidth:l}}return{zIndex:lA,width:n.winWidth,height:n.props.showChatWindowInSidewindow?45:n.winHeight,right:0,bottom:n.props.bottom,background:"transparent",position:"fixed",border:0}},n}return st(e,t),e}(OB),PB=function(t){function e(e){var n;return(n=t.call(this,e)||this).setWinSize=function(t,e){n.winHeight="100%";var i=n.props,o="100%",a="100%";if(i.sideWindow&&3===t&&!e){var r=i.width;r>860?(o=r-480,a=480):(o="44.2%",a="55.8%")}n.winWidth=o,n.sideWinWidth=a,n.sideWinHeight=i.showChatWindowInSidewindow?45:n.winHeight},n.getSideWinStyle=function(t,e){var i=n.props.width-n.winWidth;return 3!==t||e||(i=Math.min(i,500)),{background:"transparent",position:"fixed",border:0,zIndex:3!==t||e?3:1,width:n.sideWinWidth,height:n.sideWinHeight,bottom:0,left:0,maxWidth:i}},n.getWinStyle=function(){return{position:"absolute",border:0,zIndex:2,width:n.winWidth,height:n.winHeight,right:0,bottom:0}},n}return st(e,t),e}(OB),FB=["hOnline","hOffline","hCallback","hStop"],WB=function(t){return function(e){function n(t){var n;return(n=e.call(this,t)||this).timer=null,n.stopTimer=null,n.hOnline=[].concat(t.hOnline),n.setTimespan=n.setTimespan.bind(ct(n)),n.heartbeat=n.heartbeat.bind(ct(n)),n.tick=n.tick.bind(ct(n)),n.registerStop=n.registerStop.bind(ct(n)),n.clean=n.clean.bind(ct(n)),n.initial=n.initial.bind(ct(n)),n}st(n,e);var o=n.prototype;return o.componentDidMount=function(){this.props.hOnline&&this.initial()},o.componentDidUpdate=function(t){t.hOnline&&!this.props.hOnline&&this.clean(),!t.hOnline&&this.props.hOnline&&(this.hOnline=[].concat(this.props.hOnline),this.initial()),!function(t,e){if(!t&&e)return!1;if(!e&&t)return!1;if(!e&&!t)return!0;var n=[].concat(t),i=[].concat(e);return n.length===i.length&&n.every((function(t,e){return t.timespan===i[e].timespan&&t.duration===i[e].duration}))}(t.hOnline,this.props.hOnline)&&t.hOnline&&this.props.hOnline&&(this.clean(),this.hOnline=[].concat(this.props.hOnline),this.initial())},o.componentWillUnmount=function(){this.clean()},o.setTimespan=function(){var t=this.hOnline.shift();t&&(this.duration=t.duration,this.timespanTimer=setTimeout(this.setTimespan,1e3*t.timespan))},o.initial=function(){this.setTimespan(),this.tick(),this.registerStop(),this.props.hDelay||this.props.hCallback(this.props),this.props.hOnInit&&this.props.hOnInit.call()},o.heartbeat=function(){this.props.hCallback(this.props),this.duration?this.tick():this.heartbeatTimer=null},o.tick=function(){var t=void 0!==this.props.hOffline?this.props.hOffline:this.duration;this.heartbeatTimer=setTimeout(this.heartbeat,1e3*t)},o.registerStop=function(){var t=this;void 0!==this.props.hStop&&(this.stopTimer=setTimeout((function(){t.clean.call(),t.props.hOnStopped&&t.props.hOnStopped.call()}),1e3*this.props.hStop))},o.clean=function(){this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.timespanTimer&&clearTimeout(this.timespanTimer),this.stopTimer&&clearTimeout(this.stopTimer),this.heartbeatTimer=null,this.timespanTimer=null,this.stopTimer=null},o.render=function(){var e=this.props;e.hOnline,e.hOffline,e.hCallback,e.hStop;var n=F(e,FB);return i(t,n)},n}(p)},NB=["en","zh-Hans"],VB=null,DB=!1,RB=function(){var t=B(P().mark((function t(){var e,n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,import("./language.e3de79fa.js");case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),e=0;case 9:if(!(e<5)){t.next=25;break}return t.next=12,new Promise((function(t){return setTimeout(t,5e3)}));case 12:return(n=new URL(t.t0.message.replace("Failed to fetch dynamically imported module: ","").trim())).searchParams.set("t",""+ +new Date),t.prev=14,t.next=17,import(n.href);case 17:return t.abrupt("return",t.sent);case 20:t.prev=20,t.t1=t.catch(14);case 22:e++,t.next=9;break;case 25:throw t.t0;case 26:case"end":return t.stop()}}),t,null,[[0,6],[14,20]])})));return function(){return t.apply(this,arguments)}}(),EB=function(t){var e=function(e){function n(t){return e.call(this,t)||this}st(n,e);var o=n.prototype;return o.getChildContext=function(){var t=this.props.languageTag;return NB.includes(t)?{language:U[t]}:(DB||VB||(DB=!0,RB().then((function(t){var e=t.default;DB=!1,VB=e}))),{language:VB?VB[t]:U.en})},o.render=function(){return i(t,this.props)},n}(p),n=t.displayName||t.name;return e.displayName="language("+n+")",e},zB=WB(EB((function(t){var e=t.windowStyle,n=t.isPoppedOut;return i(function(t,e){return t&&e!==cw?PB:e===cw?BB:e===sw?TB:jB}(n,e),t)}))),LB=Ct((function(){return import("./RatingForm.1a039f1b.js")})),HB=Ct((function(){return import("./SendEmailForm.498ec272.js")}));function qB(t){if(t)return t.displayName||t.name}var UB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={focusKey:e.show?qB(e.icons[0]):void 0,showRatingForm:!1,showSendEmailForm:!1},n.onFocus=n.onFocus.bind(ct(n)),n.onKeyDown=n.onKeyDown.bind(ct(n)),n.onDialogToggle=n.onDialogToggle.bind(ct(n)),n.onRatingFormChange=n.onRatingFormChange.bind(ct(n)),n.onEmailChange=n.onEmailChange.bind(ct(n)),n.hasModal=!1,n.score=0,n.comment="",n.emailValue="",n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.props.show||!t.show||this.hasModal?this.props.show&&!t.show&&this.setState({focusKey:void 0}):this.setState({focusKey:qB(t.icons[0])})},n.onRatingFormChange=function(t){this.score=t.score,this.comment=t.comment},n.onEmailChange=function(t){this.emailChangeFlag=!0,this.emailValue=t.emailAddress},n.onDialogToggle=function(t,e){t?this.setState({focusKey:void 0,showRatingForm:"rating"===e,showSendEmailForm:"sendEmail"===e}):(this.setState({showRatingForm:!1,showSendEmailForm:!1}),this.props.hideMenu()),this.hasModal=t},n.onFocus=function(t){this.hasModal||this.setState({focusKey:t})},n.onKeyDown=function(t){if(this.hasModal)t.stopPropagation();else{var e=this.props.icons.map(qB),n=e.indexOf(this.state.focusKey);if(!(n<0)){var i=n,o=!1;switch(t.keyCode){case 40:o=!0,i=Math.min(n+1,e.length-1);break;case 38:o=!0,i=Math.max(n-1,0);break;case 36:o=!0,i=0;break;case 35:o=!0,i=e.length-1;break;case 27:o=!0,this.props.hideMenu(),this.props.onESCHide();break;case 9:this.props.hideMenu()}o&&(t.preventDefault(),t.stopPropagation()),this.setState({focusKey:e[i]})}}},n.render=function(){var t=this,e=this.props;return i("div",{className:h("window__operation-menu",e.show&&"window__menu-show"),onMouseLeave:e.hideMenu,onKeyDown:this.onKeyDown},i("ul",{role:"menu","aria-haspopup":!0,"aria-expanded":e.show.toString(),className:h("none"!==e.popupBubbleType&&"displayNone")},e.icons.map((function(e){var n=qB(e),o=n===t.state.focusKey;return"lazy"===e.type?i(kt,{fallback:i("div",null)},i(It,null,i(e.component,{key:n,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:n,focus:o}))):i(e,{key:n,onDialogToggle:t.onDialogToggle,onFocus:t.onFocus,focusKey:n,focus:o})}))),this.state.showRatingForm&&i(kt,{fallback:i("div",null)},i(It,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},i(LB,{isShow:!0,onDialogToggle:this.onDialogToggle,onChange:this.onRatingFormChange}))),this.state.showSendEmailForm&&i(kt,{fallback:i("div",null)},i(It,{failCallback:function(){t.setState({showRatingForm:!1,showSendEmailForm:!1})}},i(HB,{isShow:!0,emailAddress:this.emailChangeFlag?this.emailValue:e.emailAddress,onDialogToggle:this.onDialogToggle,onChange:this.onEmailChange}))))},e}(p),GB=function(t){function e(e){var n;return(n=t.call(this,e)||this).updateBodyCss=n.updateBodyCss.bind(ct(n)),n.focusOnClose=n.focusOnClose.bind(ct(n)),n.focusOnLastButton=n.focusOnLastButton.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.updateBodyCss(),this.props.ifShow&&setTimeout((function(){if(t.props.autoFocus){var e=t.btn.ownerDocument.getElementById(t.props.autoFocus);e&&e.focus()}else t.btn.focus()}),100)},n.componentDidUpdate=function(t){var e=this;t.ifShow!==this.props.ifShow&&this.updateBodyCss(),!t.ifShow&&this.props.ifShow&&setTimeout((function(){if(e.props.autoFocus){var t=e.btn.ownerDocument.getElementById(e.props.autoFocus);t&&t.focus()}else e.btn&&e.btn.focus()}),100)},n.componentWillUnmount=function(){var t=this.props.globalClass,e=this.element.ownerDocument,n=new RegExp("\\b"+t+"\\b","g");n.test(e.body.className)&&(e.body.className=e.body.className.replace(n,"").trim())},n.focusOnClose=function(){this.btn.focus()},n.focusOnLastButton=function(){var t=this.element.querySelectorAll("button");t[t.length-1].focus()},n.updateBodyCss=function(){var t=this.props.ifShow,e=this.element.ownerDocument,n=this.props.globalClass,i=new RegExp("\\b"+n+"\\b"),o=i.test(e.body.className);t&&!o?e.body.className+=" "+n:!t&&o&&(e.body.className=e.body.className.replace(i,"").trim())},n.render=function(){var t=this,e=this.props,n=e.id,o=e.className,a=e.children,r=e.ifShow,s=e.onClose,c=e.title,d=e.aria,l=e.role,u=ft(this.context);return i("div",{id:n&&"bubble_box_"+n,ref:function(e){t.element=e},className:h("bubble-box",r&&"bubble-box--show",o),onClick:s},r&&[i("div",{tabIndex:0,onFocus:this.focusOnLastButton,ariaHidden:!0}),i("div",dt({id:n,className:"bubble",onClick:function(t){t.stopPropagation()},role:l||"alertdialog",style:{width:this.props.width},"aria-modal":"true","aria-label":"Dialog"},d),i("button",{className:"bubble-close",onClick:s,"aria-label":u.closeDialog,ref:function(e){t.btn=e}},i(xt,{type:Mt,ariaHidden:!0})),c&&i("div",{className:"bubble--title"},c),a),i("div",{tabIndex:0,onFocus:this.focusOnClose,ariaHidden:!0})])},e}(p),KB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.show=n.toggle.bind(ct(n),!0),n.hide=n.toggle.bind(ct(n),!1),n}st(e,t);var n=e.prototype;return n.toggle=function(t,e){e.stopPropagation(),this.setState({ifShowDialog:t})},n.render=function(){var t=this,e=this.props,n=e.languages,o=Ot(this.show);return i("div",{className:"header__operationContainer"},i("button",{role:"button",tabIndex:0,onClick:this.show,ref:function(e){t.btn=e},onKeyDown:o,title:n.buttonEndChat,"aria-label":n.buttonEndChat},i(xt,{type:Mt,className:"icon-endchat",ariaHidden:!0})),i(GB,{globalClass:"body__dialog",ifShow:this.state.ifShowDialog,onClose:this.hide,className:e.windowStatus===$l&&"bubble-box--minimize",aria:{"aria-label":"","aria-describedby":"prompt-end-chat-title"},autoFocus:"embedded-end-chatConfirmLeave"},i("div",{id:"prompt-end-chat-title",className:"bubble--desc"},n.promptStopChat),i("div",{className:"embedded-end-chatConfirmAction bubble__operation"},i("button",{id:"embedded-end-chatConfirmLeave",className:"btn btn-primary",onClick:function(n){t.hide(n),e.onEndChat()}},n.buttonYes),i("button",{id:"embedded-end-chatConfirmCancel",className:"btn btn-grey",onClick:this.hide},n.buttonNo))))},e}(p);KB.displayName="EndChat";var YB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showEndChatConfirm:!1,showMenu:!1},n.onClickShowEndChatConfirm=n.onClickShowEndChatConfirm.bind(ct(n)),n.updateEndChatConfirmStatus=n.updateEndChatConfirmStatus.bind(ct(n)),n.showMenu=n.setMenuStatus.bind(ct(n),!0),n.hideMenu=n.setMenuStatus.bind(ct(n),!1),n.toggleMenuStatus=n.toggleMenuStatus.bind(ct(n)),n.onKeyDown=Ot(n.toggleMenuStatus),n.onEnterPress=n.onEnterPress.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.container&&this.container.ownerDocument.body.addEventListener("touchend",this.hideMenu,!1)},n.componentWillUnmount=function(){this.container&&this.container.ownerDocument.body.removeEventListener("touchend",this.hideMenu,!1)},n.onClickShowEndChatConfirm=function(t){this.props.ifViewConfirmBubble?this.state.showEndChatConfirm||(t.stopPropagation(),t.preventDefault(),this.updateEndChatConfirmStatus(!0)):this.props.onEndChat(this.props.passEventArgs)},n.onEnterPress=function(t){13===t.keyCode&&(this.props.onEnterMinimize(),this.props.onMinimize(this.props.tab))},n.setMenuStatus=function(t){this.setState({showMenu:t})},n.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},n.toggleMenuStatus=function(t){t&&"keydown"===t.type||this.setState({showMenu:!this.state.showMenu})},n.render=function(){var t=this,e=this.props,n=e.icons.length>0,o=e.languages.embeddedWindowMinimize,a=i("button",{"aria-label":e.languages.buttonClose,onClick:function(){return e.onClose(e.tab)}},i(xt,{type:Mt,className:"icon-close",title:e.languages.buttonClose,ariaHidden:!0})),r=ft(this.context);return i("div",{className:"title-buttons window__operation",ref:function(e){e&&(t.container=e)}},n&&i("div",{onMouseEnter:!e.isMobile&&this.showMenu,onMouseLeave:!e.isMobile&&this.hideMenu,className:"header__operationContainer"},i("button",{className:"window__operation-menu-icon menubar__btn",onKeyDown:this.onKeyDown,onClick:this.toggleMenuStatus,"aria-label":r.menu,tabIndex:0,ref:function(e){t.menuBtn=e}},i(xt,{type:Bt,ariaHidden:!0})),i(UB,{icons:e.icons,show:this.state.showMenu,hideMenu:this.hideMenu,onESCHide:function(){return t.menuBtn.focus()},popupBubbleType:e.popupBubbleType,emailAddress:e.emailAddress})),e.hasMinimize&&i("button",{title:o,"aria-label":o,onClick:function(){return e.onMinimize(e.tab)},onKeyDown:this.onEnterPress},i(xt,{type:At,className:"icon-minimize",ariaHidden:!0})),e.hasEndChat?i(KB,{languages:e.languages,onEndChat:e.onEndChat,windowStatus:e.windowStatus}):e.hideCloseButton?null:a)},e}(p),JB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAIAAAC2BqGFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTk1OENGMTMxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTk1OENGMTQxRUZFMTFFNTlBMDdBNjRGRTU4NjdDNTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OTU4Q0YxMTFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OTU4Q0YxMjFFRkUxMUU1OUEwN0E2NEZFNTg2N0M1MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PscdlE0AAAduSURBVHja7J3tUxJbHMeXheV5EQUBwUdEqGayrKhpanrf/9ubunlfVLc718xeiRL4rIgPmKRpINL9CjN25w6Q4J4nOt8XTdNMZ5fP/s7v9/3tnj1revHihSJFXqpEIEFL0FIStAQtQUtJ0BK0lAQtQUvQUhK0BC0lQUvQErSUBC1BS0nQErQELUVeFt4DQVW9Nbndbl3X7Xa7paZqtVqpVMrl8nFNX79+PTg4KJVKEnR7MplMgUAgEon09/cDa8MLYK0JF+DyH4vFYj6f39raOj09laB/dUIWy2hNNput3f/bU1M8Ht/Z2clkMghzCbpxFI+MjMRisQ4Q/2+cUE25XC6dTp+cnEjQP+XxeCYnJxGPBo4ZDoeDwSBYr66u/vjxQ4JWotFoIpFA2jV8ZLPZfOvWLUT33Nwc21LJ2N4B7t27d2/evEmC8qX6+vqePn1q7HQRCTTq3qNHj2AtKBwLvvDx48fwML8daFBOJpOINWpHRBp58OABK9Yqq4yB30yT8uVx79+/j/bndwGNAuXz+Zgcuh7XyCTdD3poaAh+mWFtgE8Ha6Lllz1op9OJcGZuKOFA0Bl1M+g7d+40vHdBXwBN0/BRBT04OEi/ALbo1GnOLXqgUYXQ/ik8CVcdTWO3gR4eHqZf63+pRDyO0O4e0PgxY2NjCn9y6zqdbEYJNGaow+FQuFSUSgRQAg3vrPCqQDBot9m7AbSmaX6/X+FYoYFQN4BG3qBTcDpWJBI5Pz8XHjTn4Qx5vV6VcCjQAM1Pk9KKdW+v2KCdTieH9rnBtPP5iD5XJA7a4/EoIqi3r69yVhEYtMvlEgI0AuKsciYwaG77lAbnKXTqsFqtiiAiev+WOGiz2SwKaFVVydVDVegwMfhUNU1g0AIJPYvAoKvVqiigiXbhqtBnb6zOzkS2d+VyWRTQ379/Fxg0h4vvG6pUKmHykbvLSBz0t2/fhABdfz1AYNBcvd/QQoeHh6pJFTuiK5UK/6ALhYJqJkiDOGg404ODA/5B7+TzRJtYlU6wcE4Z0+7o6Ejsex1QPp/nHPTm5ib+NIsO+uTk5MuXLzyDXl1dVVVV+NQBbWxs8Ow39nZ3NcK3cymB3t7e5rZFzGQyCvn75pRAw+GtrKzw2XZnMxkkDdK3c+ndJl1bWyN616YzpVIpdN7XfCmaL9CgnF5c5Iry8fExTgkNobWbQEPrGxtcdeQfZ2cvwtlhp7BijSpodImfPn1i/v77paWDF4Kro5A3FPqPstCApebneWgFP8zMKBcLqVxdteL/UvhVS8vLcHsMKVer1bdv3pRKJVg6zarROSiDh7PwUogmtAmsQP/9/v3+/j6ShpPiKio2T8HhWt+9fYuiz6AAfvwIR4+J5XK7aa7aZrfcwGT6c3qaMuvZ2dmFVOoiNbtclBecqOw4m0yq+urly8L+PoXDwcb99e7d4sIC/u5wOukvVGO5gAZZUrNap6ens9ksaY/xx6tX9XsArNZrM16vVa9Isx8+wIckk0kSCMAXtbdcLmMK4VisFl2aePieIVqY09qmaVNTU+OxmFE1qlgsIilv53L1K4rqx3AhIBcrEOuxhqCb+Wcmk80+f/78+mPOzc2h7tW7UEQxxmf7ZhhHSz0v2gdNM+oxR/HwEJQxGkofhmX+6/haU4ugM2oLILeuO3h6T4m7Zbu6rhsyjtfrNascrYHnDrRRW3j5/f5q9VyCbpo6jHr78yKizTKim4ehUQ4M12wgHJagG2t0dNTA0cajUU4eMvAFOhgMBgIBAwf0+f0RboKaC3vncrni8fjAwIDhI0/duxfa3k6n08yXaTMGbbPZJiYmhoeHybVtuH6YK+vr65lMhuEiHmag0a2Nj48jKVPwBqqq4kCDg4NLS0srKytM3l9iABpk8bNBmXJnDD+TSCRwaGSSzc1NynWSKmjkh6GhIaRjOk/4myWrycnJaDS6sLCwu7vbhaDD4TAQc7KrhNvtTiaThUJhcXGRzmNiGqD7+/tv3LjB4Q4pPp/vyZMnuVzu8+fPpG0JWdDog4GY1Z7cV59qoVCItC0hBVrXdVQe+CpFBFGwJcaDdjgcyMWRSITzve6a2ZKRkRFkEsNtiZGgrVZrLBbDiVLe1d1Y2e12ErbEYlQs4MzGxsYE2gaFsi25LhcEb/1LYgLtncTElnQOGikYiRjpWJR9wK5pS9bW1rLZbMe2pEPQODDqxn8/2tjdwsRFYoQtWV5e7syWWDqYTbDGTD7Ow1yapnVsS9oAjdYOiBl+14srW4IAhy3Z29szEjSy8MTEBCaOcNaYnNCRPXz4EKBTqdRVFh9bfjlZ6r5NoH0CaQrz+9mzZ2jfkUxa10lL64p3+/btrvRtBqr+qVw4k/n5+a2trabltMUQ+P+S8tXrZOsvramtuyNJ8Opy1RbEtg0azbQQO5nzI8z+Fh8KUFtUVcmu7TskLnfboGXe6MTz9Xia7cUqI9pI9Xg8zbpzGdFGytPTU20XtChfm+BKvb29501SR9OG5fXr18dHRxzuGcO/oW7bRwu09TM/Oq80hvavAAMAcWJ5ooQVnC0AAAAASUVORK5CYII=",QB=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={src:JB},n.download=n.download.bind(ct(n)),n.download(e.src),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){t.src!==this.props.src&&(this.setState({src:JB}),this.download(t.src))},n.shouldComponentUpdate=function(t,e){return e.src!==this.state.src},n.download=function(t){var e=this,n=new Image,i=function(){e.setState({src:t})};n.onload=i,n.onerror=i,n.src=t},n.render=function(){var t=this.props;return i("img",dt({},t,{alt:"",src:this.state.src}))},e}(p),ZB=aB("header.icons")(YB),XB=t(1)(Tt),$B=function(t){function e(){var e;return(e=t.call(this)||this).state={showEndChatConfirm:!1,headerHeight:0},e.header=null,e.shuoldUpdateHeaderHeight=!1,e.shouldComponentUpdate=ZA(ct(e),["passEventArgs","ifViewConfirmBubble","ifHideBio","ifViewHeaderBox","ifViewHeader","color","onMinimize","team","avatars","banner","avatar","name","title","bio","logo","tab","controls","languages","agent","windowDisabled","icons","hasEndChat","hasCloseButton"],["showEndChatConfirm","headerHeight"]),e.onMinimize=e.onMinimize.bind(ct(e)),e.onClose=e.onClose.bind(ct(e)),e.showAnimation=!0,e}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.headerContainer.focus()},n.componentWillReceiveProps=function(t){t.tab===ep&&this.props.tab!==ep&&(this.showAnimation=!0);var e=t.agent&&t.agent.bio,n=this.props.agent&&this.props.agent.bio;(t.ifHideBio!==this.props.ifHideBio||this.props.windowDisabled&&e!==n||this.agent&&this.props.agent.avatar!==t.agent.avatar||this.agent&&this.props.agent.title!==t.agent.title)&&(this.shuoldUpdateHeaderHeight=!0),t.tab!==this.props.tab&&this.headerContainer.focus()},n.componentDidUpdate=function(){var t=this;ot||this.header&&this.shuoldUpdateHeaderHeight&&!this.props.isMobile&&(this.shuoldUpdateHeaderHeight=!1,this.props.agent&&this.props.agent.bio?this.props.ifHideBio?this.header.style.height="":this.props.windowDisabled?setTimeout((function(){t.header.style.height=""}),400):this.header.style.height=this.header.scrollHeight+"px":(this.props.windowDisabled&&this.props.agent||!this.props.agent)&&(this.header.style.height=""))},n.onMinimize=function(){this.props.onMinimize(this.props.tab)},n.onClose=function(){return this.props.onClose(this.props.tab)},n.updateEndChatConfirmStatus=function(t){this.setState({showEndChatConfirm:t})},n.render=function(){var t=this,e=this.props,n=this.props.agent,o=this.showAnimation,a=e.chatWindowStyle===rw,r=XB(e.mainColor),s=e.avatars,c=!(e.team||s||e.banner||n||e.logo),d=ft(this.context);return i("header",{className:"window__headerContainer",onTouchMove:lt,ref:function(e){t.headerContainer=e},tabIndex:-1},e.ifViewHeader&&i("div",{id:"branding",className:h("window__header","window__header--noBio",o&&"window__header--fadeInDown",n&&n.avatar&&"window__header--hasAvatar"),style:{background:a?r:"none"},ref:function(e){e&&(t.header=e)}},e.ifViewHeaderBox&&i("div",null,i("div",{className:h("window__headerBox","clearfix",e.team&&"window__headerBox--team",s&&"window__headerBox--hasAvatars",e.banner&&"window__headerBox--banner",c&&"window__headerBox--empty")},e.team&&i("div",{className:h("header__teamName",!s&&"header__teamNameNoAvatar")},e.team),s&&i("div",{className:h("header__teamAvatar",e.isAvatarGray&&"header__teamAvatar--gray",e.ifShowSideWindow&&"header__teamAvatar--withSideWindow")},s.map((function(t,e){return i(QB,{className:"header__teamAvatarImg",src:t,width:"50",height:"50",alt:d.avatar})}))),e.banner&&i("img",{className:"header__bannerImg",src:e.banner,alt:d.banner}),n&&i("div",{className:h("header__agent",e.logo?"header__agent--withlogo":"",n.bio&&e.ifHideBio&&!e.isMobile?"header__agent--compact":"",n.title&&"with__title",o&&"header__agent--fadeInUp"),onClick:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)},onTouchEnd:function(){e.ifHideBio&&t.props.onUpdateScrollStatus(!1)}},n.avatar&&i("div",{id:"header-operator-avatar",className:h("header__avatar",this.props.ifShowSideWindow&&"header__avatar--withSideWindow",o&&"header__avatar--fadeInDown"),key:"avatar"},i(QB,{className:"header__avatarImage",src:n.avatar,alt:function(t){var e=t.type;return"chatbot"===e?"Chatbot avatar":"taskbot"===e?"Taskbot avatar":d.avatar}(n),width:"50",height:"50"})),i("div",{className:h("header__agentInfo",!n.avatar&&"header__agentInfoNoAvatar")},n.name&&i("div",{className:"direction-ltr header__agentName"},n.name),n.title&&i("div",{className:"direction-ltr header__agentTitle"},n.title)),n.bio&&i("div",{className:"header__agentBio",style:{height:e.ifHideBio?"0":"auto",marginTop:e.ifHideBio?0:"4px",marginBottom:e.ifHideBio?0:"1px",paddingLeft:n.avatar&&e.chatWindowStyle===rw?"62px":0,paddingBottom:e.ifHideBio?0:"2px",overflow:"hidden"},dangerouslySetInnerHTML:{__html:n.bio}})),e.logo&&i("div",{className:"header__logo "+(n&&(n.avatar||n.name)?"header__logo--up":""),key:"logo"},i("img",{id:"logo-image",className:"header__logoImg",src:e.logo,alt:d.logo,"aria-hidden":!0}))))),i("div",{className:"end-chat-top window__title"},i("span",{id:"embedded-window-title",className:"title-text embedded-only"}),i(ZB,{tab:e.tab,hasMinimize:e.hasMinimize,hasEndChat:e.hasEndChat,icons:e.icons,popupBubbleType:e.popupBubbleType,languages:e.languages,passEventArgs:e.passEventArgs,ifViewConfirmBubble:e.ifViewConfirmBubble,ifViewHeader:e.ifViewHeader,onMinimize:this.onMinimize,onPopIn:e.onPopIn,onClose:e.onClose,onEndChat:e.onEndChat,isMobile:e.isMobile,windowStatus:e.windowStatus,onEnterMinimize:e.onEnterMinimize,emailAddress:e.emailAddress,hideCloseButton:e.hideCloseButton})))},e}(p),tT=aB("header","window__headerVessel")($B),eT=function(t,e,n,i){return t&&{name:t.name,avatar:(n||e.chatWindowShowAvatar||e.showAvatar)&&t.avatar,title:(e.chatWindowShowTitle||e.showTitle)&&t.title,bio:e.chatWindowShowBio&&("<div>&nbsp;</div>"===t.bio?null:t.bio),type:i||"agent"}},nT=function(t,e,n){var i=Kh(t)||Yh(t)||gv(t);return{agent:eT(i,e.header,n)}},iT=function(t){return{banner:t.header.banner}},oT=function(t,e,n,i){var o=lf(e);return!i||t!==oh&&t!==ah?t===oh?nT(e,n,!1):o&&t===ah?function(t,e,n){var i=Kh(t)||Yh(t)||gv(t);return{agent:eT(i,e.header,n,"chatbot")}}(e,n,!0):t===rh?function(t,e){return e.header.showAvatar||e.header.logo?{logo:e.header.logo,agent:nT(t,e).agent}:{ifViewHeaderBox:!1}}(e,n):t===ah?iT(n):{}:function(t,e){return{agent:eT(gv(t),e.header,!0,"taskbot")}}(e,n)},aT=function(t,e,n){return t===oh?qh(e).tab===Zu?{}:function(t,e){var n=$h(t),i=n===op,o=xm(t)[e.id],a=Uf(t),r=n===tp||i&&o||a||Gm(t)===au||n===Xu||n===$u?e.header.preChatShowTeam:e.header.offlineMessageShowTeam,s=n===tp||i&&o||a||Gm(t)===au||n===Xu||n===$u?e.header.preChatTeamName:e.header.offlineMessageTeamName;return{team:r&&s,avatars:(n===tp||i&&o||a||Gm(t)===au||n===Xu||n===$u?e.header.preChatShowAvatars:e.header.offlineMessageShowAvatars)&&fw(t)}}(e,n):t===rh?function(t,e){return{logo:e.header.logo}}(0,n):t===ah?iT(n):{}},rT=function(t,e,n){if(t===cw)return{ifViewHeader:!1};var i=qh(e),o=function(t){var e=E(t,"window.involvedAgents");return e&&e.length>0}(e),a=n.header.type;if(i.tab===ep&&(o||i.isChatBot||i.isTaskBot||i.chatStatus===wp&&!i.isTaskBot)&&(i.chatStatus===mp||i.chatStatus===wp||i.chatStatus===gp&&Tm(e)===_u||i.isChatBot||i.isTaskBot)||i.tab===np){var r=!o&&!i.isChatBot&&(i.isTaskBot||i.chatStatus===wp&&!i.isTaskBot);return oT(a,e,n,r)}return aT(a,e,n)},sT=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(ct(n)),n.toggle=n.toggle.bind(ct(n)),n.shouldComponentUpdate=ZA(ct(n),["disabled","focus"],["active","fields"]),n.onButtonFocus=n.onButtonFocus.bind(ct(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}st(e,t);var n=e.prototype;return n.onClick=function(){this.toggle(!0)},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.toggle=function(t){this.props.onDialogToggle(t,"rating")},n.render=function(){var t,e=this,n=this.props,o=this.props,a=o.languages,r=o.ratingField,s=o.commentField;if(this.state.active||n.windowDisabled||(t=function(t){t.stopPropagation(),e.onClick(t)}),r||s){return i("li",{role:"none"},i("button",dt({},{role:"menuitem"},{onClick:t,tabIndex:n.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(t){e.btn=t},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),i(xt,{type:jt,title:a.buttonRating,id:"iconRating",ariaHidden:!0}),i("div",{className:"menu__text-container"},a.buttonRating)))}return null},e}(p);sT.displayName="Rating";var cT,dT=f((function(t){return{isPoppedOut:ph(t),isRightToLeft:fg(t),commentField:aw(t),ratingField:ow(t),ratingValue:Qf(t,"rating"),commentValue:Qf(t,"comment"),languages:l_(t),popupBubbleType:Jg(t)}}),(function(t){return{onSubmit:function(e){lk("livechat.chat.visitor.rate",e),t(zS(e)),t({type:Ns,payload:e})},onToggle:function(e){t(Ty(e?"rating":"none"))}}}))(sT),lT="error",uT="warning",pT=g({announce:function(t,e,n){},removeMessage:function(t){}}),hT=function(t){function e(e){return t.call(this,e)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return this.props.id!==t.id},n.componentWillUnmount=function(){this.props.removeMessageWhenUnmount&&this.removeMessage&&this.removeMessage(this.props.id,this.props.message)},n.render=function(){var t=this,e=this.props,n=e.id,o=e.message,a=e.isHtml,r=void 0!==a&&a;return i(pT.Consumer,null,(function(e){var i=e.announce,a=e.removeMessage;t.removeMessage=a,i(n,o,r)}))},e}(p),fT=function(t){function e(e){return t.call(this,e)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.errorContainer.focus()},n.render=function(){var t=this,e=this.props,n=e.type===lT,o=e.type===uT,a=ft(this.context);return i("div",{className:"chatError__container",ref:function(e){t.errorContainer=e}},i("div",{className:h("window_chatError",n&&"window_chatError--urgency",o&&"window_chatError--mitigate"),role:"alert"},e.message,i("button",{className:"window_chatErrorClose",onClick:e.onClose,ref:function(e){t.btn=e},"aria-label":a.closeAlert},i(xt,{type:Mt,className:"icon-close"}))))},e}(p),gT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldCOmponentUpdate=ZA(ct(n),["input.value","isDisabled"]),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.render=function(){var t=this,e=this.props,n=!(!e.input.value&&!e.initialValue),o=e.uniqKey||e.id,a=e.isDisabled?"":"checkbox-"+o;return i("div",{className:h("container-checkbox",e.isDisabled&&"disable",e.className),onClick:e.isDisabled?void 0:function(){e.input.onChange(!n,e.text,e.id)}},i("label",{className:h(e.isDisabled&&"disable",e.className,"checkbox__text"),id:"checkbox-label-"+o,htmlFor:a},e.text||e.children),i("input",{id:a,type:"Checkbox",className:"checkbox",disabled:e.isDisabled,checked:n,onFocus:e.input.onFocus,onBlur:e.input.onBlur,ref:function(e){t.element=e},"aria-labelledby":"checkbox-label-"+o,"aria-required":(e.isRequired||!1).toString()}),i("i",{className:n?"selected":"unselected"},i(xt,{type:Pt})))},e}(p),mT=[Ho,qo,Uo,Go,Ko,Yo,Qo,Zo,Xo,$o,ta,sa],wT=function(t){var e=function(e){function n(t){var n;return(n=e.call(this,t)||this).params={onChange:n.onChange.bind(ct(n)),onBlur:n.onBlur.bind(ct(n)),onFocus:n.onFocus.bind(ct(n)),siteId:t.siteId,style:t.style,disabled:t.disabled,languages:t.languages,forceLabel:t.forceLabel,captchaSettings:t.captchaSettings,languageTag:t.languageTag,isHorizontal:t.isHorizontal,ifBotForm:t.ifBotForm},n.shouldComponentUpdate=ZA(ct(n),["field","disabled"]),n}st(n,e);var o=n.prototype;return o.componentWillReceiveProps=function(t){var e=this.params;e.disabled===t.disabled&&e.languages===t.languages||(this.params.disabled=t.disabled,this.params.languages=t.languages)},o.onChange=function(t){this.props.onChange(this.props.field,t)},o.onBlur=function(){this.props.onBlur(this.props.field)},o.onFocus=function(){this.props.onFocus(this.props.field)},o.render=function(){var e=this.props.field,n=e.label,o=e.error,a=void 0===o?"":o,r=e.isErrorShowed,s=e.isHidden,c=e.isRequired,d=e.id,l="required"===a.toLowerCase(),u=!!a&&!l,p=u?Object.assign({},this.props.field,{isInvalidError:u}):this.props.field,f=function(t){return mT.indexOf(t)>=0}(p.type);if(s)return null;var g=p.type===ia||p.type===oa,m=g;return g?i("div",{className:h("box-field",f&&"system-field")},i("div",{className:"check-box clearfix"},c&&i(xt,{type:Wt,className:"field__requiredTag"}),t(p,this.params),r&&a&&d!==no&&i("span",{className:h("field__requiredMsg","field__requiredMsg--checkbox"),role:"alert"},i(xt,{title:"Error",type:Ft})," ",l?p.label+" is required.":a))):i("div",{className:h("box-field",f&&"system-field")},i("div",{className:"filed__content"},i("div",{className:h("field-name clearfix",g&&"checkbox-label")},c&&!m&&i(xt,{type:Wt,className:"field__requiredTag",title:"star"}),m?"":i("label",{className:"field__label",htmlFor:"field-"+d,id:"label-field-"+d},n)),t(p,this.params)),r&&a&&d!==no&&i("div",{className:h("field__requiredMsg"),id:"field-error-"+d,role:"alert"},i(xt,{title:"Error",type:Ft})," ",l?p.label+" is required.":a))},n}(p);return e},bT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;if(Array.isArray(s)){var c=s.indexOf(t.label);s=c>=0?"true":"false",n(c>=0?"true":"false")}else s||(s="false",n("false"));return i(gT,{input:{value:s&&"true"===s.toString(),onChange:function(t){n(t?"true":"false")},onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},text:t.label,id:t.id,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired})})),vT=["className","options","align","focused","ariaLabelledby"],_T=function(){},xT=function(t){function e(e){var n;(n=t.call(this,e)||this).Change=n.Change.bind(ct(n)),n.shouldComponentUpdate=ZA(ct(n),["input.value","options"]);var i=n.validate.bind(ct(n));return n.componentDidMount=i,n.componentDidUpdate=i,n.onFocus=n.onFocus.bind(ct(n)),n.onBlur=n.onBlur.bind(ct(n)),n.hasFocus=!1,n}st(e,t);var n=e.prototype;return n.onBlur=function(){var t=this.props.input.onBlur;this.hasFocus=!1,t&&t()},n.onFocus=function(){var t=this.props.input.onFocus;this.hasFocus=!0,t&&t()},n.validate=function(){var t=this,e=this.props.input.value;0!==e.length&&e.every((function(e){return t.props.options.every((function(t){return t.id.toString()!==e.toString()}))}))&&this.props.input.onChange([])},n.Change=function(t,e,n){var i=this.props.input.value,o=this.props.input.onChange||_T;-1===i.indexOf(n)?o(i.concat(n)):o(i.filter((function(t){return t!==n})))},n.render=function(){var t=this,e=this.props,n=e.className,o=e.options;e.align;var a=e.focused,r=e.ariaLabelledby,s=F(e,vT);return i("div",{className:h("container-checkboxlist",n),id:this.props.id,role:"group","aria-labelledby":r||"label-"+this.props.id},o.map((function(e,n){return i("div",{key:e.id,className:"vertical"},i(gT,dt({},s,{focused:!t.hasFocus&&0===n&&a,id:e.id.toString(),uniqKey:t.props.input.id+"-"+n,text:e.text,input:{value:-1!==t.props.input.value.indexOf(e.id.toString()),onChange:t.Change,onBlur:t.onBlur,onFocus:t.onFocus},fieldId:t.props.id})))})))},e}(p),yT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)||(s?n(s=c.find((function(t){return t.value===s}))?[s]:[]):s=[]),i(xT,{input:{id:t.id,value:s,onChange:n,onFocus:a,onBlur:o,"aria-describedby":"field-error-"+t.id},options:c.map((function(t){return{id:t.value,text:t.label}})),focused:t.isFocused,isDisabled:r,id:"field-"+t.id})})),ST=function(t){function e(e){var n;return(n=t.call(this,e)||this).onChange=n.onChange.bind(ct(n)),n.onError=n.onError.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.element=this.props.field.element(this.onChange,this.onError),this.element&&this.container.appendChild(this.element)},n.componentWillUnmount=function(){this.container.removeChild(this.element)},n.onChange=function(t){this.props.onChange(this.props.field,t)},n.onError=function(t){this.props.onError(this.props.field,t)},n.render=function(){var t=this;return i("div",{ref:function(e){t.container=e}})},e}(p),CT=ST,kT=["isRequired","input","isReadOnly","isDisabled","className","meta","type","placeholder","autoComplete","maxLength","animationEffect","style"],IT=function(t,e){var n=t.isRequired,o=t.input,a=t.isReadOnly,r=t.isDisabled,s=t.className,c=t.meta,d=t.type,l=t.placeholder,u=t.autoComplete,p=t.maxLength,f=t.animationEffect,g=t.style,m=F(t,kT);return i("input",dt({},o,{readOnly:a,disabled:r,className:h("input","form__input",f&&"input--effect01",s,c&&c.touched&&c.invalid&&"error"),type:d,placeholder:l,"aria-label":l,autoComplete:u||"off",maxLength:p,style:g,ref:e,"aria-required":n.toString()},m))},MT=function(t){function e(e){var n;return(n=t.call(this,e)||this).refCallback=n.refCallback.bind(ct(n)),n.shouldComponentUpdate=ZA(ct(n),["input.value","meta.invalid","meta.touched","focused","isRequired","isDisabled","style","type"]),n.focus=n.focus.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.focus()},n.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},n.focus=function(){var t=this.element;t&&t.focus()},n.refCallback=function(t){this.element=t},n.render=function(){var t=this.props;return t.animationEffect?i("div",{className:"form__inputContainer"},IT(t,this.refCallback)):IT(t,this.refCallback)},e}(p),OT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=t.value;return Array.isArray(c)&&(c=c.join(","),n(c)),i("div",{className:"field-control"},i(MT,{maxLength:64,type:"email",input:{value:t.value,onBlur:function(t){o()},onFocus:a,disabled:s,"aria-invalid":(t.isInvalidError||!1).toString(),onChange:function(t){var e=t.target.value;e!==c&&n(e)},"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isRequired:t.isRequired,isDisabled:s,animationEffect:rw===r,focused:t.isFocused,id:"field-"+t.id,autoComplete:"email"}))})),AT=function(t){function e(){var e;return(e=t.call(this)||this).shouldComponentUpdate=ZA(ct(e),["radioOption","selectedVal"]),e}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.first&&this.first.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&!this.props.selectedVal&&this.first&&this.first.focus()},n.render=function(){var t=this;return i("div",{className:"clearfix container-radiolist",role:"radiogroup","aria-labelledby":this.props.ariaLabelledby||"label-field-"+this.props.id,id:"field-"+this.props.id},this.props.radioOption.map((function(e,n){var o=t.props.disabled,a=o?"":"radio-"+t.props.id+"-"+n,r=o?"":"radio-"+t.props.id+"-"+t.props.label,s=o?"":"radio-label-"+t.props.id+"-"+n,c=o?"":a;return i("div",{className:h("control","controlRadio",t.props.className),onClick:function(){o||t.props.handleChange(e.value)}},i("label",{key:e.id,className:"radioText",htmlFor:c,id:s},e.text),i("input",{type:"radio",name:r,value:e.value,checked:t.props.selectedVal===e.value||e.checked,onBlur:t.props.onBlur,onFocus:t.props.onFocus,id:a,disabled:t.props.disabled,ref:function(e){0===n&&(t.first=e)},"aria-labelledby":s}),i("div",{className:"controlIndicator","aria-hidden":"true"},i("svg",{viewBox:"0 0 16 16","aria-hidden":"true",focusable:"false"},i("circle",{r:"8",cx:"8",cy:"8"}),i("circle",{r:"3",cx:"8",cy:"8"}))),e.component?e.component:"")})))},e}(p),BT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value,c=t.options;return c||(c=[]),Array.isArray(s)&&(s=s.find((function(t){return c.some((function(e){return e.value===t}))}))||null,n(s)),i(AT,{label:t.label,id:t.id,radioOption:c.map((function(e,n){return{id:n,text:e.label,value:e.value,checked:e.value===t.value}})),selectedVal:t.value,handleChange:function(t){t!==s&&n(t)},onBlur:o,onFocus:a,focused:t.isFocused,disabled:r,"aria-labelledby":"field-"+t.id})})),TT=["input","rows","cols","style","isDisabled","placeholder","maxLength","className","meta"],jT=function(t){t.stopPropagation()},PT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=ZA(ct(n),["input.value","meta.touched","meta.invalid","focused","isDisabled"]),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus()},n.componentDidUpdate=function(t){t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.render=function(){var t=this,e=this.props,n=e.input,o=e.rows,a=e.cols,r=e.style,s=e.isDisabled,c=e.placeholder,d=e.maxLength,l=e.className,u=e.meta,p=F(e,TT);return i("textarea",dt({onKeyDown:jT},n,{cols:a,rows:o,style:r,disabled:!!s&&"disabled",className:h(l,"multipleText",u.touched&&u.invalid&&"error"),placeholder:c,"aria-label":c,maxLength:d,ref:function(e){t.element=e},"aria-required":(this.props.isRequired||!1).toString()},p))},e}(p),FT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.ifBotForm,c=t.value;return Array.isArray(c)&&(c=c.join(","),n(c)),i("div",{className:"field-control"},i(PT,{input:{value:t.value,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==c&&n(e)},onFocus:a,id:"field-"+t.id,onTouchMove:t.ontouchmove,"aria-describedby":"field-error-"+t.id},rows:2,meta:{touched:t.isErrorShowed,invalid:!!t.error},maxLength:s?8e3:2048,focused:t.isFocused,isDisabled:r,isRequired:t.isRequired}))})),WT=function(t,e,n){void 0===e&&(e="text");return wT((function(o,a){var r=a.onChange,s=a.onBlur,c=a.onFocus,d=a.style,l=a.disabled,u=o.value;return o.field,Array.isArray(o.value)&&(u=u.join(","),r(u)),i("div",{className:"field-control"},i(MT,{maxLength:t,type:e,input:{value:o.value,onBlur:function(t){s()},onFocus:c,onChange:function(t){var e=t.target.value;e!==u&&r(e)},"aria-invalid":(o.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+o.id},meta:{invalid:!!o.error,touched:o.isErrorShowed},isRequired:o.isRequired,animationEffect:d===rw,focused:o.isFocused,isDisabled:l,id:"field-"+o.id,autoComplete:n}))}))},NT=WT(128),VT=WT(64,"text","name"),DT=WT(32,"text","tel"),RT=WT(64,"text","organization"),ET=["options","disabled","className","width","selectedValue"],zT=function(t,e){return t==e},LT=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=ZA(ct(n),["options","disabled","className","width","selectedValue"]),n.handleChange=n.handleChange.bind(ct(n)),n.validate=n.validate.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.element&&this.element.focus(),this.validate()},n.componentDidUpdate=function(t){this.validate(),t.focused!==this.props.focused&&this.props.focused&&this.element&&this.element.focus()},n.handleChange=function(t){t.target.value!==this.props.selectedValue&&this.props.handleChange(t.target.value)},n.validate=function(){var t=this;this.props.selectedValue&&this.props.options.every((function(e){return!zT(e.value,t.props.selectedValue)}))&&this.props.handleChange(this.props.options[0].value)},n.render=function(){var t=this,e=this.props,n=e.options,o=e.disabled,a=e.className,r=e.width,s=e.selectedValue,c=F(e,ET);return i("div",{className:"select-box",style:{width:r+"px"}},i("select",dt({disabled:o,onChange:this.handleChange,className:"select "+(void 0!==a?a:""),ref:function(e){t.element=e}},c),n.map((function(t){return i("option",{index:t.id,style:{color:t.themeColor||"black"},value:t.value,selected:zT(s,t.value),ariaSelected:zT(s,t.value)},t.text)}))),i("svg",{viewBox:"0 0 9 6",focusable:"false"},i("path",{d:"M5.2,5.7c-0.4,0.4-1,0.4-1.4,0L0.3,1.9c-0.4-0.4-0.4-1.1,0-1.6s1-0.4,1.4,0l2.8,3.1l2.8-3.1c0.4-0.4,1-0.4,1.4,0s0.4,1.1,0,1.6L5.2,5.7z"})))},e}(p),HT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value,d=t.options;return d||(d=[]),Array.isArray(c)&&n(c=c.find((function(t){return d.some((function(e){return e.value===t}))}))||""),i(LT,{options:[{id:-1,text:s.dropdownListDefault,value:""}].concat(d.map((function(t,e){return{id:e,value:t.value,text:t.label}}))),selectedValue:c,handleChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),qT=HT,UT=WT(32),GT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=e.languages,c=t.value;return Array.isArray(c)?n(c=c.find((function(e){return t.options.some((function(t){return t.value==e}))}))||""):c===Xi&&(c=""),i(LT,{options:[{id:Xi,text:s.fieldNoDepartment,value:""}].concat(t.options.map((function(t,e){return{id:e,value:t.value,text:t.label+" "+(t.isOnline?s.fieldDepartmentStatusOnline:s.fieldDepartmentStatusOffline),themeColor:t.isOnline?"green":"red"}}))),selectedValue:c,handleChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id})})),KT=GT,YT=function(t){function e(e){var n;n=t.call(this,e)||this;for(var i=0,o=0;o<e.rateItems.length;o+=1)if(e.rateItems[o].value==e.rateVal){i=o+1;break}return n.state={rateVal:i,hoverRateVal:-1},n.stars=[],n.clickChange=n.clickChange.bind(ct(n)),n.onKeyDown=n.onKeyDown.bind(ct(n)),n.onClear=n.onClear.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){this.setState({rateVal:t.rateVal})},n.onKeyDown=function(t){var e;switch(t.keyCode){case 37:case 38:e=Math.max(this.state.hoverRateVal-1,0)-1;break;case 39:case 40:e=Math.min(this.state.hoverRateVal+1,this.props.rateItems.length)-1;break;case 9:this.onClear()}var n=this.stars[e];n&&n.focus(),void 0!==e&&(t.stopPropagation(),t.preventDefault())},n.onClear=function(){this.setState({hoverRateVal:-1})},n.clickChange=function(t){this.setState({rateVal:t}),this.props.rateChange(t)},n.render=function(){var t=this,e=this.props,n=this.state.rateVal,o=n>0,a=-1===this.state.hoverRateVal?n:this.state.hoverRateVal;return i("div",{ref:function(e){t.ratingDiv=e},className:"rating",id:e.id,style:Object.assign({width:e.width,height:e.height},e.style),onFocus:e.onFocus,onBlur:e.onBlur,onMouseLeave:this.onClear,onKeyDown:this.onKeyDown,"aria-labelledby":"label-"+e.id,role:"radiogroup"},e.rateItems.map((function(e,r){var s=-1,c=r===n-1;return o?r===a-1&&(s=0):0===r&&(s=0),i("button",{key:e.value,type:"button",name:"rating-"+r,className:h("star",r<n&&"starColor",t.state.hoverRateVal>-1&&t.state.hoverRateVal-1<r&&r<=n&&"opacity",r<t.state.hoverRateVal&&"focusColor"),onClick:function(){return t.clickChange(e.value)},onFocus:function(){return t.setState({hoverRateVal:r+1})},onMouseLeave:function(){return t.onClear()},onMouseEnter:function(){return t.setState({hoverRateVal:r+1})},ref:function(e){t.stars[r]=e},title:e.label,"aria-label":e.label,"aria-checked":c.toString(),role:"radio",tabIndex:s},i("svg",{viewBox:"0 0 24 24",focusable:"false"},i("path",{d:"M18.539,7.366c-.12-.241-.241-.361-.481-.361L12.646,5.921,10,.861C9.88.62,9.76.5,9.52.5s-.361.12-.481.361L6.393,5.921.981,7C.74,7,.62,7.12.5,7.361a1.086,1.086,0,0,0,.12.6l3.728,4.216-.722,5.782a.627.627,0,0,0,.241.482.538.538,0,0,0,.6,0L9.4,16.04l4.931,2.409h.241a.439.439,0,0,0,.361-.12.915.915,0,0,0,.241-.482l-.722-5.782L18.18,7.849C18.539,7.728,18.539,7.607,18.539,7.366Z"})))})),e.children)},e}(p),JT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled,s=t.value;return Array.isArray(s)&&n(s=s.find((function(e){return t.options.some((function(t){return+t.value==+e}))}))||0),i(YT,{rateVal:+s,rateItems:t.options.map((function(t){return{id:t.id,value:t.value,label:t.label}})),rateChange:n,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,isFocused:t.isFocused})})),QT=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.siteId,s=e.style,c=e.disabled,d=t.value;return Array.isArray(d)&&(d=d[0],n(d)),i("div",{className:"fieldControl__Ticket"},i("div",{className:"form__ticketPrefix"},"S"+r+"-#"),i("div",{className:"field-control"},i(MT,{maxLength:10,type:"text",input:{value:d,onBlur:function(t){o()},onChange:function(t){var e=t.target.value;e!==d&&n(e)},onFocus:a,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+t.id},meta:{invalid:!!t.error,touched:t.isErrorShowed},isDisabled:c,isRequired:t.isRequired,animationEffect:rw===s,focused:t.isFocused,className:bt&&"form__input--ie10",id:"field-"+t.id})))})),ZT=QT,XT=function(t){function e(){return t.apply(this,arguments)||this}return st(e,t),e.prototype.render=function(){var t=this.props,e=this.context,n=Date.now().toString(),o=ft(e);return i(hB,{id:n,src:"about:blank",style:t.style,frameborder:0,scrolling:"no",innerCss:"body{margin:0;padding:0}",title:o.uploadForm,onMounted:function(t){t.ownerDocument}},i("form",{id:"form",method:"post",encType:"multipart/form-data",encoding:"multipart/form-data"},i("input",{ref:function(e){t.onMounted&&t.onMounted(e)},type:"file",name:"file",onChange:function(e){var i,o;t.onChange&&t.onChange({formId:n,name:(i=e.target.value,o=i.split(/\/|\\/),o[o.length-1])})},onBlur:t.onBlur,onFocus:t.onFocus})))},e}(p),$T=["focused"],tj=function(t){function e(e){var n;return(n=t.call(this,e)||this).focus=n.focus.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.focused&&this.focus()},n.componentDidUpdate=function(t){this.props.focused!==t.focused&&this.props.focused&&this.focus()},n.focus=function(){var t=this.element;t&&t.focus()},n.render=function(){var t=this,e=this.props;e.focused;var n=F(e,$T);return i("input",dt({type:"file",ref:function(e){return t.element=e}},n))},e}(p),ej=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t,e;t=this.div,e=this.props,l(i(XT,e),t)},n.shouldComponentUpdate=function(){return!1},n.render=function(){var t=this;return i("div",{ref:function(e){t.div=e},"aria-labelledby":"field-"+this.props.id})},e}(p),nj=lr()?function(t,e,n,o){return i(ej,{onChange:e,onBlur:n,onFocus:o})}:function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;return i("div",{className:"form__attachmentContainer"},i(tj,{onChange:function(t){n(t.target.files[0])},focused:t.isFocused,onBlur:o,onFocus:a,disabled:r,id:"field-"+t.id,name:t.label,"aria-invalid":(t.isInvalidError||!1).toString(),"aria-required":(t.isRequired||!1).toString(),"aria-describedby":"field-error-"+t.id}))},ij=wT(nj),oj=["onChange","onBlur","onFocus","style","disabled"],aj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showPassword:!1},n.onClickShowPassword=n.onClickShowPassword.bind(ct(n)),n.onClickHidePassword=n.onClickHidePassword.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.onClickShowPassword=function(){this.setState({showPassword:!0})},n.onClickHidePassword=function(){this.setState({showPassword:!1})},n.render=function(){var t=this.state.showPassword,e=this.props,n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled,c=F(e,oj);return i("div",{className:"field-control field-control-password"},i(MT,{maxLength:128,type:t?"text":"password",input:{value:c.value,onBlur:o,onFocus:a,onChange:function(t){var e=t.target.value;e!==c.value&&n(e)},"aria-invalid":(c.isInvalidError||!1).toString(),"aria-describedby":"field-error-"+c.id},meta:{invalid:!!c.error,touched:c.isErrorShowed},isRequired:c.isRequired,animationEffect:r===rw,focused:c.isFocused,isDisabled:s,id:"field-"+c.id}),t?i("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickHidePassword},i("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})):i("svg",{class:"svg-icon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",onClick:this.onClickShowPassword},i("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})))},e}(p),rj=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.style,s=e.disabled;return i(aj,Object.assign({},t,{onChange:n,onBlur:o,onFocus:a,style:r,disabled:s}))})),sj=WT(128,"number"),cj=function(t){var e=t.target.value;e=e.replace(/\D/g,""),t.target.value=e},dj=function(t,e){void 0===e&&(e="text");return wT((function(n,o){var a=o.onChange,r=o.onBlur,s=o.onFocus,c=o.style,d=o.disabled,l=n.value;return n.field,Array.isArray(n.value)&&(l=l.join(","),a(l)),i("div",{className:"field-control"},i(MT,{maxLength:t,type:e,input:{onInput:cj,value:n.value,onBlur:function(t){r()},onFocus:s,onChange:function(t){var e=t.target.value;e!==l&&a(e)},"aria-describedby":"field-error-"+n.id},meta:{invalid:!!n.error,touched:n.isErrorShowed},isRequired:n.isRequired,animationEffect:c===rw,focused:n.isFocused,isDisabled:d,id:"field-"+n.id}))}))}(128,"number"),lj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={},n.handleDocumentClick=n.handleDocumentClick.bind(ct(n)),n.anchorElRef=null,n.contentRef=null,n.doc=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.doc=Nt(this.anchorElRef),this.doc.addEventListener("click",this.handleDocumentClick,!0),this.doc.addEventListener("touchend",this.handleDocumentClick,!0)},n.componentDidUpdate=function(t){var e=this;if(this.props.open&&this.props.open!==t.open&&this.doc)setTimeout((function(){e.contentRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20);else if(!this.props.open){if(!t.open)return;setTimeout((function(){e.anchorElRef.querySelector("[tabindex='0'],[tabindex='-1']").focus()}),20)}},n.componentWillUnmount=function(){this.doc&&(this.doc.removeEventListener("click",this.handleDocumentClick,!0),this.doc.removeEventListener("touchend",this.handleDocumentClick,!0))},n.handleDocumentClick=function(t){this.props.open&&this.contentRef&&!this.contentRef.contains(t.target)&&this.props.onClose()},n.render=function(){var t=this;this.state;var e=this.props,n=e.children,o=e.anchorEl,a=e.open;return i("div",{className:h(["taskbot-dropdown"]),onClick:this.onClick},i("div",{className:h(["taskbot-dropdown-trigger"]),ref:function(e){t.anchorElRef=e}},o),a&&i("div",{className:h(["taskbot-dropdown-content"]),ref:function(e){t.contentRef=e}},n))},e}(p),uj=["options","mainColor","isProcessed","onBlur","error","ariaLabel","required"],pj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={open:!1,inputWidth:e.width?e.width+"px":"192px",sIndex:0,value:Array.isArray(e.value)?e.value:[]},n.handleOpen=n.handleOpen.bind(ct(n)),n.handleClose=n.handleClose.bind(ct(n)),n.handleToggle=n.handleToggle.bind(ct(n)),n.handleChange=n.handleChange.bind(ct(n)),n.handleDelete=n.handleDelete.bind(ct(n)),n.handleKeydown=n.handleKeydown.bind(ct(n)),n.handleOptionKeyDown=n.handleOptionKeyDown.bind(ct(n)),n._isSelected=n._isSelected.bind(ct(n)),n.isClose=!1,n}st(e,t);var n=e.prototype;return n.componentDidUpdate=function(t,e){!0===this.state.open&&!1===e.open&&this.setState({sIndex:0})},n.handleToggle=function(){this.isClose?this.isClose=!1:this.setState({open:!this.state.open})},n.handleOpen=function(){this.state.open||this.setState({open:!0})},n.handleClose=function(){var t=this,e=this.props.onClose;e&&e(),this.isClose=!0,this.setState({open:!1}),setTimeout((function(){t.isClose=!1}),100)},n.handleDelete=function(t,e){void 0===e&&(e=0),t.stopPropagation();var n=this.props.onChange;if(e>=0){var i=[].concat(this.state.value);i.splice(e,1),this.setState({value:i}),n(i)}window.event?window.event.cancelBubble=!0:t.stopPropagation()},n.handleChange=function(t,e){var n=this.props,i=n.onChange;n.options;var o=this.state.value.indexOf(t),a=[].concat(this.state.value);-1!==o?a.splice(o,1):a.push(t),this.setState({value:a}),void 0!==e&&this.setState({sIndex:e}),i(a)},n.handleKeydown=function(t){13!==t.keyCode&&32!==t.keyCode||this.handleToggle()},n.handleOptionKeyDown=function(t){t.stopPropagation();var e=t.keyCode,n=this.state.sIndex,i=this.props.options;38===e||37===e?(n=0===n?i.length-1:n-1,this.setState({sIndex:n})):39===e||40===e?(n=n===i.length-1?0:n+1,this.setState({sIndex:n})):13===e?this.handleChange(i[n].value):27!==event.keyCode&&9!==event.keyCode||(event.stopPropagation(),event.preventDefault(),this.handleClose())},n._isSelected=function(t){return-1!==this.state.value.indexOf(t)},n.render=function(){var t=this,e=this.props,n=e.options,o=void 0===n?[]:n;e.mainColor;var a=e.isProcessed,r=e.onBlur,s=e.error,c=e.ariaLabel,d=e.required,l=F(e,uj),u=this.state,p=u.sIndex,f=u.value;return a?null:i(lj,{open:this.state.open,onClose:this.handleClose,anchorEl:i("div",dt({className:h("taskbot_input","taskbot_select_box",s&&"taskbot_input_error"),"aria-label":c||"multiple select"+(f&&f.length>0?" selected "+f.join(","):""),onClick:this.handleToggle,onKeyDown:this.handleKeydown,tabIndex:0,onBlur:r,role:"listbox","aria-expanded":this.state.open,"aria-required":d},l),i("div",{className:"taskbot_select_multiple"},f.map((function(e,n){return i("div",{className:"taskbot_select_multiple_item"},i("span",null,e),i("svg",{className:"delete_icon",onClick:function(e){return t.handleDelete(e,n)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18.008 18.003"},i("path",{d:"M15.367,2.634a9,9,0,1,0,0,12.733A9,9,0,0,0,15.367, 2.634Zm-1.867,9.6L12.23,13.5,9, 10.269H9L5.769,13.5,4.5,12.231,7.731,9,4.5,5.769, 5.769,4.5,9,7.731,12.231,4.5,13.5,5.769,10.269,9Z",transform:"translate(0.004 0.003)"})))}))),i(xt,{type:Vt,className:h("arrow",{arrow_down:!this.state.open})})),onSelectionKeydown:this.handleOptionKeyDown},i("div",{className:"taskbot_select_option_container",style:{height:o.length>8?264:32*o.length}},i("ul",{ref:function(e){t.selectOptionRef=e},className:"taskbot_select_option_list",style:{width:this.state.inputWidth},tabIndex:-1,onKeyDown:this.handleOptionKeyDown,role:"listbox","aria-activedescendant":"taskbot_select_option_item_"+p,"aria-multiselectable":"true"},o.map((function(e,n){return i("li",{id:"taskbot_select_option_item_"+n,key:e.value,className:h("taskbot_select_option_item",{selected:t._isSelected(e.value),active:p===n}),onClick:function(){return t.handleChange(e.value,n)},role:"option","aria-selected":t._isSelected(e.value),"data-value":e.value,"aria-label":e.label},e.label)})))))},e}(p),hj=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),i(pj,{options:c,value:s,onChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,width:308,error:t.error})})),fj=wT((function(t,e){var n=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value;return r||n(Dt(new Date,"YYYY/MM/DD")),i(Rt,{value:r,onChange:n,onFocus:o,disabled:a,id:"field-"+t.id})})),gj=function(t,e){void 0===e&&(e="AM");var n=t%60,i=(t-n)/60;return"PM"===e&&0===i&&(i="12"),i+":"+(n=n<10?"0"+n:""+n)+" "+e},mj=function(t){if("number"!=typeof t)return"";return t<720?gj(t):gj(t-720,"PM")},wj=function(){var t=new Date;return 60*t.getHours()+t.getMinutes()},bj=wT((function(t,e){var n=e.onChange;e.onBlur;var o=e.onFocus,a=e.disabled;e.style;var r=t.value,s=r?function(t){var e=Dt(new Date,"YYYY/MM/DD"),n=new Date(e+" "+t);return 60*n.getHours()+n.getMinutes()}(r):wj();return r||n(mj(wj())),i(Et,{value:s,onChange:function(t){n(mj(t))},onFocus:o,disabled:a,formatType:"min",id:"field-"+t.id})})),vj=bj,_j=wT((function(t,e){var n=e.onChange,o=e.onBlur,a=e.onFocus,r=e.disabled;e.languages;var s=t.value,c=t.options;return c||(c=[]),i(zt,{options:c,value:s,onChange:n,onFocus:a,onBlur:o,focused:t.isFocused,disabled:r,id:"field-"+t.id,error:t.error})})),xj={},yj=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentWillMount=function(){var t=this,e=this.chatWindow(),n=ft(this.context);this.captcha=i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":n.loading,"aria-busy":"true",style:{transform:"none"}}),e.recaptchaLoadedCallback=function(){t.renderRecaptcha(e.grecaptcha)}},n.componentDidMount=function(){var t=this.chatWindow();t.grecaptcha&&t.grecaptcha.reset?t.grecaptcha.reset(xj[this.container.id]):(!function(t,e){var n=V.brandingNameLowerCase,i=t.head;if(i){var o=i.querySelector("style#recaptch");o||((o=t.createElement("style")).id="recaptch",i.appendChild(o));var a="#"+n+"-container ~ div > :last-child {max-height: 550px !important;overflow-y: auto !important;}#"+n+"-container ~ div > :last-child::-webkit-scrollbar-thumb {background-color: #c8c8c8;}#"+n+"-container ~ div:last-child {left: 0px !important;}#container ~ div:last-child {left: 0px !important;}";o.innerHTML=a}}(t.document,this.props.brandConfig),t.document.head.appendChild(this.createRecaptchaApiScript()))},n.shouldComponentUpdate=function(){return!1},n.createRecaptchaApiScript=function(){var t=this.chatWindow().document.createElement("script"),e=this.props,n=e.settings,i=e.language;return t.src="https://"+n.host+"/recaptcha/api.js?hl="+i+"&render=explicit&onload=recaptchaLoadedCallback",t.defer=!0,t.async=!0,t},n.componentWillUnmount=function(){this.chatWindow().grecaptcha=null},n.chatWindow=function(){var t=window.parent||window,e=t.document.getElementById("chat_window_container");return e&&"iframe"===e.tagName.toLowerCase()?e.contentWindow:t},n.renderRecaptcha=function(t){var e=this.props,n=e.settings,i=e.onError,o=e.onExpired,a=e.onSuccess,r=n.siteKey,s=n.isCompact;this.container.innerHTML="",xj[this.container.id]=t.render(this.container,{sitekey:r,size:s?"compact":"normal",callback:a,"expired-callback":o,"error-callback":i}),this.container.height=this.container.height+1},n.render=function(){var t=this;return i("div",{id:this.props.id,ref:function(e){t.container=e},className:h(!this.props.settings.isCompact&&"captcha")},this.captcha)},e}(p),Sj=yj,Cj=wT((function(t,e){var n=e.isHorizontal,o=e.onChange,a=e.captchaSettings,r=e.languageTag,s=e.brandConfig;return i(Sj,{id:"captcha-"+t.id,isCompact:n,onSuccess:o,onExpired:function(){return o(null)},settings:a,language:r,brandConfig:s})})),kj=Cj,Ij=["fields"],Mj=Ct((function(){return import("./NPS.328c9dda.js")})),Oj=((cT={})[Ho]=VT,cT[qo]=OT,cT[Uo]=DT,cT[Go]=RT,cT[Ko]=qT,cT[Yo]=KT,cT[Qo]=JT,cT[Zo]=FT,cT[$o]=FT,cT[Xo]=UT,cT[Jo]=ZT,cT[ia]=bT,cT[oa]=bT,cT[aa]=yT,cT.checkBoxList=yT,cT.custom=CT,cT.radioBox=BT,cT.radio=BT,cT.dropdownList=qT,cT.dropDownList=qT,cT[na]=FT,cT[ea]=NT,cT[ta]=ij,cT[ra]=Mj,cT[sa]=kj,cT[ca]=_j,cT[da]=hj,cT[la]=fj,cT[ua]=vj,cT[pa]=rj,cT[fa]=dj,cT[ha]=sj,cT),Aj=aB("form")((function(t){var e=t.fields,n=F(t,Ij);return i("div",{className:"field-table form-style-hor"},e.map((function(t){return t.type===ra?i(kt,null,i(It,null,i(Oj[t.type],Object.assign({},n,{field:t,key:t.id})))):i(Oj[t.type],Object.assign({},n,{field:t,key:t.id}))})))})),Bj=["disabled","text","onClick","className","htmlType","loading","size","icon","iconPosition","type","children","spanStyle","ariaLabelText"],Tj={large:"btn-lg",small:"btn-sm"},jj={primary:"btn-primary",default:"btn-default",gray:"btn-grey",noborder:"btn-noborder"},Pj=function(t){function e(e){var n;return(n=t.call(this,e)||this).shouldComponentUpdate=ZA(ct(n),["disabled","text","className","loading","size","icon","iconPosition","type","children"]),n}return st(e,t),e.prototype.render=function(){var t=this.props,e=t.disabled,n=t.text,o=t.onClick,a=t.className,r=t.htmlType;t.loading;var s=t.size,c=t.icon,d=t.iconPosition,l=t.type,u=t.children;t.spanStyle;var p=t.ariaLabelText,f=F(t,Bj),g=null;return c&&(g=c),i("button",dt({},f,{className:h("btn",e&&"disabled",Tj[s]||"",jj[l]||"btn-default",a),onClick:e?void 0:o,type:r,"aria-label":p,"aria-disabled":e}),"right"!==d&&g,"right"!==d&&u,n&&i("span",{className:"window_quick_reply_buttons_item_inner"},i("span",null,n)),"right"===d&&u,"right"===d&&g)},e}(p),Fj=["isSubmitting","onClick","success","text","disabled"],Wj=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidUpdate=function(t){var e=this;if(this.props.success&&!t.success&&mt)var n=0,i=setInterval((function(){e.btn&&(e.btn.style.fontSize=n/50%2==0?"1rem":"1.0001rem"),(n+=50)>500&&clearInterval(i)}),50);this.props.success&&!t.success&&this.svg.focus()},n.render=function(){var t=this,e=this.props,n=e.isSubmitting,o=e.onClick,a=e.success,r=e.text,s=e.disabled,c=F(e,Fj),d=ft(this.context);return a?d.submitted:n&&d.uploading,i("div",dt({className:h("buttonProgressContainer",n&&!a&&"buttonProgressContainerLoading",a&&"buttonProgressContainerSuccess"),ref:function(e){t.btn=e}},c),i(Pj,{type:"primary",text:r,className:"buttonProgressBtnAnimated buttonProgressBtnDefaultSize",htmlType:"submit",onClick:o,disabled:s||n}),i("div",{className:"lds-css ng-scope"},i("div",{className:"lds-rolling"})),i("svg",{version:"1.1",className:"buttonProgress__layerCircle",id:"buttonProgress__layer-circle",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 30 30",xmlSpace:"preserve",focusable:"false",ref:function(e){t.svg=e},tabindex:"-1","aria-label":d.submitted},i("path",{className:"buttonProgress__submitCirclePath",d:"M15,1.5c7.4,0,13.5,6.1,13.5,13.5S22.4,28.5,15,28.5S1.5,22.4, 1.5,15S7.6,1.5,15,1.5L15,1.5z"})),i("svg",{version:"1.1",className:"buttonProgress__layerSuccess",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"16px",height:"16px",viewBox:"0 0 16 16",xmlSpace:"preserve"},i("title",null,d.submitted),i("polygon",{className:"buttonProgress__submitSuccessPath",points:"16,3.5 12.8,1 6.5,9.2 2.5,6.1 0,9.3 6,14 7.3,15"})))},e}(p),Nj=aB("submit")((function(t){return i(Wj,{onClick:t.onClick,isSubmitting:t.isSubmitting,success:t.success,text:t.text,disabled:t.disabled})})),Vj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={reCaptchaError:""},n.onSubmit=n.onSubmit.bind(ct(n)),n.onReCaptchaErrorClose=n.onReCaptchaErrorClose.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.onSubmit=function(t){var e=this;t.preventDefault(),setTimeout((function(){if(e.props.submitStatus!==rp){var t=e.props.fields.filter((function(t){return""!==t.error}));if(t.length>0){var n=t.map((function(t){return t.id}));e.props.onValidateAll(n);for(var i=0;i<n.length;i+=1)if(-1===n[i]){e.setState({reCaptchaError:e.props.languages.recaptchaError});break}}else e.props.onSubmit(e.props.fields)}}),0)},n.onReCaptchaErrorClose=function(t){t.preventDefault(),this.setState({reCaptchaError:""})},n.render=function(){var t=this.props,e=t.fieldId,n=t.isHorizontal,o=t.tab,a=t.fields,r=t.siteId,s=t.onChange,c=t.onBlur,d=t.onFocus,l=t.onError,u=t.disabled,p=t.windowStyle,f=t.languages,g=t.submitStatus,m=t.buttonText,w=t.languageTag,b=t.captchaSettings,v=t.brandConfig,_=t.ifCrossSiteTransfer,x=ft(this.context),y=a.some((function(t){return t.isRequired}));return i("form",{onSubmit:this.onSubmit},i("div",{id:e,className:h("form-fields",n&&"form-fields--horizonal")},y&&i("i",{className:"form-note",tabIndex:0},x.requiredMark),i(Aj,{tab:o,fields:a,siteId:r,onError:l,onChange:s,onBlur:c,onFocus:d,style:p,disabled:u,languages:f,languageTag:w,captchaSettings:b,isHorizontal:n,brandConfig:v,ifCrossSiteTransfer:_})),i("div",{className:"form-bottom form__submitContainer"},this.state.reCaptchaError&&i(fT,{message:this.state.reCaptchaError,type:lT,onClose:this.onReCaptchaErrorClose}),i(Nj,{tab:o,onClick:this.onSubmit,isSubmitting:g===rp,success:g===sp,text:m,disabled:u})))},e}(p),Dj=function(t){function e(e){var n;(n=t.call(this,e)||this).onClick=n.onClick.bind(ct(n)),n.toggle=n.toggle.bind(ct(n)),n.onButtonFocus=n.onButtonFocus.bind(ct(n));var i=function(){n.props.focus&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}st(e,t);var n=e.prototype;return n.componentWillMount=function(){this.props.isActive&&this.toggle(!0)},n.componentWillReceiveProps=function(t){t.isActive&&this.toggle(!0)},n.onClick=function(){this.toggle(!0)},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.toggle=function(t){this.props.onDialogToggle(!0,"sendEmail")},n.render=function(){var t=this,e=this.props,n=this.props.languages,o=e.windowDisabled||this.state.active?null:function(e){e.stopPropagation(),t.onClick(e)};return i("li",{role:"none"},i("button",dt({},{role:"menuitem"},{onClick:o,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){if(t&&t.stopPropagation)t.stopPropagation();else if(window.event)return window.event.cancelBubble=!0,!1;return!0}}),i(xt,{id:"iconSendEmail",type:Ht,title:n.buttonTranscript,ariaHidden:!0}),i("div",{className:"menu__text-container"},n.buttonTranscript)))},e}(p);Dj.displayName="SendEmail";var Rj,Ej=f((function(t){var e=Tf(t),n=hg(t),i=Qf(t,"email");return{isPoppedOut:ph(t),isRightToLeft:fg(t),isActive:n&&!e,disabled:!1,emailAddress:i,languages:l_(t),popupBubbleType:Jg(t)}}),(function(t){return{onSubmit:function(e){lk("livechat.chat.visitor.setEmail",e),t(LS(e))},onToggle:function(e){t(Ty(e?"sendEmail":"none"))}}}))(Dj),zj=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowDialog:!1},n.toggle=n.toggle.bind(ct(n)),n.onClick=n.onClick.bind(ct(n)),n.onContinue=n.onContinue.bind(ct(n)),n.onCancel=n.onCancel.bind(ct(n)),n.beforeUnload=n.beforeUnload.bind(ct(n)),n.unload=n.unload.bind(ct(n)),n.onButtonFocus=n.onButtonFocus.bind(ct(n)),n.onKeyDown=Ot(n.onClick),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){this.props.isPopout&&(V.addEventListener("beforeunload",this.beforeUnload),V.addEventListener("unload",this.unload))},n.componentWillReceiveProps=function(t){var e=this;t.focus&&setTimeout((function(){return e.btn.focus()}),0)},n.componentWillUnmount=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.onClick=function(t){this.props.isAudioVideoChatting||this.props.isScreenSharing?this.toggle(!0,t):this.props.onClick()},n.onContinue=function(t){this.toggle(!1,t),this.props.onContinue(this.props.isAudioVideoChatting,this.props.isScreenSharing)},n.onCancel=function(t){this.toggle(!1,t)},n.beforeUnload=function(t){if(this.props.isAudioVideoChatting){var e=this.props.languages.audioVideoChangeWindowType,n=t||V.event;return n.stopPropagation(),n.preventDefault(),n.returnValue=e,e}},n.unload=function(){this.props.isAudioVideoChatting&&this.props.onContinue()},n.toggle=function(t,e){e&&e.stopPropagation(),this.setState({ifShowDialog:t}),this.props.onDialogToggle(t)},n.render=function(){var t=this,e=this.props,n=this.props.languages,o=e.isPopout?n.embeddedWindowPopup:n.embeddedWindowPopin,a=e.isPopout?qt:Ut,r=ft(this.context),s=this.props.isAudioVideoChatting&&!this.props.isScreenSharing?n.audioVideoChangeWindowType:r.confirmStopAudioVideoOrScreenSharing;return i("li",{role:"none"},i("button",{role:"menuitem",onClick:this.onClick,tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}},i(xt,{type:a,title:o,ariaHidden:!0}),i("div",{className:"menu__text-container"},o)),i(GB,{globalClass:"body__dialog-menu",iconId:"iconPop",ifShow:this.state.ifShowDialog,onClose:function(e){return t.toggle(!1,e)},width:e.isPopout?305:385},i("div",{className:"bubble--desc"},s),i("div",{className:"embedded-end-chatConfirmAction bubble__operation"},i("button",{id:"embedded-continue",className:"btn btn-primary",onClick:function(e){return t.onContinue(e)},tabIndex:"0"},n.buttonContinue),i("button",{id:"embedded-cancel",className:"btn btn-grey",onClick:function(e){return t.onCancel(e)},tabIndex:"0"},n.buttonCancel))))},e}(p);zj.displayName="PopOutOrRestore";var Lj,Hj,qj=[],Uj="visitorMsgRestritUnlockTimeKey2",Gj="visitorMsgSentTimeKey",Kj="penaltyFactorKey",Yj=1,Jj=null,Qj=[],Zj=null,Xj={},$j=function(t){var e=bb(kb());return null==e?"":e[t]},tP=function(t,e){return Xj[Uj]=$j(Uj),Xj[Gj]=$j(Gj),Xj[Kj]=$j(Kj),Xj[t]=e,Xj};function eP(){var t=$j(Uj);return null!=t&&""!==t?new Date(+t):null}function nP(){Ib(tP(Gj,qj.join(":")))}var iP=function(){Jj&&(clearInterval(Jj),Jj=null)};function oP(){Qj.forEach((function(t){clearTimeout(t)})),Qj=[]}function aP(){Zj&&clearTimeout(Zj),Zj=null}function rP(){Hj(!1),qj=[],oP(),aP(),Ib(tP(Uj,"")),Ib(tP(Gj,""))}function sP(){var t=Rj.penalty*Yj*1e3;Ib(tP(Uj,(new Date).getTime()+t)),Hj(!0),Zj=setTimeout(rP,t),(Yj*=2)>Math.pow(2,Rj.repeat-1)&&(Yj=1),Ib(tP(Kj,Yj))}function cP(){return!!Zj||!(qj.length<=Rj.count)&&(sP(),!0)}function dP(){qj.shift(),Qj.shift(),nP()}var lP=function(t,e,n){var i;Rj=t,Lj=e,Hj=n,(i={})[Uj]="",i[Gj]="",i[Kj]="",Xj=i,oP(),iP(),aP(),qj=[],Yj=1,Jj=null,function(){var t=(new Date).getTime(),e=$j(Gj);if(null!=e&&""!==e){var n=!1;e.split(":").forEach((function(e){var i=new Date(+e);t-i<=1e3*Rj.penalty&&(qj.push(+e),Qj.push(setTimeout(dP,1e3*Rj.penalty-(t-i))),n=!0)})),n&&nP()}var i=eP();i&&t<i&&(Hj(!0),Zj=setTimeout(rP,i-t));var o=$j(Kj);Yj=null==o||""===o||isNaN(+o)?1:+o}()},uP=function(){rP(),Ib(tP(Kj,1)),iP()},pP=function(){!function(){if(!Zj){qj.push((new Date).getTime()),nP();var t=setTimeout(dP,1e3*Rj.duration);Qj.push(t)}}();var t=cP(),e=0;return t&&(e=Math.max(0,Math.floor((eP()-(new Date).getTime())/1e3))),t&&!Jj&&(Jj=setInterval((function(){var t=cP(),e=Math.max(0,Math.floor((eP()-(new Date).getTime())/1e3));t&&e>0?Lj(e):(Lj(0),iP())}),1e3)),!t&&Jj&&iP(),{isLimited:t,waitSecond:e}},hP=f((function(t){return{isPopout:!0,isAudioVideoChatting:dg(t),isScreenSharing:sm(t),languages:l_(t)}}),(function(t){return{onClick:function(){iP(),t(my())},onContinue:function(e,n){e&&t(nC()),n&&t(iC()),setTimeout((function(){iP(),t(my())}),1e3)}}}))(zj),fP=f((function(t){return{isPopout:!1,isAudioVideoChatting:dg(t),isScreenSharing:sm(t),languages:l_(t)}}),(function(t){return{onClick:function(){t(wy())},onContinue:function(e,n){e&&t(nC()),n&&t(iC()),t(wy())}}}))(zj),gP=function(t){function e(e){var n;(n=t.call(this,e)||this).onButtonFocus=n.onButtonFocus.bind(ct(n));var i=function(){n.props.focus&&n.btn&&setTimeout((function(){return n.btn.focus()}),0)};return n.componentDidMount=i,n.componentDidUpdate=i,n}st(e,t);var n=e.prototype;return n.onButtonFocus=function(){this.props.onFocus(this.props.focusKey)},n.render=function(){var t=this,e=this.props,n=this.props,o=n.languages,a=n.isSoundOff,r=n.setSoundOff;return i("li",{role:"none"},i("button",dt({},{role:"menuitem"},{onClick:function(){return r(!t.props.isSoundOff)},tabIndex:e.focus?0:-1,onFocus:this.onButtonFocus,onMouseEnter:this.onButtonFocus,onKeyDown:this.onKeyDown,ref:function(e){t.btn=e},onTouchEnd:function(t){return t&&t.stopPropagation?(t.stopPropagation(),!0):(window.event.cancelBubble=!0,!1)}}),i(xt,{type:a?Gt:Kt,title:a?o.buttonSoundOff:o.buttonSoundOn,id:"iconSound",ariaHidden:!0}),i("div",{className:"menu__text-container"},a?o.buttonSoundOff:o.buttonSoundOn)))},e}(p);gP.displayName="Sound";var mP,wP=f((function(t){return{languages:l_(t),isSoundOff:wh(t)}}),(function(t){return{setSoundOff:function(e){t(L_(e))}}}))(gP),bP=Ct((function(){return import("./Print.13bfb9a9.js")})),vP=((mP={})[ep]="livechat.chat",mP[tp]="livechat.prechat",mP[np]="livechat.postChat",mP[ip]="livechat.offlineMessage",mP),_P=f((function(t){var e=$h(t),n=af(t),i=Rv(t,n.id),o=Cm(t),a=Xf(t),r=Bv(t),s=Vv(t,r),c=s&&function(t,e){return!!(lm&Jm(t,e))&&t.window.chatStatus!==wp}(t,r)&&ow(t),d=s&&Qm(t,r)&&!Tf(t),l=s&&function(t,e){return!!(fm&Jm(t,e))&&!Tf(t)&&!Wm(t)}(t,r),u=ph(t),p=k_(t),h=!u&&!p,f=fh(t),g=Gh(t),m=e===ep&&g===mp,w=f&&m,b=d_(t),v=Wm(t),_=!u;_=_&&!Gg(t);var x=Hm(t),y=s&&ew(t,r),S=!b&&!_&&!m;return Object.assign({tab:e,hasMinimize:h,hasEndChat:w,hasPrint:l,icons:[c&&dT,d&&Ej,l&&{type:"lazy",name:"Print",component:bP},y&&wP,b&&fP,_&&hP].filter((function(t){return t})),windowDisabled:Zf(t),chatWindowStyle:i,isAvatarGray:e===ip||e===op&&!Fm(t,n.id),ifViewConfirmBubble:e!==np,ifHideBio:Yf(t),isPopout:ph(t),languages:n.languages,ifViewHeader:!0,ifViewHeaderBox:x>340,color:t_(t),mainColor:rf(t),windowStatus:o,ifShowSideWindow:a,height:Hm(t)},rT(i,t,n),{isMobile:v,popupBubbleType:Jg(t),emailAddress:Qf(t,"email"),hideCloseButton:S})}),(function(t){return{onMinimize:function(e){var n=vP[e];n&&lk(n+".minimize"),t(ax())},onEnterMinimize:function(){t(cx(!0))},onClose:function(e){var n=vP[e];n&&lk(n+".close"),t(rx())},onEndChat:function(){t(HS()),t(X_())},onUpdateScrollStatus:function(e){t(py(e))}}}))(tT),xP=function(t){function e(e){var n;return(n=t.call(this,e)||this).handlerKeydown=n.handlerKeydown.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.handlerKeydown=function(t){if(9===t.keyCode&&!top.frames.chat_button_adaptive_container){var e=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,n=e&&e.document.querySelector(".sideWindow");if(n)return void n.focus();var i=this.poweredByRef.ownerDocument.querySelector(".whole-window");i&&i.focus()}},n.render=function(){var t=this,e=this.props,n=ft(this.context);return"Comm100"===e.brandingName?i("div",{className:"poweredby",onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}},i("a",{rel:"noopener noreferrer nofollow",target:"_blank",href:e.poweredByUrl,onClick:void 0,hrefLang:"en","aria-label":n.poweredBy.replace("${brandingName}",V.brandingName),title:"Powered by "+e.brandingName},i("svg",{viewBox:"0 0 75.1 13.5",style:{width:75.1},focusable:"false"},i("polygon",{points:"9.1,4.9 5.4,4.9 7.8,0.3 3,0.3 0,8 3.6,8 1.6,13.5"}),i("path",{d:"M33.6,2.5c0.5,0.1,1,0.4,1.4,0.8c0.3-0.3,0.7-0.6,1-0.8c-0.5-0.6-1.3-1-2.1-1.2c-2.1-0.4-4.1,1-4.5,3c-0.4,2.1,1,4.1,3,4.5c0.9,0.2,1.7,0,2.4-0.3c-0.2-0.3-0.5-0.8-0.6-1.1c-0.5,0.1-1,0.2-1.6,0.1c-1.4-0.3-2.3-1.6-2-3C30.9,3.1,32.2,2.2,33.6,2.5z M23.1,6.2C23,6.6,22.9,7,22.8,7.3c-0.1-0.3-0.2-0.8-0.3-1.2l-1.1-3.4H20l2.1,5.6c0.1,0.2,0.1,0.2,0.1,0.3c0,0.2-0.5,1.4-1.8,1.9l0.3,1.1c0.3-0.1,0.9-0.3,1.4-0.8C22.8,10.1,23.3,9,24,7l1.4-4.2h-1.3L23.1,6.2zM38,3c-1.6,0-2.9,1.3-2.9,2.9c0,1.6,1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9C40.9,4.3,39.6,3,38,3z M38,7.7c-1,0-1.8-0.8-1.8-1.8S37,4.1,38,4.1s1.8,0.8,1.8,1.8S39.1,7.7,38,7.7z M17.7,2.6c-0.8,0-1.4,0.4-1.8,1L15.8,0h-1.3v8.8h1.1l0.1-0.9c0.4,0.7,1,1,1.8,1c1.2,0,2.5-1,2.5-3.2C20,3.8,19.1,2.6,17.7,2.6z M17.2,7.9c-0.9,0-1.4-0.7-1.4-1.5V5.2c0-0.8,0.6-1.6,1.4-1.6c1,0,1.5,1,1.5,2.1C18.7,7,18.2,7.9,17.2,7.9z M72.5,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8c1.2,0.1,2.6-0.7,2.6-3.8S73.6,1.2,72.5,1.2zM72.5,7.9C71.6,7.9,71,7,71,5s0.6-2.9,1.5-2.9S74,3,74,5S73.4,7.9,72.5,7.9z M66.4,1.2c-1.1,0-2.6,0.8-2.6,3.8c0,3.1,1.6,3.8,2.6,3.8C67.5,8.9,69,8.1,69,5S67.5,1.2,66.4,1.2z M66.3,7.9c-0.9,0-1.5-0.9-1.5-2.9s0.6-2.9,1.5-2.9c0.9,0,1.5,0.9,1.5,2.9S67.2,7.9,66.3,7.9z M57.7,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S54.7,3,54.3,3c-0.8,0-1.4,0.3-1.8,1V3.1h-1.2v5.8h1.2V5.8c0-0.6,0-1,0.3-1.3S53.3,4,53.7,4c0.7,0,1.1,0.5,1.1,1.6v3.2H56V5.7c0-0.5-0.1-0.9,0.2-1.2S56.8,4,57.1,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2V5.4C59.5,3.8,59,3,57.7,3z M48.2,3c-0.8,0-1.5,0.4-1.9,1.2c-0.1-0.4-0.2-0.7-0.5-0.9S45.2,3,44.8,3C44,3,43.4,3.3,43,4V3.1h-1.2v5.7H43V5.7c0-0.5-0.1-0.9,0.2-1.2S43.7,4,44.1,4c0.7,0,1.1,0.5,1.1,1.6v3.2h1.2V5.7c0-0.5,0.2-0.9,0.4-1.2C47.1,4.2,47.4,4,47.7,4c0.4,0,0.7,0.1,0.9,0.4c0.2,0.3,0.3,0.7,0.3,1.3v3.1h1.2L50,5.4C50,3.8,49.5,3,48.2,3z M60.5,2.1h0.8v6.7h1V1.1h-1.8V2.1z"})))):i("div",{className:"poweredby",dangerouslySetInnerHTML:{__html:e.poweredByContent},onKeyDown:this.handlerKeydown,ref:function(e){t.poweredByRef=e}})},e}(p),yP=aB("footer.poweredby")(xP),SP=function(t){function e(e){var n;return(n=t.call(this,e)||this).focusInput=n.focusInput.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){if(t.isPopout&&!t.isBubble&&this.container.parentElement){var e=Yt(t.width);this.container.parentElement.style.marginLeft=e.marginLeft||"",this.container.parentElement.style.marginRight=e.marginRight||""}},n.focusInput=function(){var t=this.container.ownerDocument.querySelector("#chat-input textarea");t&&t.focus()},n.render=function(){var t=this,e=this.props;return i("footer",{ref:function(e){t.container=e},className:h("footer window__footer",!e.poweredByUrl&&!e.showChatWithAgent&&"footer--empty"),style:e.style,onTouchMove:lt,onClick:this.focusInput},e.poweredByUrl&&i(yP,e),e.showChatWithAgent&&i("button",{onClick:e.onChatWithAgentClick,className:"window__chatWithAgent window__chatWithAgent--bottom"},e.chatWithAgentText))},e}(p),CP=aB("footer","footer-container")(SP),kP=f((function(t){var e=Wm(t)||Ow(t)?null:Bf(),n=$h(t),i=Vh(t),o=ef(t),a=Rv(t,o)===cw;return{tab:n,poweredByUrl:e,showChatWithAgent:!1,chatWithAgentText:p_(t,"buttonChatbotChatWithAgent"),brandingName:i&&i.brandingName,partnerId:i&&i.partnerId,poweredByContent:i&&i.poweredByContent,isPopout:ph(t),width:$g(t),isBubble:a}}),(function(t){return{onChatWithAgentClick:function(){t(ey())}}}))(CP),IP={},MP=t(5)((function(t){return at("iframe",{src:t,style:{display:"none"},title:"Login"},document.body).then((function(e){var n=AO(e.contentWindow,t),i=function(t){try{return JSON.parse(t)}catch(t){return}};return n.subscribe((function(t){var e=t.data,n=i(e);if(n&&IP[n.meta]){var o=IP[n.meta],a=o.reject,r=o.resolve;n.error?a(n.payload):r(n.payload)}})),n}))}));function OP(t,e){var n=Math.random().toString();return MP(e).then((function(e){return new Promise((function(i,o){var a=Object.assign({meta:n},t);IP[a.meta]={resolve:i,reject:o},e.dispatch(a)}))}))}var AP,BP=function(t,e){return OP({type:"facebook-init",payload:t},e)},TP=((AP={})[1]={text:"Facebook",color:"#39599C",svg:"M9.253,4.07a1.3,1.3,0,0,1,1.24-1.3,5.294,5.294,0,0,1,1.648.247l.5-2.7A12.567,12.567,0,0,0,9.315.01,3.286,3.286,0,0,0,6.427,1.328a4.764,4.764,0,0,0-.566,2.761V5.9H4.046V8.54H5.86V16H9.315V8.481h2.7l.19-2.636V5.778H9.253Z",id:"fb-login"},AP),jP=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.btn.style.backgroundColor;this.btn.style.backgroundColor="initital",setTimeout((function(){t.btn&&(t.btn.style.backgroundColor=e)}),0)},n.render=function(){var t=this,e=this.props,n=TP[e.type];return i("button",{className:h("prechatForm__socialBtn",e.isSimpleIcon&&"socialBtn--simple"),onClick:e.onClick,id:n.id,style:{backgroundColor:n.color},"aria-label":n.text,ref:function(e){t.btn=e}},i("svg",{viewBox:"0 0 16 16",focusable:"false"},i("path",{d:n.svg})),i("span",null,n.text))},e}(p),PP=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return t.prefix!==this.props.prefix||t.greeting!==this.props.greeting},n.render=function(){var t=this.props,e=t.prefix,n=t.greeting;return i("div",{className:"greeting-message window__formGreeting",id:e+"-greeting",dangerouslySetInnerHTML:{__html:n}})},e}(p),FP=aB("greeting")(PP),WP=t(1)((function(t,e,n,o,a,r){if(!t)return null;var s,c,d,l=e+"&key="+o;if(t){var u=(c=K(BP,t,l),d=jP,function(t){function e(e){var n;return(n=t.call(this,e)||this).state={status:"loading"},n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;c().then((function(){t.setState({status:"done"})}),(function(){t.setState({status:"error"})}))},n.render=function(){var t=ft(this.context);return"loading"===this.state.status?i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":t.loading,"aria-busy":"true"}):"done"===this.state.status?i(d,this.props):null},e}(p));s=i(u,{type:1,onClick:function(){return function(t){return OP({type:"facebook-login"},t)}(l).then(n)},isSimpleIcon:r})}else s=null;return aB("social")((function(){return i("div",{id:"social-logins",className:h("prechatForm__login",r&&"form-fields--horizonal","form-fields")},i("div",{className:"box-field"},i("div",{className:"field-name clearfix"},i("span",{className:"lang-sign-in-with system LanguagePreChatSocialMediaSignInWith prechatForm__signinwith field__label"},a.preChatSocialMediaSignInWith)),i("span",{id:"social-login-icons",className:"float-left box-icons prechatForm__social field-control"},s)),i("div",{className:"box-hor-or"},i("span",{className:"LanguagePreChatSocialMediaOr hor-or prechatForm__divide"},a.preChatSocialMediaOr)))}))})),NP=function(t,e){var n=t.facebookAppId,i=t.iframeSrc,o=t.onLogin,a=t.languages,r=t.isHorizontal;return WP(n,i,o,e,a,r)},VP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={animated:!1,isAnimationEnd:!1},n.social=null,n.key=+new Date,n.social=NP(e,n.key),n.onAnimated=n.onAnimated.bind(ct(n)),n.onAnimationEnd=n.onAnimationEnd.bind(ct(n)),n.onScroll=n.onScroll.bind(ct(n)),n.canUpdateHideBio=!0,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.element.scrollTop=0)}),0),Q&&this.onAnimationEnd(),ut(this.animation,this.onAnimationEnd),setTimeout((function(){}),10),ut(this.animation,this.onAnimated)},n.componentWillReceiveProps=function(t){this.social=NP(t,this.key)},n.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625))},n.componentWillUnmount=function(){Jt(this.animation,this.onAnimated),Jt(this.animation,this.onAnimationEnd)},n.onAnimated=function(){this.setState({animated:!0})},n.onAnimationEnd=function(){this.setState({isAnimationEnd:!0})},n.onScroll=function(t){if(!(window.navigator.userAgent.toLowerCase().indexOf("msie 9.0")>=0)&&this.props.tab!==tp){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},n.render=function(){var t=this,e=this.props,n=e.prefix,o=e.greeting,a=e.submitStatus,r=e.onChange,s=e.onBlur,c=e.onFocus,d=e.isHorizontal,l=e.buttonText,u=e.siteId,p=e.style,f=e.error,g=e.windowStyle,m=e.disabled,w=e.tab,b=e.height,v=e.languages,_=e.isMobile,x=e.onError,y=e.onValidateAll,S=e.onSubmit;e.mainColor;var C,k=e.showAdaptiveMinimizeIcon,I=e.isIPad,M=e.fields,O=e.isPopout,A=e.hasPoweredBy,B=e.ifShowSideWindow,T=e.captchaSettings,j=e.languageTag,P=e.isEmbeddedWindow,F=e.brandConfig,W=e.ifCrossSiteTransfer,N=this.state.isAnimationEnd?"auto":"hidden";if(g===cw){if(C=b-(_?20:30),_||(C-=A?35:0),!_||I){k&&(C-=105)}if(I){B&&(C-=45)}_&&!I&&(C="100%")}var V=Xt(),D=M;gt&&(D=[{type:ea,isHidden:!0,value:"",error:""}].concat(D));var R="";n===bp?R="Pre-chat window":n===vp?R="Post-chat window":n===_p&&(R="Offline message window");var E={maxHeight:C},z={};return O&&(E=Object.assign({},E,Qt(this.props.width)),z=Zt(this.props.width)),g===cw?i("div",{className:"window__formContainer window__formContainer--bubble",style:{maxHeight:C,overflowY:N},ref:function(e){t.element=e}},i("div",{className:h("form window__form",!this.state.isAnimationEnd&&"window__form--animation"),id:n+"-window",ref:function(e){t.animation=e},style:!_&&{background:V}},i("h1",{className:"visually-hidden","aria-hidden":!0},R),f&&i("div",{className:"window__formError"},f),o&&i("div",{className:"greeting-message-container",ref:function(e){t.greetingElement=e},tabindex:-1},i(FP,{prefix:n,greeting:o,tab:w})),this.social&&i(this.social,{tab:w}),i(Vj,{onSubmit:S,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:n+"-fields",isHorizontal:d,tab:w,fields:D,siteId:u,disabled:m,windowStyle:p,languages:v,submitStatus:a,buttonText:l,style:{background:V},captchaSettings:T,languageTag:j,ifCrossSiteTransfer:W}))):i("div",{onScroll:this.onScroll,className:h("form window__form",!this.state.isAnimationEnd&&"window__form--animation",(O||!P)&&"window__form_popout"),id:n+"-window",style:E,ref:function(e){t.element=e,t.animation=e}},i("div",{style:z},i("h1",{className:"visually-hidden","aria-hidden":!0},R),f&&i("div",{className:"window__formError"},f),o&&i("div",{tabIndex:0,ref:function(e){t.greetingElement=e}},i(FP,{prefix:n,greeting:o,tab:w})),this.social&&i(this.social,{tab:w}),i(Vj,{onSubmit:S,onChange:r,onError:x,onBlur:s,onFocus:c,onValidateAll:y,fieldId:n+"-fields",isHorizontal:d,tab:w,fields:D,siteId:u,disabled:m,windowStyle:p,languages:v,submitStatus:a,buttonText:l,captchaSettings:T,languageTag:j,brandConfig:F,ifCrossSiteTransfer:W})))},e}(p),DP=VP,RP=function(t){var e="";t===bp?e="livechat.prechat":t===vp?e="livechat.postChat":t===_p&&(e="livechat.offlineMessage");return f((function(n){var i,o=t===bp,a=function(t){return t.configuration.isChinaIP}(n),r=o&&function(t){var e=t.entities.campaigns.entities[t.window.id];return!!e.socialLogin&&e.socialLogin.facebook}(n),s=r&&!a?function(t){return t.configuration.facebookAppId}(n):void 0;t===bp?i=tp:t===vp?i=np:t===_p&&(i=ip);var c=ph(n),d=Hm(n),l=ef(n),u=nf(n)||l,p=t===vp?_v(n):xv(n,t,u),h=Zf(n);t===_p&&0===p.length&&(h=!0);var f=l_(n),g=rf(n),m=Wm(n),w=!m&&!Ow(n)&&!!Bf(),b=u_(n),v=bw(n,l),_=Qv(n,t),x=Rv(n,l),y=m&&mt&&wg(n)||_&&x===cw||wg(n)&&mt&&fg(n),S=Object.assign({},function(t){return t.configuration.recaptchaSettings}(n),{isCompact:y});return{height:d,isPopout:c,tab:i,fields:p,prefix:t,facebookAppId:s,iframeSrc:_h(n,"/visitorside/html/socialiframe.1efca11d23c8aaad0ed8eaa08ef9ce9e3a166f1e.html?origin="+z.origin+"&id="+(window.frameElement?window.frameElement.id:"id")),captchaSettings:S,submitStatus:yv(n,t),greeting:Jv(n,t),isHorizontal:_,buttonText:Zv(n,t),hCallback:undefined,siteId:ym(n),style:zv(n),error:Cf(n),windowStyle:Rv(n,l),disabled:h,isMobile:m,isIPad:Nm(n),languages:f,languageTag:b,ifHideBio:Yf(n),mainColor:g,bottom:Og(n),hasPoweredBy:w,showAdaptiveMinimizeIcon:k_(n),ifShowSideWindow:Xf(n),onMounted:function(){lk(e+".display",u)},isEmbeddedWindow:v,brandConfig:Vh(n),ifCrossSiteTransfer:!!Mv(n),width:$g(n)}}),(function(n){return{onChange:function(i,o){n(yC(t,i.id,o)),lk(e+".field.change",Object.assign({},i,{value:o}))},onError:function(e,i){n(SC(t,e.id,i))},onBlur:function(i){n(kC(t,i.id)),lk(e+".field.blur",Object.assign({},i,{isFocused:!1}))},onFocus:function(i){n(CC(t,i.id)),lk(e+".field.focus",Object.assign({},i,{isFocused:!0}))},onLogin:function(e){n(function(t,e){return{type:el,payload:e,meta:{formType:t}}}(t,e))},onSubmit:function(e){return n(NC(t,1500,e))},onValidateAll:function(t){n(TC(Sp,t))},onUpdateScrollStatus:function(t){n(py(t))}}}))(DP)},EP=RP(bp),zP=RP(vp),LP=RP(_p);Math.pow("production",m.shape({fields:m.arrayOf(m.shape()),buttons:m.arrayOf(m.shape()),isEnable:m.bool,tabIndex:m.number}));var HP=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ut(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props,n=e.windowStyle===cw;return e.type===Xn?i("div",{className:"chat__greetingContainer"},i("div",{className:n?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},i("div",{className:h(n&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:e.message}}))):i("div",{tabIndex:e.tabIndex,id:e.type===ke?"system-queue-position":null,className:"chat-system-message window__chatSystemMessage",ref:function(e){t.container=e}},i(hT,{id:e.messageGuid,message:e.liveMessage||e.message}),n&&i("div",{className:"window__chatSystemMessageContent"},e.message),!n&&e.message)},e}(p),qP={minimize:"minimize",popup:"popup",embedded:"embedded",close:"close",inputSend:"input-send",plus:"plus",bubble:"bubble",sendfile:"sendfile",kb:"icon-kb",kbActive:"icon-kb-active",bot:"icon-bot",botActive:"icon-bot-active",media:"icon-media",mediaActive:"icon-media-active",search:"kb-search"},UP=["type","color","size","className","hoverScale","disabled","hoverColor"],GP=function(t){function e(){var e;return(e=t.call(this)||this).state={isHover:!1},e.updateHoverStatus=e.updateHoverStatus.bind(ct(e)),e.shouldComponentUpdate=ZA(ct(e),["type","disabled","size","className","color","id","onClick"],["isHover"]),e}st(e,t);var n=e.prototype;return n.updateHoverStatus=function(t){this.setState({isHover:t})},n.render=function(){var t=this,e=this.props,n=e.type,o=e.color,a=e.size,r=e.className,s=e.hoverScale,c=e.disabled,d=e.hoverColor,l=F(e,UP),u={large:"icon-large",small:"icon-small",larger:"icon-larger",smaller:"icon-smaller",normal:"icon-normal"}[a]||"",p=n.split("#"),f=p[0],g=p[1],m=h("icon","icon-"+f,u,s&&"icon-hover",r),w=l.style||{};return d&&this.state.isHover?w.color=d:o?w.color=o:g&&(w.color="#"+g),"number"==typeof a&&(w.fontSize=a+"px"),c&&(w.color="#999"),i("i",dt({},l,{style:w,className:m,onMouseOver:function(){return t.updateHoverStatus(!0)},onMouseOut:function(){return t.updateHoverStatus(!1)}}))},e}(p);GP.types=qP;var KP=t(1)((function(t,e){return t?C(e,"guid",t):-1}));function YP(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}var JP=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifShowLoading:!1,imgWidth:0,imgHeight:0},n.timer=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;if(this.props.type===$n&&(this.timer=setTimeout((function(){t.setState({ifShowLoading:!0}),t.timer=null}),1e3)),(0,this.props.scrollDown)(!0),this.props.type===Ie&&this.props.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(this.props.message.name)){var e=new Image;e.src=Ar(this.props.message.url,!0),e.onload=function(){t.setState({imgWidth:e.width,imgHeight:e.height})}}},n.componentWillReceiveProps=function(t){t.type!==$n&&(this.timer&&clearTimeout(this.timer),this.setState({ifShowLoading:!1}))},n.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},n.getLiveMessage=function(){var t,e=ft(this.context),n=this.props,i=n.type;return i===$n?t=e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===Ce?t=n.translated&&n.translated!==n.message&&n.ifShowTranslationOnly?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.displayedText?n.displayedText:n.message):i===Me?t=e.sendImgLiveMessage:i===Ie?t=e.sendFileLiveMessage.replace("${name}",n.message.name):n.type===ei||n.type===ti?t=e.sendingFileLiveMessage.replace("${name}",n.message.fileName):i===Oe?t=e.sendPwdLiveMessage:i!==Yn&&i!==Kn||(t=e.sendMessageLiveMessage.replace("${message}",n.message.message)),t&&(t=e.visitorSendLiveMessage.replace("${message}",t).replace("${time}",$t(n.time))),t},n.render=function(){var t,e,n,o=this,a=this.props,r=!1,s=!1,c="",d="",l=a.isMobile&&!a.isIpad,u=ft(this.context);a.type===$n?t=sr(a.displayedText?a.displayedText:a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin):a.type===Ce?a.translated&&a.translated!==a.message&&!a.ifShowTranslationOnly?((t=sr(a.translated,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin)).push(i("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",a.translatedTag,")")),t.push(i("em",{className:"window__chatMessageOrignal"},sr(a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin)," (",a.originalTag,")"))):t=sr(a.displayedText?a.displayedText:a.message,i("br",null),a.KbHost,a.onKbLinkClick,a.siteId,l,a.resourceOrigin):a.type===Me?(d=qr(a.message.url,a.customizeFileService,a.standbyFileService),r=!0,c=/.*[.](gif)$/i.test(a.message.name)?d:d+"?maxWidth=200&maxHeight=200",t=i("a",{onClick:function(){a.onPreviewImage(c,a.message.name)}},i("img",{src:c,alt:a.message.name,style:{maxWidth:200,maxHeight:200},onLoad:function(){return a.scrollDown(!0)}}))):a.type===Ie?(d=qr(a.message.url,a.customizeFileService,a.standbyFileService),/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(a.message.name)?(r=!0,0===this.state.imgWidth?(r=!1,t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i(GP,{type:qP.sendfile}),i("a",{href:d,target:"_blank",rel:"noopener noreferrer"},a.message.name))):(c=/.*[.](gif)$/i.test(a.message.name)?d:Ar(d,!1,this.state.imgWidth,this.state.imgHeight),t=i("a",{onClick:function(){a.onPreviewImage(d,a.message.name)},rel:"noopener noreferrer",style:Or(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:c,alt:a.message.name,onLoad:function(){return a.scrollDown(!0)},style:Mr(this.state.imgWidth,this.state.imgHeight)}))))):te(a.message.name)?(s=!0,t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i("video",{controls:!0,src:d,alt:a.message.name}))):(r=!1,d=qr(a.message.url,a.customizeFileService,a.standbyFileService),t=i("div",{className:"chat-visitor-message window__chatVisitorMessage--file"},i(GP,{type:qP.sendfile}),i("a",{href:d,target:"_blank",rel:"noopener noreferrer"},a.message.name)))):a.type===ei||a.type===ti?(t=[a.fileName],a.percent&&t.push(i("span",{role:"progressbar","aria-valuenow":a.percent,"aria-valuemin":"0","aria-valuemax":"100"},"(",a.percent,"%)")),a.onCloseClick&&t.push(i("button",{onClick:function(t){t.preventDefault(),t.stopPropagation(),a.onCloseClick()},"aria-label":u.cancelUpload,className:"file__icon--cancel"},i(xt,{type:Mt}))),t.push(i("span",{className:"chat-message--loading","aria-label":u.uploading},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":u.uploading,"aria-busy":"true"})))):a.type===Yn?(e=a.message,n=e.message?e.message.replace(/\r\n|\r|\n/g,"<br />"):"",t=i("div",null,i("div",{dangerouslySetInnerHTML:{__html:n}}),e.values.map((function(t,e){return i("div",{key:e},t.label," : ","checkbox"===t.type?"true"===t.value?YP("✔"):YP("✖"):"checkbox-list"===t.type?t.value.replace(/\u2299/gi,","):t.value)})))):a.type===Kn&&(t=a.message.message),a.textType===Oe&&(t=a.message?"•".repeat(a.message.length):"");var p=this.getLiveMessage();return i("div",{className:h("chat-visitor","window__chatVisitor","clearfix",a.type===Yn&&"window__chatVisitorFormMessage"),ref:function(t){o.container=t}},i(hT,{id:a.msgGuid,message:p}),a.time&&i("span",{className:"chat-message-time"},$t(a.time)),i("div",{className:h("chat-visitor-message","window__chatVisitorMessage",r&&"chat-message--img",s&&"chat-message--video",a.meta.isFirst&&"window__chatVisitorFirstMessage",a.meta.isLast&&"window__chatVisitorLastMessage"),style:{background:A(a.mainColor),borderColor:A(a.mainColor)}},!function(t){return t===ei||t===ti}(a.type)&&function(t,e,n,o,a){if(t){var r=KP(n,a),s=KP(e,a),c=-1===r||r&&r>s?"message--notSeen":"message--seen",d=r>s?o:"";return i("div",{className:h("dot_container"),"aria-label":d},i("span",{title:d},i("svg",{version:"1.1",x:"0px",y:"0px",width:"6px",height:"6px",viewBox:"0 0 6 6",xmlSpace:"preserve",focusable:"false",className:c,"aria-hidden":"true"},i("circle",{r:"3",cy:"3",cx:"3",className:"innerDot"}))))}return null}(a.ifShowSeenDot,a.maxAgentReadId,a.msgGuid,a.tooltip,a.originalMessages),t,this.state.ifShowLoading&&i("span",{className:"chat-message--loading"},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":u.uploading,"aria-busy":"true"}))))},e}(p),QP=function(t){function e(e){return t.call(this,e)||this}return st(e,t),e.prototype.render=function(){return i("div",null,this.props.message)},e}(p),ZP=oB("livechat.invitation.message","invitation")(QP),XP=Ct((function(){return import("./AgentSendSSO.a73584f5.js")})),$P=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={mobileShowTime:!1,imgWidth:0,imgHeight:0},n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this,e=this.props;if(e.isMessageScrollBottom&&(e.scrollDown(),ut(this.container,e.scrollDown)),lk("livechat.chat.agent.input",e.sender,e.message),(e.type===Ue||e.type===Ge)&&e.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(e.message.name)){var n=new Image;n.src=Ar(e.message.url,!0),n.onload=function(){t.setState({imgWidth:n.width,imgHeight:n.height})}}if(this.props.type===Je&&this.props.message&&this.props.chatStatus===mp){var i=H(this.props.message.url);switch(this.props.message.pushType){case"sideWindow":this.props.onPushPage(i);break;case"currentWindow":V.location.href=i;break;case"newWindow":V.open(i,"_blank")}}},n.componentDidUpdate=function(){var t=this,e=this.props;if(e.type===Ge&&e.message.url&&/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(e.message.name)){var n=new Image;n.src=Ar(e.message.url,!0),n.onload=function(){t.setState({imgWidth:n.width,imgHeight:n.height})}}},n.shouldComponentUpdate=function(t,e){return this.props.message!==t.message||t.sender.name!==this.props.sender.name||t.sender.avatar!==this.props.sender.avatar||t.time!==this.props.time||t.translated!==this.props.translated||t.ifShowName!==this.props.ifShowName||t.ifShowAvatar!==this.props.ifShowAvatar||t.isMobile!==this.props.isMobile||t.type!==this.props.type||e.mobileShowTime!==this.state.mobileShowTime||e.imgWidth!==this.state.imgWidth||e.imgHeight!==this.state.imgHeight||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.getLiveMessage=function(){var t,e=ft(this.context),n=this.props,i=n.type;if(i===Fe||i===si||i===We||i===Nn||i===Wn?t=n.translated&&n.translated!==n.message&&!n.ifShowTranslationOnly?e.translateLiveMessage.replace("${translated}",n.translated).replace("${message}",n.message):e.sendMessageLiveMessage.replace("${message}",n.message):i===ze?t=e.sendLinkLiveMessage.replace("${message}",n.message):i===Je?t=e.sendPageLiveMessage.replace("${url}",n.message.url):i===Ge?t=e.sendImgLiveMessage:i===Ue&&(t=e.sendFileLiveMessage.replace("${name}",n.message.name)),t)return e.agentSendLiveMessage.replace("${senderName}",n.sender.name).replace("${message}",t).replace("${time}",$t(n.time))},n.render=function(){var t,e=this,n=this.props,o=!1,a=!1,r="",s="",c=n.isMobile&&!n.isIpad,d=ft(this.context);if(n.type===Fe||n.type===si||n.type===We||n.type===Wn||n.type===Nn)if(n.translated&&n.translated!==n.message)n.ifShowTranslationOnly?t=sr(n.translated,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin):((t=sr(n.translated,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin)).push(i("em",{className:"window__chatMessageOrignal window__chatMessageTranslatedTag"},"(",n.translatedTag,")")),t.push(i("em",{className:"window__chatMessageOrignal"},sr(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin)," (",n.originalTag,")")));else if(n.type===si){var l=sr(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin);t=[i(ZP,{message:l})]}else t=sr(n.message,i("br",null),n.KbHost,n.onKbLinkClick,n.siteId,c,n.resourceOrigin);else n.type===ze?t=ee(n.message):n.type===Je?t=sr(n.message.url,i("br",null)):n.type===Ge?/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(n.message.name)&&(o=!0,r=s=qr(n.message.url,n.customizeFileService,n.standbyFileService),0===this.state.imgWidth?(o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("span",{className:"chat-message--loading","aria-label":d.uploading},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.uploading,"aria-busy":"true"})),i("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n.message.name))):(r=s,t=i("a",{onClick:function(){n.onPreviewImage(s,n.message.name)},rel:"noopener noreferrer",style:Or(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:r,alt:n.message.name,style:Mr(this.state.imgWidth,this.state.imgHeight),onLoad:function(){n.isMessageScrollBottom&&n.scrollDown()}}))))):n.type===Ue&&(/.*[.](jpg|gif|jpeg|png|bmp)$/i.test(n.message.name)?(o=!0,r=s=qr(n.message.url,n.customizeFileService,n.standbyFileService),0===this.state.imgWidth?(o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("span",{className:"chat-message--loading","aria-label":d.uploading},i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.uploading,"aria-busy":"true"})),i("a",{href:r,target:"_blank",rel:"noopener noreferrer"},n.message.name))):(r=/.*[.](gif)$/i.test(n.message.name)?s:Ar(s,!1,this.state.imgWidth,this.state.imgHeight),t=i("a",{onClick:function(){n.onPreviewImage(s,n.message.name)},href:""+s,target:"_blank",rel:"noopener noreferrer",style:Or(this.state.imgWidth,this.state.imgHeight)},i("div",{className:"image-container"},i("img",{src:r,alt:n.message.name,style:Mr(this.state.imgWidth,this.state.imgHeight),onLoad:function(){n.isMessageScrollBottom&&n.scrollDown()}}))))):te(n.message.name)?(s=qr(n.message.url,n.customizeFileService,n.standbyFileService),a=!0,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i("video",{controls:!0,src:s,alt:n.message.name}))):(s=qr(n.message.url,n.customizeFileService,n.standbyFileService),o=!1,t=i("div",{className:"chat-operator-message window__chatAgentMessage--file"},i(GP,{type:qP.sendfile}),i("a",{href:s,target:"_blank",rel:"noopener noreferrer"},n.message.name))));var u=this.getLiveMessage(),p=n.isMobile?"#fff":Xt(n.mainColor);return i("div",{className:"window__chatAgent clearfix",ref:function(t){e.container=t}},i(hT,{id:n.messageGuid,message:u}),n.ifShowAvatar&&n.sender.avatar&&i("div",{className:"agentMessage__avatar"},i(QB,{src:n.sender.avatar,alt:d.avatar,className:"agentMessage__avatarImg"})),i("div",{className:"window__chatAgentMessage_container"},i("div",{className:"chat-message-extra-info"},n.sender.name&&i("span",{className:"chat-operator-name window__chatAgentName"},n.sender.name),n.time&&i("span",{className:"chat-message-time"},$t(n.time))),i("div",{className:h("chat-operator-message","window__chatAgentMessage",o&&"chat-message--img",a&&"chat-message--video",n.type===Ke&&"chat-message--imgLoading",(!n.ifShowAvatar||!n.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:p}},n.type===Ke&&i(xt,{type:Lt,className:"svg--loading",viewBox:"0 0 100 100","aria-label":d.loading,"aria-busy":"true"}),n.type===jn?i(kt,null,i(It,null,i(XP,{message:n.message,ifDisable:n.isSSOLoggedIn||!n.isChatting||n.message.isDisable,onClick:n.onSSORequestClick,mainColor:n.mainColor,isPopoutWindow:n.isPopoutWindow}))):t)))},e}(p),tF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ut(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props,n=e.fields,o=e.greeting,a=e.buttonText,r=e.onFocus,s=e.onBlur,c=e.onChange,d=e.onSubmit,l=e.onValidateAll,u=e.submitStatus,p=e.languages,h=e.isHorizontal,f=e.isMobile?"#fff":Xt(e.mainColor),g=u!==ap;return 0===n.length?null:i("div",{className:"window__formMessageContainer"},i("div",{tabIndex:e.tabIndex,className:"window__formMessage",style:{background:f},ref:function(e){t.container=e}},e.greeting&&i("div",{className:"greeting-message-container greeting-message window__formGreeting",ref:function(e){t.greetingElement=e},tabIndex:-1,dangerouslySetInnerHTML:{__html:e.greeting}}),i(Vj,{fields:n,greeting:o,buttonText:a,onFocus:r,onBlur:s,onSubmit:d,onChange:c,onValidateAll:l,submitStatus:u,text:a,disabled:g,languages:p,isHorizontal:h,tab:e.tab})))},e}(p);function eF(t,e){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var r=t.state.fields.map((function(i){return i.id!==n.id?i:function(t,e){if(t.isRequired){if(!t.value&&!t.error)return Object.assign({},t,{error:e.promptRequired});if(t.value&&t.error)return Object.assign({},t,{error:""})}return t}(Object.assign({},i,e.apply(void 0,o)),t.props.languages)}));t.setState({fields:r})}}var nF,iF=function(t){function e(e){var n;n=t.call(this,e)||this;var i=e.fields;return i=i.map((function(t){return"rating"===t.type?t.value=0:"comment"===t.type&&(t.value=""),t})),n.state={fields:i},n.onBlur=eF(ct(n),(function(){return{isFocused:!1,isErrorShowed:!0}})),n.onFocus=eF(ct(n),(function(){return{isFocused:!0}})),n.onChange=eF(ct(n),(function(t){return{value:t}})),n.onSubmit=n.onSubmit.bind(ct(n)),n.onErrorToggle=n.onErrorToggle.bind(ct(n)),n.onValidateAll=n.onErrorToggle.bind(ct(n),!0),n}st(e,t);var n=e.prototype;return n.onSubmit=function(){var t=this.state.fields,e=t.filter((function(t){return"rating"===t.type}))[0],n=t.filter((function(t){return"comment"===t.type}))[0],i=e?e.value:0,o=n?n.value:"";this.props.onSubmitRating({score:i,comment:o})},n.onErrorToggle=function(t){var e=this.state.fields.map((function(e){return Object.assign({},e,{isErrorShowed:t})}));this.setState({fields:e})},n.render=function(){var t=this.props;return 0===t.fields.length?null:i(tF,dt({},t,{onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onSubmit:this.onSubmit,onValidateAll:this.onValidateAll,fields:this.state.fields}))},e}(p),oF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onPostChatMounted(),this.anchor.scrollIntoView(!0),setTimeout((function(){return t.props.updatePostChatVisible(!0)}),500),this.props.enableGa&&HA()},n.render=function(){var t=this,e=this.props;return 0===e.fields.length?null:i(w,null,i("div",{style:{position:"relative",top:"-15px",width:"100%"},ref:function(e){t.anchor=e}}),i(tF,dt({},e,{tab:np})))},e}(p),aF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.componentDidMount=function(){if(this.props.isMessageScrollBottom){var t=this.props.scrollDown;t(),ut(this.container,t)}},n.componentWillUnmount=function(){this.props.isMessageScrollBottom&&Jt(this.container,this.props.scrollDown)},n.render=function(){var t=this,e=this.props;if(this.state.timeout)return null;var n=e.isMobile?"#fff":Xt(e.mainColor),o=ft(this.context);return i("div",{className:"window__chatAgent clearfix",ref:function(e){t.container=e}},e.ifShowAvatar&&e.sender.avatar&&i("div",{className:"agentMessage__avatar"},i(QB,{src:e.sender.avatar,alt:o.avatar,className:"agentMessage__avatarImg"})),i("div",{className:"window__chatAgentMessage_container"},i("div",{className:"chat-message-extra-info"},e.sender.name&&i("span",{className:"chat-operator-name window__chatAgentName"},e.sender.name),e.time&&i("span",{className:"chat-message-time"},$t(e.time))),i("div",{className:h("chat-operator-message","window__chatAgentMessage",(!e.ifShowAvatar||!e.sender.avatar)&&"window__chatMessageNoAvatar"),style:{background:n}},i("div",{className:"dot","aria-label":o.typing},i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames7"},i("circle",{r:"2"})),i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames10"},i("circle",{r:"2"})),i("svg",{className:"dot__element dot__element--loadingAnimation animated-delayFrames13"},i("circle",{r:"2"}))))))},e}(p),rF=["messages"],sF=Ct((function(){return import("./BotEntry.51ca376c.js")})),cF=Ct((function(){return import("./SecureForm.f78d08a5.js")})),dF="{queuePosition}",lF="{estimatedWaitTime}",uF=0,pF=0,hF=function(t,e){if(t.type===_e){for(var n=[],i=t.originalMessage.split(/{linkText}/gi),o=0;o<i.length;o+=1)n.push(i[o]),o<i.length-1&&n.push(e);return n.join(" ")}if(t.type===Zn)return t.content.text;if(t.type===jn){var a=t.originalMessage.split($i);return a.length>1?a[0]+"\n["+a[1]+"]":t.originalMessage}return t.type===Ln||t.type===En||t.type===zn||t.type===qn||t.type===Un||t.type===Gn||t.type===Qn||t.type===Jn||t.type===Kn||t.type===Yn?JSON.stringify(t.content):t.type===Qi?t.content:t.originalMessage},fF=((nF={})[ke]=function(t,e){var n=e.windowStyle,o=e.scrollDown,a=e.chatStatus,r=e.isMessageScrollBottom;if(t.content){var s=t.content;if(s.indexOf(dF)>=0&&void 0===t.queuePosition)return null;if(s.indexOf(lF)>=0&&(void 0===t.estimatedWaitTime||0===t.estimatedWaitTime))return null;for(;s.indexOf(dF)>=0;)a===mp||a===wp?s=s.replace(dF,uF):(s=s.replace(dF,t.queuePosition),uF=t.queuePosition);for(;s.indexOf(lF)>=0;)a===mp||a===wp?s=s.replace(lF,pF):(s=s.replace(lF,t.estimatedWaitTime),pF=t.estimatedWaitTime);return i(HP,{key:t.guid,messageGuid:t.guid,type:t.type,message:s,windowStyle:n,scrollDown:o,isMessageScrollBottom:r})}return null},nF[_e]=function(t,e){var n=e.gotoOfflineLinkText,o=e.onOfflineLinkClick,a=e.windowStyle,r=e.scrollDown,s=e.chatStatus,c=e.isMessageScrollBottom;if(s===fp){var d=[];if(t.content){for(var l=t.content.split(/{linkText}/gi),u=0;u<l.length;u+=1){var p=l[u];d.push(p),u<l.length-1&&d.push(i("a",{href:"",onClick:o},n))}return i(HP,{key:t.guid,messageGuid:t.guid,liveMessage:t.content.replace(/{linkText}/gi,n),type:t.type,message:d,windowStyle:a,scrollDown:r,tabIndex:-1,isMessageScrollBottom:c})}}return null},nF[ii]=function(t,e){var n=e.onStartChatAgainClick,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=e.isPrint;if(t.content){var c=s?i("span",null,t.content):i(w,null,i(xt,{type:ne,ariaHidden:!0}),i("a",{href:"",onClick:n},t.content));return i(HP,{key:t.guid,type:ii,message:c,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:o,scrollDown:a,isMessageScrollBottom:r})}return null},nF[oi]=function(t,n){var o=n.windowStyle,a=n.scrollDown,r=n.chatWindowIfCanDownloadChatDetail,s=n.agents,c=n.prechatDepartment,d=n.startTime,l=n.endTime,u=n.campaignId,p=n.originalMessages,h=n.gotoOfflineLinkText,f=n.isMessageScrollBottom,g=n.isPrint;if(t.content&&r){var m=t.content,b=m.text,v=m.url,_=g?i("span",null,b):i(w,null,i(xt,{type:ie,ariaHidden:!0}),i("a",{onClick:function(t){var n=function(t){return t.filter((function(t){return t.guid&&!(Pr.indexOf(t.type)>=0)}))}(p).map((function(t){return{type:t.type,message:hF(t,h),senderType:t.sender.type,senderName:t.senderName,time:Math.round(t.originalTime/1e3),translated:t.translated}}));ae(v,e.Base64.encode(JSON.stringify({agents:s,department:c,startTime:d,endTime:l,campaignId:u,timezone:Fa(),messages:n}))),t.preventDefault(),t.stopPropagation()},target:"_blank",rel:"noopener noreferrer",href:""},b));return i(HP,{key:t.guid,type:oi,message:_,liveMessage:b+" link",messageGuid:t.guid,windowStyle:o,scrollDown:a,isMessageScrollBottom:f})}return null},nF[Ye]=function(t,e){var n=e.isPrint,o=e.windowStyle,a=e.scrollDown,r=e.isMessageScrollBottom,s=[];return s.push(i(HP,{key:t.guid,type:t.type,message:t.content.text,messageGuid:t.guid,windowStyle:o,sender:t.sender,scrollDown:a,isMessageScrollBottom:r})),n||s.push(i(kt,null,i(It,null,i(cF,{isHidden:t.isHidden,url:t.content.url,targetUrl:z.href,getSecureFormFailure:e.getSecureFormFailure,submitSecureForm:e.submitSecureForm,cancelSecureForm:e.cancelSecureForm,windowStyle:o,scrollDown:a,isPopedOut:e.isPopout})))),s},nF[Le]=function(t,e){var n=e.isPrint,o=e.windowStyle,a=e.ifShowName,r=e.ifShowAvatar,s=e.isMobile,c=e.scrollDown,d=e.mainColor,l=e.agentTypingText,u=e.isMessageScrollBottom;return n?null:i(aF,{key:t.guid,message:l,time:t.time,windowStyle:o,sender:t.sender,ifShowName:a,ifShowAvatar:r,isMobile:s,scrollDown:c,mainColor:d,isMessageScrollBottom:u})},nF[ve]=function(t,e){if(t.content){var n=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom,r=t.time,s=r.getHours(),c=r.getMinutes(),d=r.getSeconds(),l=t.content.concat(" ("+oe(s)+":"+oe(c)+":"+oe(d)+")");return i(HP,{key:t.guid,type:t.type,message:l,messageGuid:t.guid,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a})}return null},nF[ai]=function(t,e){var n=e.onEmailTranscriptClick,o=e.ifCanEmailTranscript,a=e.windowStyle,r=e.scrollDown,s=e.isMessageScrollBottom,c=e.isPrint;if(t.content&&o){var d=c?i("span",null,t.content):i(w,null,i(xt,{type:Ht,ariaHidden:!0}),i("a",{href:"",onClick:n},t.content));return i(HP,{key:t.guid,type:ai,message:d,messageGuid:t.guid,liveMessage:t.content+" link",windowStyle:a,scrollDown:r,isMessageScrollBottom:s})}return null},nF);var gF=function(t,e){if(function(t){return t.type===ri||t.type===ui||t.type===Ri||t.type===zi||t.type===li||t.type===Di||t.type===pi||t.type===Ei||t.type===di||t.type===mi||t.type===wi||t.type===bi||t.type===vi||t.type===_i||t.type===xi||t.type===yi||t.type===un}(t))return null;if(fr(t))return function(t,e){var n=e.windowStyle,o=e.scrollDown,a=e.isMessageScrollBottom;return t.content?"string"==typeof t.content&&t.content?i(HP,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):"string"==typeof t.content.text&&t.content.text?i(HP,{key:t.guid,messageGuid:t.guid,type:t.type,message:t.content.text,windowStyle:n,sender:t.sender,scrollDown:o,isMessageScrollBottom:a}):null:null}(t,e);if(gr(t))return function(t,e){return i(JP,dt({key:t.guid,type:t.type,textType:t.textType,message:t.content,time:t.time,meta:t.meta,translated:t.translated,fileName:t.content.fileName,percent:t.content.percent,onCloseClick:t.content.onCancel,ifShowSeenDot:e.ifEnableVisitorSeeMsgSentSeen&&e.isChattingWithAgent,msgId:t.id,msgGuid:t.guid,tooltip:e.msgNotSeenByAgent,displayedText:t.displayedText},e))}(t,e);if(mr(t))return function(t,e){return i($P,dt({key:t.guid,messageGuid:t.guid,type:t.type,message:t.content,sender:t.sender,time:t.time,translated:t.translated},e))}(t,e);if(function(t){return t.type===Vn}(t))return function(t,e){return e.isPrint?null:e.isChatting?i(iF,dt({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!0)},onBlur:function(t){return e.onBlur(t,!0)},onFocus:function(t){return e.onFocus(t,!0)}},e)):i(oF,dt({fields:e.ratingForm.fields,greeting:e.ratingForm.greeting,buttonText:e.ratingForm.buttonText,submitStatus:e.ratingForm.submitStatus,onChange:function(t,e){return othersProps.onChange(t,e,!1)},onBlur:function(t){return e.onBlur(t,!1)},onFocus:function(t){return e.onFocus(t,!1)}},e))}(0,e);if(function(t){return wr(t)||vr(t)||_r(t)}(t))return i(kt,null,i(It,null,i(sF,{message:t,otherProps:e})));var n=fF[t.type];return n?n(t,e):null},mF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={botLoaded:!1},n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.element;if(t&&this.props.isBubble){var e=t.getBoundingClientRect().width;t.style.width=e+"px"}},n.render=function(){var t=this,e=this.props,n=e.messages,o=F(e,rF),a=n.reduce((function(t,e){return function(t,e){if(!gr(e))return t.concat(e);if(t.length>0){var n=t[t.length-1];if(gr(n))return n.meta.isLast=!1,t.concat(Object.assign({},e,{meta:{isLast:!0}}))}return t.concat(Object.assign({},e,{meta:{isFirst:!0}}))}(t,e)}),[]).map((function(t){return gF(t,o)})).filter((function(t){return null!==t})).reduce((function(t,e){return t.concat(e)}),[]);return i("div",{ref:function(e){t.element=e},id:"chatMessages"},a)},e}(p),wF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return t.isBubble!==this.props.isBubble||t.greeting!==this.props.greeting},n.render=function(){var t=this.props,e=t.isBubble,n=t.greeting;return i("div",{className:"chat__greetingContainer"},i("div",{className:e?"chat-system-message window__chatSystemMessage":"greeting-message window__formGreeting"},i("div",{className:h(e&&"window__chatSystemMessageContent"),dangerouslySetInnerHTML:{__html:n}})))},e}(p),bF=["greeting","height","hasMobileSideWindow","bottom","ifShowBio","ifHideBio"];function vF(t,e){if(function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}var _F,xF,yF=function(t){function e(e){var n;return(n=t.call(this,e)||this).onScroll=n.onScroll.bind(ct(n)),n.scrollDown=n.scrollDown.bind(ct(n)),n.canUpdateHideBio=!0,n.beforeunload=n.beforeunload.bind(ct(n)),n.onTouch=n.onTouch.bind(ct(n)),n.io=null,n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.props.onMounted(),setTimeout((function(){t.element&&(t.hasAnimation=!0,vF(t.element,"window__chat--animation"))}),625),V.addEventListener("beforeunload",this.beforeunload),uk("livechat.chatwindow.restore",(function(){t.scrollDown()})),!this.props.isPrint&&window.IntersectionObserver&&(this.io=new window.IntersectionObserver((function(e){e[0].intersectionRatio<=0?t.props.updateIsMessageScrollBottom(!1):(t.props.updateIsMessageScrollBottom(!0),t.props.onReadNewMsg())})),this.io.observe(this.refBottomElement))},n.shouldComponentUpdate=function(t){return this.props.messages!==t.messages||t.ifHideBio!==this.props.ifHideBio||t.height!==this.props.height||t.hasMobileSideWindow!==this.props.hasMobileSideWindow||t.isInputVisible!==this.props.isInputVisible||t.showToolbox!==this.props.showToolbox||t.maxAgentReadId!==this.props.maxAgentReadId||t.isSSOLoggedIn!==this.props.isSSOLoggedIn||t.isChatting!==this.props.isChatting||t.isMessageScrollBottom!==this.props.isMessageScrollBottom||JSON.stringify(t.ratingForm.fields)!==JSON.stringify(this.props.ratingForm.fields)||t.ratingForm.submitStatus!==this.props.ratingForm.submitStatus||t.width!==this.props.width},n.componentDidUpdate=function(t){var e=this,n=t.ifHideBio;this.props.ifHideBio!==n&&(this.canUpdateHideBio=!1,setTimeout((function(){e.canUpdateHideBio=!0}),625)),this.hasAnimation&&vF(this.element,"window__chat--animation")},n.componentWillUnmount=function(){V.removeEventListener("beforeunload",this.beforeunload),!this.props.isPrint&&this.io&&this.io.disconnect()},n.componentWillReceiveProps=function(t){var e=this;t.isInputVisible!==this.props.isInputVisible&&t.isInputVisible&&setTimeout((function(){e.scrollDown()}),625)},n.onTouch=function(){var t=this.element.ownerDocument.getElementById("chat-input-control");t&&t.blur()},n.onScroll=function(t){if(!ot){var e=t.currentTarget.scrollTop;this.canUpdateHideBio&&e>0&&!this.props.ifHideBio&&this.props.onUpdateScrollStatus(!0),this.canUpdateHideBio&&0===e&&this.props.ifHideBio&&this.props.onUpdateScrollStatus(!1)}},n.beforeunload=function(){Db(this.props.chatGuid)},n.scrollDown=function(t){if(this.element&&(this.props.isMessageScrollBottom||t)){if(!this.props.isChatting&&!this.props.isPostChatVisible){var e=this.props.messages.length>1?this.props.messages[this.props.messages.length-1]:null;if(e&&e.type===Vn)return}this.element.scrollTop=this.element.scrollHeight}},n.render=function(){var t=this,e=this.props,n=e.greeting,o=e.height,a=e.hasMobileSideWindow,r=e.bottom,s=e.ifShowBio;e.ifHideBio;var c,d,l=F(e,bF),u=l.isInputVisible,p=!1;if(l.windowStyle===cw){p=!0;var f=0;if(this.element){var g,m=this.element.nextElementSibling;(g=this.props.ifShowQuickReply?m.nextSibling:m)&&"chat-input"===g.id&&(f=g.getBoundingClientRect().height)}if(l.isMobile){if(c=o-20,l.isIpad&&(c-=r),u&&(c-=Math.max(f,70)),a){c-=45}}else{c=o-35,u&&(c-=Math.max(f,47))}this.props.showAdaptiveMinimizeIcon&&(c-=105)}l.isPrint&&(c="");var w=i("div",null,(d="<div>&nbsp;</div>"!==n&&!!n)&&i(wF,{isBubble:p,greeting:n}),i(mF,dt({},l,{scrollDown:this.scrollDown}))),b=i(mF,dt({},l,{scrollDown:this.scrollDown})),v=ft(this.context),_={maxHeight:c};return this.props.isPopout&&!p&&(_=Object.assign({},_,Yt(this.props.width,!0))),i("div",{id:"window-chat-wrapper",ref:function(e){t.element=e},className:h("chat window__chat window__chat--animation",s?"window__chat--withBio":"window__chat--noBio",this.props.ifShowQuickReply&&"window__chat--withQuickReply"),onScroll:this.onScroll,onTouchEnd:this.onTouch,style:_},i("h1",{className:"visually-hidden","aria-hidden":!0},"Chat window"),i(hT,{id:"greeting"+this.props.chatGuid,message:n,isHtml:!0}),!(p&&l.isMobile)&&d&&i(wF,{isBubble:p,greeting:n}),p&&l.isMobile?w:b,i("div",{ref:function(e){t.refBottomElement=e},style:{height:1,padding:0}}),!this.props.isMessageScrollBottom&&!l.isPrint&&i("button",{onClick:this.scrollDown,"aria-label":v.scrollToBottom,className:h("btnScrollToBottom",{btnScrollToBottomWithBadge:this.props.unReadMessageCount>0}),title:v.scrollToBottom},this.props.unReadMessageCount>0&&i("span",null,this.props.unReadMessageCount,"  "),i("svg",{viewBox:"0 0 24 24","aria-hidden":!0,focusable:!1},i("path",{d:"M12,17.013,23.609,5.405A1.333,1.333,0,0,0,21.724,3.52L12,13.243,2.28,3.52A1.333,1.333,0,0,0,.4,5.405Zm10.652,1.4H1.332a1.334,1.334,0,0,0,0,2.667H22.654a1.334,1.334,0,0,0,0-2.667Z"}))))},e}(p),SF=function(){return{type:PM,payload:{type:"locationCancelled"}}},CF=function(){return{type:FM,payload:{type:"visitorSSOCancelled"}}},kF=function(t){var e=t.fromSource;return{type:WM,payload:{type:"meetingCancelled",fromSource:e}}},IF=function(t){var e=t.eventUri,n=t.inviteeUri,i=t.fromSource;return{type:NM,payload:{bookMeetingEventUri:e,bookMeetingEventInviteeUri:n,fromSource:i,type:"meetingSubmitted"}}},MF=function(){return{type:VM,payload:{type:"formCancelled"}}},OF=function(t){var e=t.fromSource;return{type:DM,payload:{fromSource:e,type:"microsoftBooking"}}},AF=function(t,e){return{type:t,guid:Y(),time:new Date,content:e,sender:{type:cp}}},BF=f((function(t){var e=ff(t),n=bf(t).length;e.filter((function(t){return t.type===Hn||t.type===Hi||t.type===qi})).length>0&&(n+=1);var i=ph(t),o=Hm(t),a=Wm(t),r=ef(t),s=function(t){return t.entities.campaigns.entities[t.window.id].greetingMessages.chatWindowGreetingMessage}(t);!s||"<div>&nbsp;</div>"!==s&&"<div></div>"!==s&&"<div/>"!==s||(s="");var c=function(t){var e=Mm(t).url;return L(e)}(t),d=Bv(t),l=function(t,e){return E(t,"entities.campaigns.entities."+e+".chatWindowIfCanDownloadChatDetail")}(t,d),u=Qm(t,d),p=Bv(t),h=Gh(t)===mp,f=_v(t),g=h?f.filter((function(t){return"rating"===t.type||"comment"===t.type})):f,m=yv(t,h?yp:vp);return{siteId:ym(t),transferSiteId:Sm(t),KbHost:c,height:o,isPopout:i,isMobile:a,isIpad:Nm(t),ifShowBio:mg(t),hasMobileSideWindow:Xf(t)&&a,windowStyle:Rv(t,r),greeting:s||"",messages:e,ifShowName:n>1,gotoOfflineLinkText:p_(t,"eventLinkText")||"here",startChatAgainText:p_(t,"startChatAgain",p),emailTranscriptText:p_(t,"buttonTranscript",p),translatedTag:p_(t,"translation"),originalTag:p_(t,"original"),agentTypingText:p_(t,"eventOperatorIsTyping",p),chatStatus:Gh(t),ifShowAvatar:zv(t)===cw||e_(t),chatGuid:_f(t),ifHideBio:Yf(t),isInputVisible:jf(t),mainColor:rf(t),bottom:Og(t),showAdaptiveMinimizeIcon:k_(t),showToolbox:Dg(t),onMounted:function(){lk("livechat.chat.display",r)},maxAgentReadId:Tg(t),ifEnableVisitorSeeMsgSentSeen:Bg(t,p),msgNotSeenByAgent:p_(t,"msgNotSeenByAgent",p),isChattingWithAgent:Gh(t)===mp&&!lf(t)&&!fv(t)||Gh(t)===gp||Gh(t)===fp||Gh(t)===wp&&0!==bf(t).length,languages:l_(t),ifShowQuickReply:!!Pg(t),agents:A_(t),prechatDepartment:O_(t),startTime:Lg(t),endTime:Hg(t),campaignId:vm(t),transferCampaignId:Bv(t),originalMessages:gf(t),chatWindowIfCanDownloadChatDetail:l,ifCanEmailTranscript:u,isSSOLoggedIn:null!==Lw(Gb)&&Lw(Gb),isChatting:h,isPopoutWindow:ph(t),isFreemiumSignupFormInsideChatWindowEnabled:Nv(t),isChatEnded:B_(t)===cu,prechatEmail:Qf(t,"email"),customizeFileService:m_(t),standbyFileService:w_(t),apiHost:b_(t),isMessageScrollBottom:Zg(t),unReadMessageCount:Xg(t),ratingForm:{fields:g,greeting:Jv(t,vp),buttonText:Zv(t,vp),submitStatus:m,ratingValue:Qf(t,"rating"),commentValue:Qf(t,"comment")},isHorizontal:Qv(t,vp),width:$g(t),isPostChatVisible:tm(t),onPostChatMounted:function(){lk("livechat.postChat.display",r)},enableGa:Dv(t),ifShowTranslationOnly:Eh(t),resourceOrigin:xh(t)}}),(function(t){return{submitSecureForm:function(e,n){var i=AF(hi,""+e+$i+n);t(eC([i]))},cancelSecureForm:function(e){t(Gx(e));var n=AF(fi,"");t(eC([n]))},getSecureFormFailure:function(){var e=AF(gi,"");t(eC([e]))},onOfflineLinkClick:function(e){e.preventDefault(),t(Px(ip))},onChatWithAgentClick:function(){t(ey())},onRateClick:function(e,n,i,o,a,r){t(iy(n,e,i,o,a,r))},onStartChatAgainClick:function(e){e.preventDefault(),t(ly())},onEmailTranscriptClick:function(e){e.preventDefault(),t(SS(!0))},onUpdateScrollStatus:function(e){t(py(e))},onChatbotTimeout:function(e){t(Ny(e))},onKbLinkClick:function(e,n){t(cC(e,n))},onSideWindowLinkClick:function(e){var n=e.url,i=e.type,o=e.title,a=e.iframe,r=e.noFocus,s=e.botId;t(Uy(n,i,o,a,r,s))},onCloseBotSignWindow:function(){t(Gy())},onWebViewLinkClick:function(e){t(zy(e))},onIntentLinkClick:function(e,n,i,o,a,r){t(uS(r)),t(ny({id:e,name:n,clickType:i,agentId:o,botId:a}))},onPushPage:function(e){t(Ry(e))},onSSORequestClick:function(e){e.isPopoutWindow?t(lS()):e.content.ifOpenSignInPageEmbeddedWindow?t(zy(e)):t(cS())},onTaskBotQuickReplyClick:function(e,n){lk("livechat.chat.visitor.input",e),t(Ex(e)),t(YI(n))},onTaskBotCollectInput:function(e,n){lk("livechat.chat.visitor.input",e),setTimeout((function(){t(Ex(e)),t(YI(n))}),1350)},onChatbotActionSendText:function(e){var n=e.text,i=e.messageGuid,o=e.delay,a=void 0===o?0:o,r=e.textType,s=e.isCollect,c=void 0!==s&&s,d=e.displayedText,l=e.quickReplyNextActionId;lk("livechat.chat.visitor.input",n),setTimeout((function(){t(Ex(n,!1,{textType:r,isCollect:c,displayedText:d,quickReplyNextActionId:l})),i&&t(uS(i))}),a)},onChatbotActionChatWithAgentoptions:function(e){e.text;var n=e.messageGuid;t(ey()),t(uS(n)),lk("livechat.chat.visitor.chatwithagent")},hideQuickReply:function(){t(sS())},onInputAreaVisibleChange:function(e){t(_S(e))},onReadNewMsg:function(){t(wC()),t(yS())},updateIsMessageScrollBottom:function(e){t(xS(e))},onBotFeedback:function(e){t(function(t){return{type:Tk,payload:Object.assign({},t,{type:"botFeedback"})}}(e))},onChange:function(e,n,i){t(yC(vp,e.id,n)),i||lk("livechat.postChat.field.change",Object.assign({},e,{value:n}))},onError:function(e,n){t(SC(vp,e.id,n))},onBlur:function(e,n){t(kC(vp,e.id)),n||lk("livechat.postChat.field.blur",Object.assign({},e,{isFocused:!1}))},onFocus:function(e,n){t(CC(vp,e.id)),n||lk("livechat.postChat.field.focus",Object.assign({},e,{isFocused:!0}))},onSubmit:function(e){t(IC(vp)),t(NC(vp,1500,e)).then((function(){return t(CS())}))},onSubmitRating:function(e){t(IC(yp)),lk("livechat.chat.visitor.rate",e),t(zS(e)),t({type:Ns,payload:e})},onValidateAll:function(e){t(TC(Sp,e))},updatePostChatVisible:function(e){t(IS(e))},onPreviewImage:function(e,n){t(NS({url:e,name:n}))},onChatbotCanvasAuthorization:function(e){var n=e.status,i=e.fromSource;t(function(t){var e=t.status,n=t.fromSource;return{type:RM,payload:{type:"canvasAuthorization",status:e,fromSource:n}}}({status:n,fromSource:i}))}}}))(yF),TF=function(t){function e(){var e;return(e=t.call(this)||this).state={showIcon:!1,animated:!1},e.animated=function(){e.setState({animated:!0})},e}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;this.timer=setTimeout((function(){return t.setState({showIcon:!0})}),200),ut(this.element,this.animated)},n.componentWillUnmount=function(){clearTimeout(this.timer),Jt(this.element,this.animated)},n.render=function(){var t=this,e=this.props,n=ft(this.context);return i("div",{className:h("window__form",this.state.animated&&"window__form--animation"),ref:function(e){t.element=e}},e.errorMessage&&i("div",{className:"window__formError"},e.errorMessage),this.state.showIcon&&!e.errorMessage&&i(xt,{type:Lt,className:"svg--loadingChat",viewBox:"0 0 100 100","aria-label":n.loading,"aria-busy":"true"}))},e}(p),jF=f((function(t){return{errorMessage:Cf(t),windowStyle:Rv(t,vm(t))}}))(TF),PF=Ct((function(){return import("./SideWindow.cdfb2866.js")})),FF=function(t){return i(kt,{key:"sideWindow",style:{background:"#f2f2f2",display:"flex",alignItems:"center",position:"absolute",boxShadow:"0 5px 15px 0 rgba(0,0,0,.15)",width:"calc(100% - 15px)",bottom:12.5,height:"calc(100% - 15px)",borderRadius:5,right:0}},i(It,null,i(PF,t)))},WF=Ct((function(){return import("./KBsearch.a0e28083.js")}));Ct((function(){return import("./SideWindow.cdfb2866.js")}));var NF,VF=Ct((function(){return import("./ChatInput.a4107f13.js")})),DF=Ct((function(){return import("./WebView.87916a9b.js")})),RF=Ct((function(){return import("./PreLogin.67f55213.js")})),EF=Ct((function(){return import("./SSOLogin.315c27d9.js")})),zF=((_F={})[tp]=EP,_F[np]=zP,_F[ip]=LP,_F[ep]=BF,_F[Xu]=RF,_F[$u]=EF,_F[Zu]=jF,_F[op]=WF,_F),LF=((xF={})[tp]={timespan:0,duration:20},xF[np]={timespan:0,duration:20},xF[ip]={timespan:0,duration:20},xF[ep]={timespan:0,duration:2},xF[Xu]=null,xF[$u]=null,xF[Zu]=null,xF[op]={timespan:0,duration:20},xF),HF=function(){},qF=f((function(t){var e,n=$h(t),o=zF[n],a=Yg(t);n!==$u||a||(o=RF);var r=Cm(t),s=r===$l,c=Nm(t),d=n===Xu||n===$u||n===op?i(kt,null,i(It,null,i(o))):i(o);e=n===$u?a?[d]:[i(_P,null),d]:[i(_P,null),d,jf(t)&&i(kt,null,i(It,null,i(VF,{isIPad:c}))),i(kP,null),Pf(t)&&i(kt,null,i(It,null,i(DF,null)))].filter((function(t){return t}));var l=Gh(t),u=l===mp,p=zv(t),h=Lv(t),f=kf(t),g=Cf(t),m=Mf(t),w=Xv(t,m),b=$v(t),v=LF[n];l!==wp||n!==ep&&n!==np||(v={timespan:0,duration:10});var _=l===wp,x=l===wp?180:void 0,y=ag(t),S=0,C=Xf(t),k=C?FF:null;p===cw&&(S=Math.random());var I=qm(t),M=Hm(t),O=vm(t),A=Cw(t,O),B=gw(t,O),T=fg(t),j=function(t){return t.page.orientation}(t),P=rT(p,t,sh(t,O)),F=xm(t)[O],W=k_(t),N=Ag(t),V=Og(t),D=ff(t),R=qg(t),E=function(t){return t.configuration.visitorsideCustomCSS}(t),z=Bv(t),L=Zg(t);return{isPoppedOut:ph(t),fontCSS:er(K(_h,t)),mainColor:rf(t),background:sf(t),isFocused:ug(t),children:e,windowTab:n,windowStatus:r,windowStyle:p,warning:f,error:g,isMobile:Wm(t),isIPad:c,showChatWindowInSidewindow:ng(t),title:u?w:void 0,seed:S,hOnline:v,writeReply:b,ifShowSideWindow:C,sideWindow:k,customCss:y,amyCustomCSS:E,width:I,height:M,isRightToLeft:T,iframeStyle:A,orientation:j,showAvatar:!!(P.avatars||P.avatar||P.agent&&P.agent.avatar),isMinimized:s,iconStyle:B.svg,ifCobrowsingShowing:Ig(t),languageCobrowseStop:x_(t),cornerStyle:h,languageTag:u_(t),online:F,showAdaptiveMinimizeIcon:W,isCurrentAdaptiveButton:C_(t),right:N,bottom:V,ifEnableVisitorSeeMsgSentSeen:Bg(t,z),maxVisitorReadId:jg(t),maxMsgId:Sf(t),maxGuid:R,messages:D,chatStatus:l,showToolbox:Dg(t),hDelay:_,hStop:x,brandConfig:Vh(t),isSideWindowSelectedTabKb:ig(t)===Bp,isMessageScrollBottom:L}}),(function(t){return{dispatch:t,onMounted:function(){t(Wy())},onErrorClose:function(){t(ty())},onWarningClose:function(){t(Qx())},onFocusToggle:function(e){t(Yx(e))},onPositionChange:function(e,n){t(Qy(e,n))},onReadNewMsg:function(e){t(wC(e))},hOnInit:function(){t(W_(!0))},hOnStopped:function(){t(W_(!1))},minimize:function(){t(ax())},updateMainWindowWidth:function(e){t(kS(e))}}}),(function(t,e){var n=t.windowTab,i=e.dispatch,o=HF;return n===ep?o=function(){return i(ES())}:n===tp||n===op?o=function(){return i(XS())}:n===np?o=function(){return i(ES())}:n===ip&&(o=function(){return i($S())}),Object.assign({},t,e,{hCallback:o})}))(zB),UF=function(t){function e(){return t.apply(this,arguments)||this}st(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(t){return this.props.message!==t.message},n.render=function(){return i("div",{"aria-live":"polite",style:{position:"absolute",left:-1e4,top:-1e4,width:1,height:1}},this.props.message)},e}(p),GF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={message:"",htmlMessage:""},n.pendingMessage=[],n.announcedMessageIds={},n.announce=n.announce.bind(ct(n)),n.removeMessage=n.removeMessage.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer),this.htmlTimer&&clearTimeout(this.htmlTimer)},n.shouldComponentUpdate=function(t,e){return this.props.children!==t.children||this.state.message!==e.message},n.announce=function(t,e,n){var i,o,a=this;this.announcedMessageIds[t]||(this.announcedMessageIds[t]=!0,this.pendingMessage.push(n?(i=e,(o=document.createElement("div")).innerHTML=i,o.textContent||o.innerHTML):e),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t=a.pendingMessage.join("\n");a.pendingMessage=[],a.setState({message:t})}),100))},n.removeMessage=function(t,e){this.announcedMessageIds[t]&&(this.announcedMessageIds[t]=void 0,e&&this.state.message===e&&this.setState({message:""}))},n.render=function(){return i(pT.Provider,{value:{announce:this.announce,removeMessage:this.removeMessage}},i(UF,{message:this.state.message}),this.props.children)},e}(p),KF=Ct((function(){return import("./ImagePinch.0c1c68c7.js")})),YF=function(t){return i(kt,null,i(It,null,i(KF,t)))},JF=function(t,e){var n=.95*V.document.documentElement.clientWidth,i=.95*V.document.documentElement.clientHeight,o=1;return{width:t/(o=t/e>=n/i?t>=n?t/n:1:e>=i?e/i:1),height:e/o}},QF=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={loading:!0,rotation:1},n.hidePreview=n.hidePreview.bind(ct(n)),n.rotate=n.rotate.bind(ct(n)),n.onImgLoad=n.onImgLoad.bind(ct(n)),n.setImageSize=n.setImageSize.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.onImgLoad=function(t){var e=t.target.naturalWidth,n=t.target.naturalHeight;this.setState({originalWidth:e,originalHeight:n},this.setImageSize)},n.setImageSize=function(){if(this.state.rotation%2==1){var t=JF(this.state.originalWidth,this.state.originalHeight),e=t.width,n=t.height;this.image.style.width=e+"px",this.image.style.height=n+"px"}else{var i=JF(this.state.originalHeight,this.state.originalWidth),o=i.width,a=i.height;this.image.style.width=a+"px",this.image.style.height=o+"px"}},n.rotate=function(t){var e=this;t.stopPropagation(),this.container.style.overflow="hidden",this.setState({rotation:this.state.rotation+1},(function(){e.container.style.overflow="",e.setImageSize()})),this.image.style.transform="rotate(-"+90*this.state.rotation+"deg)"},n.hidePreview=function(t){t.target!==this.image&&(this.props.onResetPreviewImage(),this.setState({rotation:1}))},n.render=function(){var t=this,e=this.props,n=e.url,o=e.labels,a=e.name,r=e.isMobile;if(!n)return null;var s=ft(this.context);return i(w,null,i("style",null,".preview-modal {\n      position: absolute;\n      background: rgba(0, 0, 0, 0.5);\n      z-index: 2147483647;\n      width: 100%;\n      height: 100%;\n      right: 0;\n      bottom: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n    }\n    .preview-modal img {\n      transition: 160ms ease-in-out;\n    }\n    .preview-operation {\n      position: absolute;\n      top: 10px;\n      right: 15px;\n      background-color: #212121;\n      border-radius: 4px;\n      height: 42px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 8px;\n      padding: 2px 12px;\n      z-index: 99;\n    }\n    .preview-operation button {\n      outline: none;\n      border: none;\n      background: none;\n      width: 38px;\n      height: 38px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      padding: 0;\n    }\n    .preview-operation button:hover,\n    .preview-operation button:active {\n      background-color: #000;\n      border-radius: 4px;\n    }\n    .preview-operation svg {\n      width: 28px;\n      height: 28px;\n      fill: #fff;\n    }\n    svg.icon-popout {\n      width: 20px;\n    }\n    svg.icon-close {\n      width: 16px;\n      height: 16px;\n    }"),i("div",{className:"preview-modal",onClick:this.hidePreview,ref:function(e){t.container=e}},i("div",{className:"preview-operation"},i("button",{"aria-label":s.rotate,title:s.rotate,onClick:this.rotate},i(xt,{type:re,viewBox:"0 0 20 20"})),i("button",{"aria-label":o.popout,title:o.popout,onClick:function(){V.open(n)}},i(xt,{type:se,className:"icon-popout"})),i("button",{"aria-label":o.close,title:o.close,onClick:this.hidePreview},i(xt,{type:Mt,className:"icon-close"}))),r?i(YF,null,i("img",{src:n,alt:a,ref:function(e){t.image=e},onLoad:this.onImgLoad})):i("img",{src:n,alt:a,ref:function(e){t.image=e},onLoad:this.onImgLoad})))},e}(p),ZF=EB(QF),XF=f((function(t){var e=cm(t),n=l_(t);return Object.assign({},e,{labels:{close:n.buttonClose,popout:n.embeddedWindowPopup},languageTag:u_(t),isMobile:Wm(t)})}),(function(t){return{onResetPreviewImage:function(){t(NS({}))}}}))(ZF),$F="chatButton",tW="chatButton--ripple",eW=t(1)(Tt),nW=t(1)((function(t,e,n){var i="";return e&&(i=".chatButton--avatar:after{background-image:url("+e+");background-color:#f4f5f6;background-size:60px 60px;}"),[[tr(sB,t),".online .chatButton:after{","background:"+eW(t),"}",".online ."+tW+"."+$F+":before{","animation:at-ripple 16.417s linear 3.625s infinite","}",".offline .chatButton:after{","background:"+eW("#bbb"),"}",".innerIcon {","fill:"+eW(t),"}"].join(""),i,n]})),iW=t(1)(ce),oW=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={ifReceiveNewMessage:!0,customizeIcon:""},n.removeAnimationClass=n.removeAnimationClass.bind(ct(n)),n.getCustomSvgIcon=n.getCustomSvgIcon.bind(ct(n)),n.shouldComponentUpdate=ZA(ct(n),["iconStyle","count","href","status","avatar","online","mainColor","showArrowDown","customCSS","ifUseCustomizeIcon","customizeIcon"],["ifReceiveNewMessage","customizeIcon"]),n.handleReFocus=n.handleReFocus.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this;setTimeout((function(){t.button&&(t.button.style.zIndex=rA)}),0),this.button.addEventListener("mouseenter",(function(){if(t.icon&&t.props.online&&(!t.props.ifUseCustomizeIcon||!t.props.customizeIcon)){t.icon.classList.add("moveIn"),t.icon.classList.remove("moveOut");var e=t.props.online?t.props.mainColor:"#bbb";t.dotContainer.innerHTML='<svg viewBox="0 0 32 32" width="32px" fill='+e+' aria-hidden="true">\n        <circle r="2" cy="15" cx="10" class="innerDot" />\n        <circle r="2" cy="15" cx="16" class="innerDot" />\n        <circle r="2" cy="15" cx="22" class="innerDot" />\n        </svg>'}})),this.button.addEventListener("mouseleave",(function(){!t.icon||!t.props.online||t.props.ifUseCustomizeIcon&&t.props.customizeIcon||(t.icon.classList.remove("moveIn"),t.icon.classList.add("moveOut"),t.dotContainer.innerHTML="")}))},n.componentWillReceiveProps=function(t){t.status===tu&&this.button&&(this.button.style.zIndex=rA+1),t.count!==this.props.count&&this.setState({ifReceiveNewMessage:!0})},n.getCustomSvgIcon=function(t){var e=this;if(""!==t)if(t.indexOf("<svg")>=0)this.setState({customizeIcon:t});else{var n=t.indexOf("http")>=0?t:""+this.props.chatserverUrl+t;fM(n).then((function(t){e.setState({customizeIcon:t.output})}))}},n.removeAnimationClass=function(){this.setState({ifReceiveNewMessage:!1})},n.handleReFocus=function(t){var e=this.props.status;if([Zl,Xl].includes(e)&&9===t.keyCode){var n=top.frames.chat_window_container.contentWindow,i=top.frames.side_window_container&&top.frames.side_window_container.contentWindow,o=i&&i.document.querySelector(".sideWindow");if(o)return void o.focus();if(n){var a=n.document.querySelector(".whole-window");a&&a.focus()}}},n.render=function(){var t=this,e=this.props,n=e.onClick,o=e.href,a=e.count,r=e.status,s=e.avatar,c=e.online,d=e.ifRipple,l=e.isMobile;e.iconStyle;var u=e.mainColor,p=e.showArrowDown,f=e.customCSS,g=e.onTouchStart,m=e.onMouseEnter,w=e.ifUseCustomizeIcon,b=nW(u,s,f),v=ft(this.context),_=iW(c?u:"#bbb"),x=_.startColor,y=_.stopColor,S=this.props.customizeIcon;return i("div",{className:h("chatButtonContainer",l&&"chatButtonContainer--mobile",r===$l&&s&&"chatButton--avatar",c?"online":"offline"),ref:function(e){t.button=e}},i(lB,{css:b,id:"adaptive"}),i("a",{className:h(d&&tW,$F),href:o||"",onClick:n,onTouchStart:g,onMouseEnter:m,"aria-label":this.props["aria-label"],role:"button","aria-expanded":p?"true":"false",onKeyDown:this.handleReFocus},p?i("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"chatButton__svg-chat","aria-hidden":"true"},i("path",{className:"chatButton__svg-chat-path",stroke:"#fff",d:"M25.8,14.9c-0.5-0.4-1.3-0.3-1.7,0.2l-6,6l-6.2-6.1c-0.6-0.5-1.3-0.6-1.7-0.2c-0.3,0.5-0.3,1.2,0.2,1.7l6.6,6.5c0.2,0.2,0.4,0.3,0.6,0.4h0.1c0.1,0,0.1,0,0.2,0c0.4,0,0.8-0.1,1.1-0.4l6.6-6.6C26,16,26.2,15.4,25.8,14.9z"})):w&&S?i("div",{className:"chatButton__svg-container",dangerouslySetInnerHTML:{__html:S}}):i("div",{className:"svg-container",ref:function(e){t.icon=e}},i("svg",{x:"0px",y:"0px",width:"32px",height:"32px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",focusable:"false",className:"outIcon","aria-hidden":"true"},i("g",null,i("defs",null,i("linearGradient",{id:"linear"},i("stop",{offset:"0%","stop-color":x}),i("stop",{offset:"100%","stop-color":y}))),i("path",{fill:"#fff",className:"chatButton__svg-chat-path",d:"M16.007 0c-8.299 0-14.023 6.836-14.023 14.024 0 5.88 2.982 8.636 4.107 9.916 0 0 4.093 4.585 12.068 8.060v-4.121c4.783-0.563 11.858-5.289 11.858-13.855-0.001-8.271-6.794-14.024-14.010-14.024z"}),i("path",{fill:"url(#linear)",ref:function(e){t.path=e},className:"innerIcon",d:"M18.035 22.372v3.657c-0.014 0-2.729-1.364-4.276-2.574-2.926-2.236-6.498-4.416-6.498-9.438 0-4.993 4.149-8.622 8.622-8.622 0.005 0 0.011-0 0.017-0 4.744 0 8.591 3.838 8.605 8.579v0.043c0 5.162-4.164 7.779-6.47 8.355z"}))),i("div",{className:"innerDotContainer",ref:function(e){t.dotContainer=e}})),!!a&&a>0&&i("div",{ref:function(e){e&&(t.newMessageCount=e)},className:h("chatButton--newMessage",this.state.ifReceiveNewMessage&&"chatButton--newMessageAnimation"),onAnimationEnd:this.removeAnimationClass,"aria-label":v.unread},a)))},e}(p),aW=Object.freeze({__proto__:null,default:oW}),rW={width:110,height:110,position:"fixed",border:"none",zIndex:rA},sW=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={showNotify:!0},n.onClick=n.onClick.bind(ct(n)),n.onAccept=n.onAccept.bind(ct(n)),n.onRefuse=n.onRefuse.bind(ct(n)),n}st(e,t);var n=e.prototype;return n.componentWillReceiveProps=function(t){t.unread!==this.props.unread&&this.setState({showNotify:!0})},n.onAccept=function(t,e,n){this.props.onMaximize(this.props.windowTab),e&&this.props.onSend(e,n)},n.onRefuse=function(){this.setState({showNotify:!1}),this.props.isBubbleManualInvited&&this.props.onRefuse()},n.onClick=function(t){t.preventDefault(),(this.props.windowStatus===$l?this.props.onMaximize:this.props.onMinimize)(this.props.windowTab)},n.render=function(){var t=this.props,e=t.windowStatus===$l,n=this.state.showNotify&&t.NotifyBubble,o=this.props.isBubbleManualInvited?t.refuseText:t.closeText,a=this.props.isBubbleManualInvited?t.acceptText:t.openText,r=!1,s=ft(this.context),c=s.maximize;e&&(c=s.minimizeBar),e||(r=!0);var d=this.onAccept,l=this.onRefuse,u=t.windowStyle===cw?350:t.chatWindowWidth,p=Math.min(t.right,n?t.windowWidth-270-25:t.windowWidth-u)||0,h=Math.min(t.windowHeight-87.5,t.chatWindowHeight),f=Math.min(t.bottom,n?t.windowHeight-177.5-87.5:t.windowHeight-h-87.5);t.windowStyle!==cw||n||(f=0);var g=t.isRightToLeft,m=t.fontCSS;return i("div",null,n&&i(t.NotifyBubble,{onAccept:d,onRefuse:l,xText:o,acceptText:a,fontCSS:m,isRightToLeft:g}),i(hB,{style:Object.assign({},rW,{right:p,bottom:f}),title:s.minimizeBtn,id:"chat_button_adaptive_container",languageTag:t.languageTag},i(oW,{isMobile:t.isMobile,avatar:t.avatar,onClick:this.onClick,count:t.unread,status:t.windowStatus,online:t.online,iconStyle:t.iconStyle,showArrowDown:r,mainColor:t.buttonColor,"aria-label":c,customCSS:t.customCSS,ifUseCustomizeIcon:t.isCustomizedAdaptiveButtonUsed,customizeIcon:t.customizeIcon})))},e}(p),cW=Ct((function(){return import("./Bar.4999cdf1.js")})),dW=EB((function(t){return t.showAdaptiveMinimizeIcon?i(sW,t):i(kt,{fallback:i("div",null)},i(It,null,i(cW,t)))})),lW=Ct((function(){return import("./NotifyBubble.68c2ff8f.js")})),uW=function(t){return i(kt,{fallback:i("div",null)},i(It,null,i(lW,t)))};var pW,hW=((NF={})[ep]="livechat.chat",NF[tp]="livechat.prechat",NF[np]="livechat.postChat",NF[ip]="livechat.offlineMessage",NF),fW=f((function(t){var e=function(t){var e,n=zv(t);return n_(t)&&n!==cw&&(e=zf(t)),e}(t),n=ef(t),i=$h(t),o=Cm(t),a=function(t){if(Cm(t)===$l)return Mf(t)}(t),r=function(t){var e=vm(t);return xm(t)[e]}(t),s=function(t){var e=vm(t);return gw(t,e).svg}(t),c=rf(t),d=k_(t),l=gw(t,n),u=l.color,p=Lv(t),h=M_(t),f=Xv(t,a),g=Ag(t),m=Og(t),w=o===$l,b=r_(t),v=function(t){return(Am(t)||{}).invitationType===gu}(t),_=ag(t),x=u_(t),y=vm(t),S=Cw(t,y),C=S&&S.width,k=qm(t),I=S&&S.height,M=Hm(t),O=zv(t);return{isMobile:Wm(t),isIPad:Nm(t),avatar:e,windowTab:i,windowStatus:o,unread:a,online:r,iconStyle:s,mainColor:c,buttonColor:u,showAdaptiveMinimizeIcon:d,cornerStyle:p,text:h,notification:f,right:g,bottom:m,isBubbleManualInvited:b&&v,customCSS:_,NotifyBubble:w?uW:null,languageTag:x,languages:l_(t),openText:U[x].minimizeBar,acceptText:U[x].acceptInv,refuseText:U[x].refuseInv,closeText:U[x].closeNewMsg,chatWindowWidth:C,windowWidth:k,windowStyle:O,isPoppedOut:ph(t),fontCSS:er(K(_h,t)),isRightToLeft:fg(t),chatWindowHeight:I,windowHeight:M,isCustomizedAdaptiveButtonUsed:l.isCustomizedAdaptiveButtonUsed,customizeIcon:l.customizeIcon,shouldFocusBar:Km(t)}}),(function(t){return{onMinimize:function(e){var n=hW[e];n&&lk(n+".minimize"),t(ax())},onMaximize:function(e){var n=hW[e];n&&lk(n+".restore"),t(sx())},onRefuse:function(){t(By())},onSend:function(e,n){t(Xy(e,n))},onBlurMinimize:function(){t(cx(!1))}}}))(dW),gW=Ct((function(){return import("./Button.57a275b5.js")})),mW=Ct((function(){return import("./Invitation.69a7e5f1.js")})),wW=f((function(t){var e,n=lh(t);if(!n)return{isReady:n};var i=k_(t);return{isReady:n,enableGa:Dv(t),tab:$h(t),invitation:cv(t),guid:_f(t),ban:hh(t),isCampaignReady:Xh(t),windowStatus:Cm(t),isPoppedOut:ph(t),customJs:s_(t),chatStatus:Gh(t),showAdaptiveMinimizeIcon:i,languageMaxmized:null==(e=U[u_(t)])?void 0:e.maximized}}))((function(t){var e=t.isReady,n=t.windowStatus,o=t.tab,a=t.enableGa,r=t.customJs,s=t.chatStatus,c=t.invitation,d=t.guid,l=t.ban,u=t.isCampaignReady,p=t.isPoppedOut,h=t.showAdaptiveMinimizeIcon,f=t.languageMaxmized;if(t.previewImageUrl,!e)return null;if(l)return null;var g=n!==tu,m=n===$l,w=m;return m||(w=h),i("div",null,r&&i(nB,{key:"js",textContent:r,name:"script",type:"text/javascript",nonce:"setupVisitorSideCustomJS"}),i(tB,{enableGa:a,windowTab:o,invitation:c,guid:d,chatStatus:s}),!p&&i(kt,{fallback:i("div",null)},i(It,{isShowError:!1},i(gW,null))),u&&g&&i(GF,{key:"chatwindow"},i(qF,null)),i(GF,{key:"invitation"},c&&c.type===gu&&i(hT,{id:"invitation",message:(c.agent?c.agent+": ":"")+c.message+"}",isHtml:!0,removeMessageWhenUnmount:!0}),c&&i(kt,{fallback:i("div",null)},i(It,{isShowError:!1},i(mW,null))),w&&i(fW,null),!m&&!w&&g&&i(hT,{id:"restoreChatWindow",message:f,removeMessageWhenUnmount:!0})),u&&i(XF,null))})),bW=function(t){var e=t.store;return i(rB,{getRender:ck},i(b,{store:e},i(wW,null)))},vW="$brandingName-container".replace("$brandingName",V.brandingNameLowerCase);pW=[function(t){var e=N.getElementById(vW),n=e||N.createElement("div");return e||(n.id=vW,N.body.appendChild(n)),l(i(bW,{store:t}),n),function(){n.innerHTML=""}},function(t){if(ph(t.getState()))return null;var e=null,n=null,i=function(){if(null===e){var n=t.getState(),i=Hv(n),o=K(zC,t);e=setInterval((function(){var t=Pa(i);o(t)}),1e3)}},o=function(){e&&clearInterval(e),n&&clearTimeout(n),e=null,n=null},a=t.getState(),r=t.subscribe((function(){var e=t.getState();if(hh(e)||gh(e))o();else if(!lh(a)&&lh(e)){if(hh(e))return;if(null==Hv(e))return;i(),n=setTimeout(o,1e3*Oh(e))}else lh(e)&&Ih(e)!==Ih(a)&&(o(),i(),n=setTimeout(o,1e3*Oh(e)));a=e}));return function(){r(),o()}},function(t){sk={},dk={},T.get=pk(function(t){return{"livechat.siteId":KC(t),"livechat.campaignIds":Jr,"livechat.isDynamicCampaign":YC(t),"livechat.isMobile":JC(t),"livechat.button.isVisible":QC(t),"livechat.button.status":ZC(t),"livechat.prechat.isSkip":XC(t),"livechat.prechat.fields":tk(bp,t),"livechat.postChat.fields":tk(vp,t),"livechat.offlineMessage.fields":tk(_p,t),"livechat.sideWindow.isVisible":$C(t),"livechat.sideWindow.tabs":nk(t),"livechat.visitor.guid":ik(t),"livechat.chat.maxMessageLength":ok(t),"livechat.sso.artifact":ek(t)}}(t)),T.set=pk(function(t){var e=UC(t),n=e(kx);return{"livechat.customVariables":function(e){void 0===e&&(e=[]),zC(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return void 0===e.value||(n[e.name]=""+e.value),n}),{}),!1)},"livechat.button.isVisible":function(e,i){void 0===i&&(i=vm(t.getState())),n(e,i)},"livechat.button.color":function(n,i){void 0===i&&(i=vm(t.getState())),e(Cx)({id:i,entity:{color:n}})},"livechat.prechat.isSkip":e(dx),"livechat.prechat.fields":ak(t,bp),"livechat.postChat.fields":ak(t,vp),"livechat.offlineMessage.fields":ak(t,_p),"livechat.sideWindow.isVisible":e(ky),"livechat.sideWindow.tabs":e(Iy),"livechat.chat.maxMessageLength":e(xx),"livechat.sso.artifact":e(wx),"livechat.chatWindow.color":function(n,i){void 0===i&&(i=vm(t.getState())),e(Sx)({id:i,entity:{mainColor:n}})},"livechat.sso.jwt":e(vx)}}(t)),T.do=pk(function(t){var e=UC(t),n=e(ax),i=e(sx),o=e(rx),a=e(HS),r=function(t){return e(K(CC,t))},s=function(e){return function(n){var i=cv(t.getState());i&&n===i.id&&e(vm(t.getState()))}},c=e(Q_,ex);function d(e,n,i){return function(){return new Promise((function(o,a){var r=t.getState();if(Gh(r)!==mp||Gf(r))return a("not_chatting");if(!v||!1===$f(r))return a("webrtc_not_supported");var s=ef(r);return e(r,s)?eg(r)?a("audio_video_chatting"):pg(r)?a("frequency_limited"):(t.dispatch(i()),o()):a(n)}))}}var l,u=d(Xm,"audio_not_enabled",tS),p=d($m,"video_not_enabled",eS);return{"livechat.button.click":function(e){return void 0===e&&(e=vm(t.getState())),c(e)},"livechat.invitation.accept":s(e(J_,ex)),"livechat.invitation.refuse":s(e(Z_)),"livechat.prechat.minimize":n,"livechat.chat.minimize":n,"livechat.postChat.minimize":n,"livechat.offlineMessage.minimize":n,"livechat.prechat.restore":i,"livechat.chat.restore":i,"livechat.postChat.restore":i,"livechat.offlineMessage.restore":i,"livechat.prechat.close":o,"livechat.chat.close":o,"livechat.postChat.close":o,"livechat.offlineMessage.close":o,"livechat.chat.endChat":a,"livechat.prechat.field.focus":r(bp),"livechat.postChat.field.focus":r(vp),"livechat.offlineMessage.field.focus":r(_p),"livechat.prechat.submit":rk(bp,t),"livechat.postChat.submit":rk(vp,t),"livechat.offlineMessage.submit":rk(_p,t),"livechat.sideWindow.tabs.click":e(Cy),"livechat.chat.audio.request":u,"livechat.chat.video.request":p,"livechat.pageVisit":e(QS),"livechat.invitation.show":(l=e(_C),function(e){var n=t.getState(),i=B_(n);Nf(n)||Cm(n)===Zl||Cm(n)===Xl||i===au||i===ou||i===lu||Vf(n)||l(e)}),"livechat.chat.visitor.sendText":function(e){jf(t.getState())&&t.dispatch(WS(e))}}}(t)),T.render=function(t,e){sk[t]=e},T.on=uk;var e=UC(t),n=function(){};GC("ban",e(j_)),GC("end_chat",e(HS)),GC("setIfSkipPrechat",e(dx));var i=K(uk,"livechat.invitation.display");GC("onBeforeImageInvitationDisplay",i),GC("onAfterImageInvitationDisplay",i);var o=K(uk,"livechat.chat.display");GC("onChatWindowLoadBegin",o),GC("onChatWindowLoaded",o),GC("setIfHideChatWindowLoadingAnimation",n),GC("onChatWindowStatusChanged",n);var a=e(Q_,ex);GC("open_chat_window",(function(e,n){return void 0===n&&(n=vm(t.getState())),a(n)})),GC("set_custom_variables",(function(e){return void 0===e&&(e=[]),zC(t,Array.prototype.reduce.call(e,(function(t,e){var n=t;return n[e.name]=""+e.value,n}),{}),!1)})),T.setCustomVariables=T.set_custom_variables;var r=t.getState(),s=t.subscribe((function(){if(!lh(r)){var e=t.getState();lh(e)&&(s(),function(){"function"==typeof Xr&&Xr(),T.onReady&&T.onReady!==Xr&&T.onReady();var t=T.onReady;Object.defineProperty(T,"onReady",{get:function(){return t},set:function(e){"function"==typeof e&&e(),t=e},configurable:!1})}()),r=e}}));return function(){delete T.get,delete T.set,delete T.do,delete T.render,delete T.on,s()}},function(t){var e=function(t){return t&&t.indexOf("landscape")>=0},n=function(){var e=t.getState(),n=qm(e),i=Hm(e),o=G(),a=vm(e),r=kw(e,a);o.width===n&&o.height===i||t.dispatch(lx(o,r))},i=function(){!function(){var t=V.screen,n=t.msOrientation||t.mozOrientation||t.orientation,i=typeof n;return"undefined"===i?"orientation"in V&&90===Math.abs(V.orientation):e("string"===i?n:n.type)}()?t.dispatch(hx()):t.dispatch(px())},o=$((function(){t.dispatch(ZS())}),500);V.addEventListener("resize",$(n,200)),V.addEventListener("orientationchange",$(i,50)),V.addEventListener("hashchange",o),V.addEventListener("popstate",o);var a=V.history.pushState,r=V.history.replaceState;return V.history.pushState=function(t,e,n){a.call(V.history,t,e,n),o()},V.history.replaceState=function(t,e,n){r.call(V.history,t,e,n),o()},n(),i(),function(){V.removeEventListener("resize",n),V.removeEventListener("orientationchange",i),V.removeEventListener("hashchange",o),V.addEventListener("popstate",o),V.history.pushState=a,V.history.replaceState=r}}];var _W=10,xW=[];function yW(t){xW.length>=_W&&xW.shift(),xW.push(t)}window.getStoredErrors=function(){return xW},function(t){return function(e,n,i,o){if(!T.loaded){T.loaded=!0,function(t){var e=t.length>0?t[t.length-1].div_id:null;if(e&&N.body&&!N.getElementById(e)){var n=N.getElementsByTagName("head")[0];if(n)for(var i=n.getElementsByTagName("script"),o=0;o<i.length;o+=1)if(new RegExp("var\\s+"+"$brandingNameAPI".replace("$brandingName",V.brandingName)).test(i[o].innerHTML)){var a=N.createElement("div");a.id=e,N.body.appendChild(a);break}}}(T.chat_buttons);var a=null,r=null,s=null;if(o)try{var c=JSON.parse(o);c.chatserver&&(a=W(c.chatserver)),c.fileservice&&(r=W(c.fileservice)),c.apiserver&&(s=W(c.apiserver))}catch(t){}window.store=t({siteId:Kr,chatGroup:Yr,mainCampaignId:os,campaignIds:Jr(),isDynamicCampaign:!!T.dynamic,serverUrl:{url:a||e,standbyUrl:n,vue:i,fileService:r,apiHost:s}});var d=N.getElementById(V.brandingNameLowerCase+"-iframe");d&&(d.contentDocument.documentElement.setAttribute("lang","en"),d.contentDocument.title=V.brandingName+" scripts")}}}((function(t){var e=t.siteId,n=t.chatGroup,i=t.mainCampaignId,o=t.campaignIds,a=t.isDynamicCampaign,r=t.serverUrl;Fb();var s,l=T.popout,u=function(t){return t?Object.assign({},So(t.planId,{type:t.chatSource,invitationId:t.invitationId},!1,t.ticketId,t.departmentId),{lastChattedAgents:Eb()}):null}(l),p=(s=l,Object.keys(s||{}).reduce((function(t,e){var n,i="CUSTOM!";return 0===e.indexOf(i)?Object.assign({},t,((n={})[e.substr(i.length)]=s[e],n)):t}),{})),h=function(t){if(t){var e=t.visitorGuid;if(e)return{guid:e}}return{guid:gb()}}(l);!function(t){t.guid&&mb(t.guid)}(h);var f,g=function(t){return t&&t.isStandbyServer?"standby":dh}(l),m=(f={app:{isReady:!1,isActive:!0,server:g,isPoppedOut:!!l,isOpenerExists:!!V.opener,banned:_b().isBanned,recoverFailTimes:0,isRecovering:!1,lastSuccessTime:0,isSoundOff:tv()||!1},page:{siteId:e,isDynamicCampaign:a,campaignId:a?eo:i,buttons:o.reduce((function(t,e){var n;return Object.assign({},t,((n={})[e]=!1,n))}),{}),platform:Ga(),chatGroup:n,visitor:h,windowStatus:tu,requestChatAction:u,popout:T.popout,visitorStatus:du},configuration:Object.assign({},r,{customVariableResult:p})},c(II,f,d(rs,NA)));return function(t){var e=pW.map((function(e){return e(t)}))}(m),m.dispatch(aC()),m}))(T.main,T.standby,T.vue,T.others),window.addEventListener("unhandledrejection",(function(t){yW(t.reason)})),window.addEventListener("error",(function(t){yW(t.error)}));export{Mw as $,gu as A,er as B,_h as C,ym as D,Wm as E,qm as F,Hm as G,vh as H,hB as I,Vh as J,Dv as K,tu as L,Q_ as M,ex as N,qA as O,UA as P,J_ as Q,RS as R,W_ as S,cA as T,sA as U,mu as V,hu as W,kw as X,Ev as Y,wu as Z,fw as _,oB as a,jp as a$,gg as a0,C_ as a1,xh as a2,Z_ as a3,cw as a4,Wj as a5,fT as a6,lT as a7,GP as a8,qP as a9,Fp as aA,Wp as aB,Vy as aC,Px as aD,ip as aE,Dy as aF,sC as aG,ty as aH,GB as aI,$l as aJ,jb as aK,Pb as aL,mp as aM,gB as aN,lw as aO,lB as aP,tr as aQ,sw as aR,rw as aS,y_ as aT,S_ as aU,lC as aV,pC as aW,Cg as aX,Gy as aY,og as aZ,$_ as a_,hT as aa,vm as ab,vg as ac,Fm as ad,p_ as ae,Ww as af,Nw as ag,Iw as ah,Rv as ai,ef as aj,Cf as ak,xg as al,yg as am,Sg as an,ph as ao,ng as ap,Xf as aq,Nm as ar,rf as as,k_ as at,Og as au,Ow as av,Bf as aw,_g as ax,$g as ay,tx as az,le as b,kf as b$,Pp as b0,Bp as b1,Tp as b2,Np as b3,Vp as b4,Dp as b5,Mf as b6,ig as b7,bg as b8,tg as b9,uT as bA,iP as bB,eg as bC,pg as bD,$f as bE,Nh as bF,l_ as bG,tS as bH,eS as bI,sm as bJ,AS as bK,af as bL,tf as bM,Bv as bN,Pv as bO,Wf as bP,Zm as bQ,Gf as bR,Yh as bS,uf as bT,Aw as bU,Uv as bV,Gv as bW,Ff as bX,_f as bY,Ah as bZ,Bh as b_,fg as ba,Gh as bb,fh as bc,$h as bd,sh as be,Cy as bf,wC as bg,cx as bh,ax as bi,HS as bj,X_ as bk,rx as bl,ep as bm,XT as bn,lr as bo,Nr as bp,lP as bq,Ap as br,wp as bs,uP as bt,Fr as bu,Ir as bv,Ip as bw,pP as bx,Mp as by,Ya as bz,rA as c,fa as c$,Th as c0,sf as c1,jf as c2,nw as c3,Vv as c4,Dg as c5,Vw as c6,Ex as c7,zx as c8,cy as c9,zv as cA,Wg as cB,Ng as cC,Hy as cD,ay as cE,nS as cF,Ly as cG,oy as cH,AO as cI,jA as cJ,km as cK,PA as cL,Vg as cM,vC as cN,BA as cO,TA as cP,yh as cQ,bC as cR,AA as cS,Sh as cT,YS as cU,KI as cV,LI as cW,HI as cX,YI as cY,GI as cZ,pa as c_,Qx as ca,dy as cb,vy as cc,ey as cd,$y as ce,iS as cf,lf as cg,Xm as ch,$m as ci,tw as cj,fv as ck,ia as cl,aa as cm,$i as cn,qo as co,Ha as cp,ea as cq,Aj as cr,Ho as cs,Go as ct,Uo as cu,Zo as cv,$o as cw,Xo as cx,na as cy,Qv as cz,Mu as d,mj as d$,ha as d0,ca as d1,da as d2,la as d3,ua as d4,Ua as d5,qv as d6,pS as d7,MF as d8,ry as d9,En as dA,Gn as dB,Qn as dC,Jn as dD,Un as dE,fr as dF,Af as dG,$v as dH,Ag as dI,Lv as dJ,ag as dK,Pm as dL,hk as dM,gk as dN,vk as dO,mk as dP,_k as dQ,dw as dR,BF as dS,xr as dT,ge as dU,mB as dV,sb as dW,Pj as dX,MT as dY,Oe as dZ,wj as d_,Qh as da,Zh as db,_x as dc,tC as dd,SF as de,uS as df,IF as dg,Fg as dh,OF as di,kF as dj,CF as dk,UI as dl,qI as dm,df as dn,Yg as dp,JS as dq,DS as dr,$u as ds,cS as dt,lS as du,cf as dv,Ym as dw,KS as dx,Xu as dy,Of as dz,lk as e,ba as e$,PT as e0,pj as e1,Hh as e2,zh as e3,Lh as e4,eo as e5,rb as e6,Gr as e7,up as e8,eh as e9,zn as eA,Ui as eB,Vj as eC,aw as eD,ow as eE,Jg as eF,Qf as eG,zS as eH,Ns as eI,Ty as eJ,Tf as eK,hg as eL,Qm as eM,LS as eN,wT as eO,ZP as eP,sr as eQ,pe as eR,he as eS,Za as eT,fe as eU,ue as eV,de as eW,Ja as eX,_a as eY,va as eZ,xa as e_,Qp as ea,Xp as eb,$p as ec,Yp as ed,Gp as ee,qp as ef,Jp as eg,Rp as eh,Ep as ei,zp as ej,Lp as ek,Hp as el,Up as em,th as en,Kp as eo,Zp as ep,nh as eq,QB as er,wk as es,fk as et,bk as eu,xk as ev,qn as ew,Yi as ex,Dn as ey,Ln as ez,Iu as f,ga as f0,wa as f1,Hf as f2,Lf as f3,cg as f4,sg as f5,lg as f6,yy as f7,nC as f8,_y as f9,xy as fa,Sy as fb,ka as fc,Ca as fd,Sa as fe,Ma as ff,Ia as fg,am as fh,rm as fi,em as fj,MS as fk,iC as fl,jS as fm,OS as fn,TS as fo,PS as fp,aW as fq,$a as g,WB as h,ku as i,Cm as j,xm as k,EB as l,Su as m,Em as n,u_ as o,bh as p,rg as q,KA as r,ZA as s,Cu as t,Fv as u,$A as v,Ih as w,Mh as x,Oh as y,cv as z};
